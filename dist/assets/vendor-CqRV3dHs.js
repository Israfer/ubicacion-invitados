function G0(d,h){for(var c=0;c<h.length;c++){const m=h[c];if(typeof m!="string"&&!Array.isArray(m)){for(const E in m)if(E!=="default"&&!(E in d)){const w=Object.getOwnPropertyDescriptor(m,E);w&&Object.defineProperty(d,E,w.get?w:{enumerable:!0,get:()=>m[E]})}}}return Object.freeze(Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}))}var Fa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bu(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}var Eu={exports:{}},No={},Cu={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B1;function X0(){if(B1)return $e;B1=1;var d=Symbol.for("react.element"),h=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),v=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),S=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),b=Symbol.iterator;function le(k){return k===null||typeof k!="object"?null:(k=b&&k[b]||k["@@iterator"],typeof k=="function"?k:null)}var ge={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ue=Object.assign,Q={};function q(k,J,pe){this.props=k,this.context=J,this.refs=Q,this.updater=pe||ge}q.prototype.isReactComponent={},q.prototype.setState=function(k,J){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,J,"setState")},q.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function Fe(){}Fe.prototype=q.prototype;function Se(k,J,pe){this.props=k,this.context=J,this.refs=Q,this.updater=pe||ge}var de=Se.prototype=new Fe;de.constructor=Se,ue(de,q.prototype),de.isPureReactComponent=!0;var Ne=Array.isArray,nt=Object.prototype.hasOwnProperty,De={current:null},$={key:!0,ref:!0,__self:!0,__source:!0};function Ue(k,J,pe){var Ge,Me={},dt=null,ce=null;if(J!=null)for(Ge in J.ref!==void 0&&(ce=J.ref),J.key!==void 0&&(dt=""+J.key),J)nt.call(J,Ge)&&!$.hasOwnProperty(Ge)&&(Me[Ge]=J[Ge]);var lt=arguments.length-2;if(lt===1)Me.children=pe;else if(1<lt){for(var Pe=Array(lt),Xt=0;Xt<lt;Xt++)Pe[Xt]=arguments[Xt+2];Me.children=Pe}if(k&&k.defaultProps)for(Ge in lt=k.defaultProps,lt)Me[Ge]===void 0&&(Me[Ge]=lt[Ge]);return{$$typeof:d,type:k,key:dt,ref:ce,props:Me,_owner:De.current}}function re(k,J){return{$$typeof:d,type:k.type,key:J,ref:k.ref,props:k.props,_owner:k._owner}}function mn(k){return typeof k=="object"&&k!==null&&k.$$typeof===d}function kt(k){var J={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(pe){return J[pe]})}var Oe=/\/+/g;function We(k,J){return typeof k=="object"&&k!==null&&k.key!=null?kt(""+k.key):J.toString(36)}function ft(k,J,pe,Ge,Me){var dt=typeof k;(dt==="undefined"||dt==="boolean")&&(k=null);var ce=!1;if(k===null)ce=!0;else switch(dt){case"string":case"number":ce=!0;break;case"object":switch(k.$$typeof){case d:case h:ce=!0}}if(ce)return ce=k,Me=Me(ce),k=Ge===""?"."+We(ce,0):Ge,Ne(Me)?(pe="",k!=null&&(pe=k.replace(Oe,"$&/")+"/"),ft(Me,J,pe,"",function(Xt){return Xt})):Me!=null&&(mn(Me)&&(Me=re(Me,pe+(!Me.key||ce&&ce.key===Me.key?"":(""+Me.key).replace(Oe,"$&/")+"/")+k)),J.push(Me)),1;if(ce=0,Ge=Ge===""?".":Ge+":",Ne(k))for(var lt=0;lt<k.length;lt++){dt=k[lt];var Pe=Ge+We(dt,lt);ce+=ft(dt,J,pe,Pe,Me)}else if(Pe=le(k),typeof Pe=="function")for(k=Pe.call(k),lt=0;!(dt=k.next()).done;)dt=dt.value,Pe=Ge+We(dt,lt++),ce+=ft(dt,J,pe,Pe,Me);else if(dt==="object")throw J=String(k),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return ce}function Y(k,J,pe){if(k==null)return k;var Ge=[],Me=0;return ft(k,Ge,"","",function(dt){return J.call(pe,dt,Me++)}),Ge}function it(k){if(k._status===-1){var J=k._result;J=J(),J.then(function(pe){(k._status===0||k._status===-1)&&(k._status=1,k._result=pe)},function(pe){(k._status===0||k._status===-1)&&(k._status=2,k._result=pe)}),k._status===-1&&(k._status=0,k._result=J)}if(k._status===1)return k._result.default;throw k._result}var Ae={current:null},he={transition:null},ve={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:he,ReactCurrentOwner:De};return $e.Children={map:Y,forEach:function(k,J,pe){Y(k,function(){J.apply(this,arguments)},pe)},count:function(k){var J=0;return Y(k,function(){J++}),J},toArray:function(k){return Y(k,function(J){return J})||[]},only:function(k){if(!mn(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},$e.Component=q,$e.Fragment=c,$e.Profiler=E,$e.PureComponent=Se,$e.StrictMode=m,$e.Suspense=F,$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ve,$e.cloneElement=function(k,J,pe){if(k==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+k+".");var Ge=ue({},k.props),Me=k.key,dt=k.ref,ce=k._owner;if(J!=null){if(J.ref!==void 0&&(dt=J.ref,ce=De.current),J.key!==void 0&&(Me=""+J.key),k.type&&k.type.defaultProps)var lt=k.type.defaultProps;for(Pe in J)nt.call(J,Pe)&&!$.hasOwnProperty(Pe)&&(Ge[Pe]=J[Pe]===void 0&&lt!==void 0?lt[Pe]:J[Pe])}var Pe=arguments.length-2;if(Pe===1)Ge.children=pe;else if(1<Pe){lt=Array(Pe);for(var Xt=0;Xt<Pe;Xt++)lt[Xt]=arguments[Xt+2];Ge.children=lt}return{$$typeof:d,type:k.type,key:Me,ref:dt,props:Ge,_owner:ce}},$e.createContext=function(k){return k={$$typeof:v,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},k.Provider={$$typeof:w,_context:k},k.Consumer=k},$e.createElement=Ue,$e.createFactory=function(k){var J=Ue.bind(null,k);return J.type=k,J},$e.createRef=function(){return{current:null}},$e.forwardRef=function(k){return{$$typeof:M,render:k}},$e.isValidElement=mn,$e.lazy=function(k){return{$$typeof:D,_payload:{_status:-1,_result:k},_init:it}},$e.memo=function(k,J){return{$$typeof:S,type:k,compare:J===void 0?null:J}},$e.startTransition=function(k){var J=he.transition;he.transition={};try{k()}finally{he.transition=J}},$e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},$e.useCallback=function(k,J){return Ae.current.useCallback(k,J)},$e.useContext=function(k){return Ae.current.useContext(k)},$e.useDebugValue=function(){},$e.useDeferredValue=function(k){return Ae.current.useDeferredValue(k)},$e.useEffect=function(k,J){return Ae.current.useEffect(k,J)},$e.useId=function(){return Ae.current.useId()},$e.useImperativeHandle=function(k,J,pe){return Ae.current.useImperativeHandle(k,J,pe)},$e.useInsertionEffect=function(k,J){return Ae.current.useInsertionEffect(k,J)},$e.useLayoutEffect=function(k,J){return Ae.current.useLayoutEffect(k,J)},$e.useMemo=function(k,J){return Ae.current.useMemo(k,J)},$e.useReducer=function(k,J,pe){return Ae.current.useReducer(k,J,pe)},$e.useRef=function(k){return Ae.current.useRef(k)},$e.useState=function(k){return Ae.current.useState(k)},$e.useSyncExternalStore=function(k,J,pe){return Ae.current.useSyncExternalStore(k,J,pe)},$e.useTransition=function(){return Ae.current.useTransition()},$e.version="18.2.0",$e}var P1;function Pu(){return P1||(P1=1,Cu.exports=X0()),Cu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F1;function Y0(){if(F1)return No;F1=1;var d=Pu(),h=Symbol.for("react.element"),c=Symbol.for("react.fragment"),m=Object.prototype.hasOwnProperty,E=d.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,w={key:!0,ref:!0,__self:!0,__source:!0};function v(M,F,S){var D,b={},le=null,ge=null;S!==void 0&&(le=""+S),F.key!==void 0&&(le=""+F.key),F.ref!==void 0&&(ge=F.ref);for(D in F)m.call(F,D)&&!w.hasOwnProperty(D)&&(b[D]=F[D]);if(M&&M.defaultProps)for(D in F=M.defaultProps,F)b[D]===void 0&&(b[D]=F[D]);return{$$typeof:h,type:M,key:le,ref:ge,props:b,_owner:E.current}}return No.Fragment=c,No.jsx=v,No.jsxs=v,No}var U1;function Z0(){return U1||(U1=1,Eu.exports=Y0()),Eu.exports}var mg=Z0(),Q0=Pu();const wg=Bu(Q0);var Ua={},Au={exports:{}},Un={},Su={exports:{}},Iu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z1;function K0(){return z1||(z1=1,function(d){function h(he,ve){var k=he.length;he.push(ve);e:for(;0<k;){var J=k-1>>>1,pe=he[J];if(0<E(pe,ve))he[J]=ve,he[k]=pe,k=J;else break e}}function c(he){return he.length===0?null:he[0]}function m(he){if(he.length===0)return null;var ve=he[0],k=he.pop();if(k!==ve){he[0]=k;e:for(var J=0,pe=he.length,Ge=pe>>>1;J<Ge;){var Me=2*(J+1)-1,dt=he[Me],ce=Me+1,lt=he[ce];if(0>E(dt,k))ce<pe&&0>E(lt,dt)?(he[J]=lt,he[ce]=k,J=ce):(he[J]=dt,he[Me]=k,J=Me);else if(ce<pe&&0>E(lt,k))he[J]=lt,he[ce]=k,J=ce;else break e}}return ve}function E(he,ve){var k=he.sortIndex-ve.sortIndex;return k!==0?k:he.id-ve.id}if(typeof performance=="object"&&typeof performance.now=="function"){var w=performance;d.unstable_now=function(){return w.now()}}else{var v=Date,M=v.now();d.unstable_now=function(){return v.now()-M}}var F=[],S=[],D=1,b=null,le=3,ge=!1,ue=!1,Q=!1,q=typeof setTimeout=="function"?setTimeout:null,Fe=typeof clearTimeout=="function"?clearTimeout:null,Se=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function de(he){for(var ve=c(S);ve!==null;){if(ve.callback===null)m(S);else if(ve.startTime<=he)m(S),ve.sortIndex=ve.expirationTime,h(F,ve);else break;ve=c(S)}}function Ne(he){if(Q=!1,de(he),!ue)if(c(F)!==null)ue=!0,it(nt);else{var ve=c(S);ve!==null&&Ae(Ne,ve.startTime-he)}}function nt(he,ve){ue=!1,Q&&(Q=!1,Fe(Ue),Ue=-1),ge=!0;var k=le;try{for(de(ve),b=c(F);b!==null&&(!(b.expirationTime>ve)||he&&!kt());){var J=b.callback;if(typeof J=="function"){b.callback=null,le=b.priorityLevel;var pe=J(b.expirationTime<=ve);ve=d.unstable_now(),typeof pe=="function"?b.callback=pe:b===c(F)&&m(F),de(ve)}else m(F);b=c(F)}if(b!==null)var Ge=!0;else{var Me=c(S);Me!==null&&Ae(Ne,Me.startTime-ve),Ge=!1}return Ge}finally{b=null,le=k,ge=!1}}var De=!1,$=null,Ue=-1,re=5,mn=-1;function kt(){return!(d.unstable_now()-mn<re)}function Oe(){if($!==null){var he=d.unstable_now();mn=he;var ve=!0;try{ve=$(!0,he)}finally{ve?We():(De=!1,$=null)}}else De=!1}var We;if(typeof Se=="function")We=function(){Se(Oe)};else if(typeof MessageChannel<"u"){var ft=new MessageChannel,Y=ft.port2;ft.port1.onmessage=Oe,We=function(){Y.postMessage(null)}}else We=function(){q(Oe,0)};function it(he){$=he,De||(De=!0,We())}function Ae(he,ve){Ue=q(function(){he(d.unstable_now())},ve)}d.unstable_IdlePriority=5,d.unstable_ImmediatePriority=1,d.unstable_LowPriority=4,d.unstable_NormalPriority=3,d.unstable_Profiling=null,d.unstable_UserBlockingPriority=2,d.unstable_cancelCallback=function(he){he.callback=null},d.unstable_continueExecution=function(){ue||ge||(ue=!0,it(nt))},d.unstable_forceFrameRate=function(he){0>he||125<he?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<he?Math.floor(1e3/he):5},d.unstable_getCurrentPriorityLevel=function(){return le},d.unstable_getFirstCallbackNode=function(){return c(F)},d.unstable_next=function(he){switch(le){case 1:case 2:case 3:var ve=3;break;default:ve=le}var k=le;le=ve;try{return he()}finally{le=k}},d.unstable_pauseExecution=function(){},d.unstable_requestPaint=function(){},d.unstable_runWithPriority=function(he,ve){switch(he){case 1:case 2:case 3:case 4:case 5:break;default:he=3}var k=le;le=he;try{return ve()}finally{le=k}},d.unstable_scheduleCallback=function(he,ve,k){var J=d.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?J+k:J):k=J,he){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=k+pe,he={id:D++,callback:ve,priorityLevel:he,startTime:k,expirationTime:pe,sortIndex:-1},k>J?(he.sortIndex=k,h(S,he),c(F)===null&&he===c(S)&&(Q?(Fe(Ue),Ue=-1):Q=!0,Ae(Ne,k-J))):(he.sortIndex=pe,h(F,he),ue||ge||(ue=!0,it(nt))),he},d.unstable_shouldYield=kt,d.unstable_wrapCallback=function(he){var ve=le;return function(){var k=le;le=ve;try{return he.apply(this,arguments)}finally{le=k}}}}(Iu)),Iu}var j1;function q0(){return j1||(j1=1,Su.exports=K0()),Su.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H1;function J0(){if(H1)return Un;H1=1;var d=Pu(),h=q0();function c(t){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+t,l=1;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var m=new Set,E={};function w(t,i){v(t,i),v(t+"Capture",i)}function v(t,i){for(E[t]=i,t=0;t<i.length;t++)m.add(i[t])}var M=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),F=Object.prototype.hasOwnProperty,S=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,D={},b={};function le(t){return F.call(b,t)?!0:F.call(D,t)?!1:S.test(t)?b[t]=!0:(D[t]=!0,!1)}function ge(t,i,l,f){if(l!==null&&l.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return f?!1:l!==null?!l.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ue(t,i,l,f){if(i===null||typeof i>"u"||ge(t,i,l,f))return!0;if(f)return!1;if(l!==null)switch(l.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function Q(t,i,l,f,x,y,T){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=f,this.attributeNamespace=x,this.mustUseProperty=l,this.propertyName=t,this.type=i,this.sanitizeURL=y,this.removeEmptyString=T}var q={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){q[t]=new Q(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var i=t[0];q[i]=new Q(i,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){q[t]=new Q(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){q[t]=new Q(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){q[t]=new Q(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){q[t]=new Q(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){q[t]=new Q(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){q[t]=new Q(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){q[t]=new Q(t,5,!1,t.toLowerCase(),null,!1,!1)});var Fe=/[\-:]([a-z])/g;function Se(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var i=t.replace(Fe,Se);q[i]=new Q(i,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var i=t.replace(Fe,Se);q[i]=new Q(i,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var i=t.replace(Fe,Se);q[i]=new Q(i,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){q[t]=new Q(t,1,!1,t.toLowerCase(),null,!1,!1)}),q.xlinkHref=new Q("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){q[t]=new Q(t,1,!1,t.toLowerCase(),null,!0,!0)});function de(t,i,l,f){var x=q.hasOwnProperty(i)?q[i]:null;(x!==null?x.type!==0:f||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(ue(i,l,x,f)&&(l=null),f||x===null?le(i)&&(l===null?t.removeAttribute(i):t.setAttribute(i,""+l)):x.mustUseProperty?t[x.propertyName]=l===null?x.type===3?!1:"":l:(i=x.attributeName,f=x.attributeNamespace,l===null?t.removeAttribute(i):(x=x.type,l=x===3||x===4&&l===!0?"":""+l,f?t.setAttributeNS(f,i,l):t.setAttribute(i,l))))}var Ne=d.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,nt=Symbol.for("react.element"),De=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),Ue=Symbol.for("react.strict_mode"),re=Symbol.for("react.profiler"),mn=Symbol.for("react.provider"),kt=Symbol.for("react.context"),Oe=Symbol.for("react.forward_ref"),We=Symbol.for("react.suspense"),ft=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),it=Symbol.for("react.lazy"),Ae=Symbol.for("react.offscreen"),he=Symbol.iterator;function ve(t){return t===null||typeof t!="object"?null:(t=he&&t[he]||t["@@iterator"],typeof t=="function"?t:null)}var k=Object.assign,J;function pe(t){if(J===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);J=i&&i[1]||""}return`
`+J+t}var Ge=!1;function Me(t,i){if(!t||Ge)return"";Ge=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(X){var f=X}Reflect.construct(t,[],i)}else{try{i.call()}catch(X){f=X}t.call(i.prototype)}else{try{throw Error()}catch(X){f=X}t()}}catch(X){if(X&&f&&typeof X.stack=="string"){for(var x=X.stack.split(`
`),y=f.stack.split(`
`),T=x.length-1,R=y.length-1;1<=T&&0<=R&&x[T]!==y[R];)R--;for(;1<=T&&0<=R;T--,R--)if(x[T]!==y[R]){if(T!==1||R!==1)do if(T--,R--,0>R||x[T]!==y[R]){var B=`
`+x[T].replace(" at new "," at ");return t.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",t.displayName)),B}while(1<=T&&0<=R);break}}}finally{Ge=!1,Error.prepareStackTrace=l}return(t=t?t.displayName||t.name:"")?pe(t):""}function dt(t){switch(t.tag){case 5:return pe(t.type);case 16:return pe("Lazy");case 13:return pe("Suspense");case 19:return pe("SuspenseList");case 0:case 2:case 15:return t=Me(t.type,!1),t;case 11:return t=Me(t.type.render,!1),t;case 1:return t=Me(t.type,!0),t;default:return""}}function ce(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case De:return"Portal";case re:return"Profiler";case Ue:return"StrictMode";case We:return"Suspense";case ft:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case kt:return(t.displayName||"Context")+".Consumer";case mn:return(t._context.displayName||"Context")+".Provider";case Oe:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Y:return i=t.displayName||null,i!==null?i:ce(t.type)||"Memo";case it:i=t._payload,t=t._init;try{return ce(t(i))}catch{}}return null}function lt(t){var i=t.type;switch(t.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=i.render,t=t.displayName||t.name||"",i.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(i);case 8:return i===Ue?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Pe(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Xt(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ri(t){var i=Xt(t)?"checked":"value",l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),f=""+t[i];if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var x=l.get,y=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return x.call(this)},set:function(T){f=""+T,y.call(this,T)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return f},setValue:function(T){f=""+T},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Kt(t){t._valueTracker||(t._valueTracker=Ri(t))}function Mi(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var l=i.getValue(),f="";return t&&(f=Xt(t)?t.checked?"true":"false":t.value),t=f,t!==l?(i.setValue(t),!0):!1}function et(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Nr(t,i){var l=i.checked;return k({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??t._wrapperState.initialChecked})}function jn(t,i){var l=i.defaultValue==null?"":i.defaultValue,f=i.checked!=null?i.checked:i.defaultChecked;l=Pe(i.value!=null?i.value:l),t._wrapperState={initialChecked:f,initialValue:l,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function ei(t,i){i=i.checked,i!=null&&de(t,"checked",i,!1)}function zt(t,i){ei(t,i);var l=Pe(i.value),f=i.type;if(l!=null)f==="number"?(l===0&&t.value===""||t.value!=l)&&(t.value=""+l):t.value!==""+l&&(t.value=""+l);else if(f==="submit"||f==="reset"){t.removeAttribute("value");return}i.hasOwnProperty("value")?qe(t,i.type,l):i.hasOwnProperty("defaultValue")&&qe(t,i.type,Pe(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(t.defaultChecked=!!i.defaultChecked)}function pt(t,i,l){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var f=i.type;if(!(f!=="submit"&&f!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+t._wrapperState.initialValue,l||i===t.value||(t.value=i),t.defaultValue=i}l=t.name,l!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,l!==""&&(t.name=l)}function qe(t,i,l){(i!=="number"||et(t.ownerDocument)!==t)&&(l==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+l&&(t.defaultValue=""+l))}var vr=Array.isArray;function we(t,i,l,f){if(t=t.options,i){i={};for(var x=0;x<l.length;x++)i["$"+l[x]]=!0;for(l=0;l<t.length;l++)x=i.hasOwnProperty("$"+t[l].value),t[l].selected!==x&&(t[l].selected=x),x&&f&&(t[l].defaultSelected=!0)}else{for(l=""+Pe(l),i=null,x=0;x<t.length;x++){if(t[x].value===l){t[x].selected=!0,f&&(t[x].defaultSelected=!0);return}i!==null||t[x].disabled||(i=t[x])}i!==null&&(i.selected=!0)}}function ti(t,i){if(i.dangerouslySetInnerHTML!=null)throw Error(c(91));return k({},i,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Fs(t,i){var l=i.value;if(l==null){if(l=i.children,i=i.defaultValue,l!=null){if(i!=null)throw Error(c(92));if(vr(l)){if(1<l.length)throw Error(c(93));l=l[0]}i=l}i==null&&(i=""),l=i}t._wrapperState={initialValue:Pe(l)}}function rr(t,i){var l=Pe(i.value),f=Pe(i.defaultValue);l!=null&&(l=""+l,l!==t.value&&(t.value=l),i.defaultValue==null&&t.defaultValue!==l&&(t.defaultValue=l)),f!=null&&(t.defaultValue=""+f)}function os(t){var i=t.textContent;i===t._wrapperState.initialValue&&i!==""&&i!==null&&(t.value=i)}function Rn(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function as(t,i){return t==null||t==="http://www.w3.org/1999/xhtml"?Rn(i):t==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Hn,sn=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,l,f,x){MSApp.execUnsafeLocalFunction(function(){return t(i,l,f,x)})}:t}(function(t,i){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=i;else{for(Hn=Hn||document.createElement("div"),Hn.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Hn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;i.firstChild;)t.appendChild(i.firstChild)}});function ni(t,i){if(i){var l=t.firstChild;if(l&&l===t.lastChild&&l.nodeType===3){l.nodeValue=i;return}}t.textContent=i}var _r={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$a=["Webkit","ms","Moz","O"];Object.keys(_r).forEach(function(t){$a.forEach(function(i){i=i+t.charAt(0).toUpperCase()+t.substring(1),_r[i]=_r[t]})});function Mt(t,i,l){return i==null||typeof i=="boolean"||i===""?"":l||typeof i!="number"||i===0||_r.hasOwnProperty(t)&&_r[t]?(""+i).trim():i+"px"}function fe(t,i){t=t.style;for(var l in i)if(i.hasOwnProperty(l)){var f=l.indexOf("--")===0,x=Mt(l,i[l],f);l==="float"&&(l="cssFloat"),f?t.setProperty(l,x):t[l]=x}}var jt=k({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ut(t,i){if(i){if(jt[t]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(c(137,t));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(c(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(c(61))}if(i.style!=null&&typeof i.style!="object")throw Error(c(62))}}function Ct(t,i){if(t.indexOf("-")===-1)return typeof i.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ur=null;function Di(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ls=null,Ke=null,Mn=null;function Us(t){if(t=co(t)){if(typeof ls!="function")throw Error(c(280));var i=t.stateNode;i&&(i=$o(i),ls(t.stateNode,t.type,i))}}function zs(t){Ke?Mn?Mn.push(t):Mn=[t]:Ke=t}function Dn(){if(Ke){var t=Ke,i=Mn;if(Mn=Ke=null,Us(t),i)for(t=0;t<i.length;t++)Us(i[t])}}function us(t,i){return t(i)}function qt(){}var Or=!1;function bi(t,i,l){if(Or)return t(i,l);Or=!0;try{return us(t,i,l)}finally{Or=!1,(Ke!==null||Mn!==null)&&(qt(),Dn())}}function wn(t,i){var l=t.stateNode;if(l===null)return null;var f=$o(l);if(f===null)return null;l=f[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(t=t.type,f=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!f;break e;default:t=!1}if(t)return null;if(l&&typeof l!="function")throw Error(c(231,i,typeof l));return l}var js=!1;if(M)try{var Vn={};Object.defineProperty(Vn,"passive",{get:function(){js=!0}}),window.addEventListener("test",Vn,Vn),window.removeEventListener("test",Vn,Vn)}catch{js=!1}function Hs(t,i,l,f,x,y,T,R,B){var X=Array.prototype.slice.call(arguments,3);try{i.apply(l,X)}catch(ne){this.onError(ne)}}var Yt=!1,ir=null,fn=!1,xe=null,ri={onError:function(t){Yt=!0,ir=t}};function Vs(t,i,l,f,x,y,T,R,B){Yt=!1,ir=null,Hs.apply(ri,arguments)}function yn(t,i,l,f,x,y,T,R,B){if(Vs.apply(this,arguments),Yt){if(Yt){var X=ir;Yt=!1,ir=null}else throw Error(c(198));fn||(fn=!0,xe=X)}}function bn(t){var i=t,l=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,i.flags&4098&&(l=i.return),t=i.return;while(t)}return i.tag===3?l:null}function Li(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function ki(t){if(bn(t)!==t)throw Error(c(188))}function sr(t){var i=t.alternate;if(!i){if(i=bn(t),i===null)throw Error(c(188));return i!==t?null:t}for(var l=t,f=i;;){var x=l.return;if(x===null)break;var y=x.alternate;if(y===null){if(f=x.return,f!==null){l=f;continue}break}if(x.child===y.child){for(y=x.child;y;){if(y===l)return ki(x),t;if(y===f)return ki(x),i;y=y.sibling}throw Error(c(188))}if(l.return!==f.return)l=x,f=y;else{for(var T=!1,R=x.child;R;){if(R===l){T=!0,l=x,f=y;break}if(R===f){T=!0,f=x,l=y;break}R=R.sibling}if(!T){for(R=y.child;R;){if(R===l){T=!0,l=y,f=x;break}if(R===f){T=!0,f=y,l=x;break}R=R.sibling}if(!T)throw Error(c(189))}}if(l.alternate!==f)throw Error(c(190))}if(l.tag!==3)throw Error(c(188));return l.stateNode.current===l?t:i}function Do(t){return t=sr(t),t!==null?bo(t):null}function bo(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var i=bo(t);if(i!==null)return i;t=t.sibling}return null}var Wn=h.unstable_scheduleCallback,on=h.unstable_cancelCallback,At=h.unstable_shouldYield,Lo=h.unstable_requestPaint,ht=h.unstable_now,Ws=h.unstable_getCurrentPriorityLevel,K=h.unstable_ImmediatePriority,ko=h.unstable_UserBlockingPriority,yt=h.unstable_NormalPriority,ii=h.unstable_LowPriority,Bo=h.unstable_IdlePriority,rt=null,Xe=null;function Je(t){if(Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(rt,t,void 0,(t.current.flags&128)===128)}catch{}}var vn=Math.clz32?Math.clz32:Ht,Gs=Math.log,Xs=Math.LN2;function Ht(t){return t>>>=0,t===0?32:31-(Gs(t)/Xs|0)|0}var Gn=64,cs=4194304;function Et(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Xn(t,i){var l=t.pendingLanes;if(l===0)return 0;var f=0,x=t.suspendedLanes,y=t.pingedLanes,T=l&268435455;if(T!==0){var R=T&~x;R!==0?f=Et(R):(y&=T,y!==0&&(f=Et(y)))}else T=l&~x,T!==0?f=Et(T):y!==0&&(f=Et(y));if(f===0)return 0;if(i!==0&&i!==f&&!(i&x)&&(x=f&-f,y=i&-i,x>=y||x===16&&(y&4194240)!==0))return i;if(f&4&&(f|=l&16),i=t.entangledLanes,i!==0)for(t=t.entanglements,i&=f;0<i;)l=31-vn(i),x=1<<l,f|=t[l],i&=~x;return f}function el(t,i){switch(t){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function si(t,i){for(var l=t.suspendedLanes,f=t.pingedLanes,x=t.expirationTimes,y=t.pendingLanes;0<y;){var T=31-vn(y),R=1<<T,B=x[T];B===-1?(!(R&l)||R&f)&&(x[T]=el(R,i)):B<=i&&(t.expiredLanes|=R),y&=~R}}function gt(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Jt(){var t=Gn;return Gn<<=1,!(Gn&4194240)&&(Gn=64),t}function j(t){for(var i=[],l=0;31>l;l++)i.push(t);return i}function _(t,i,l){t.pendingLanes|=i,i!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,i=31-vn(i),t[i]=l}function _e(t,i){var l=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;var f=t.eventTimes;for(t=t.expirationTimes;0<l;){var x=31-vn(l),y=1<<x;i[x]=0,f[x]=-1,t[x]=-1,l&=~y}}function Bt(t,i){var l=t.entangledLanes|=i;for(t=t.entanglements;l;){var f=31-vn(l),x=1<<f;x&i|t[f]&i&&(t[f]|=i),l&=~x}}var Ye=0;function Po(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var fs,En,Re,St,Ys,Zs=!1,oi=[],Yn=null,or=null,Rr=null,Ot=new Map,pr=new Map,dn=[],Be="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fo(t,i){switch(t){case"focusin":case"focusout":Yn=null;break;case"dragenter":case"dragleave":or=null;break;case"mouseover":case"mouseout":Rr=null;break;case"pointerover":case"pointerout":Ot.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":pr.delete(i.pointerId)}}function je(t,i,l,f,x,y){return t===null||t.nativeEvent!==y?(t={blockedOn:i,domEventName:l,eventSystemFlags:f,nativeEvent:y,targetContainers:[x]},i!==null&&(i=co(i),i!==null&&En(i)),t):(t.eventSystemFlags|=f,i=t.targetContainers,x!==null&&i.indexOf(x)===-1&&i.push(x),t)}function $t(t,i,l,f,x){switch(i){case"focusin":return Yn=je(Yn,t,i,l,f,x),!0;case"dragenter":return or=je(or,t,i,l,f,x),!0;case"mouseover":return Rr=je(Rr,t,i,l,f,x),!0;case"pointerover":var y=x.pointerId;return Ot.set(y,je(Ot.get(y)||null,t,i,l,f,x)),!0;case"gotpointercapture":return y=x.pointerId,pr.set(y,je(pr.get(y)||null,t,i,l,f,x)),!0}return!1}function Uo(t){var i=Gi(t.target);if(i!==null){var l=bn(i);if(l!==null){if(i=l.tag,i===13){if(i=Li(l),i!==null){t.blockedOn=i,Ys(t.priority,function(){Re(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){t.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ai(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var l=ds(t.domEventName,t.eventSystemFlags,i[0],t.nativeEvent);if(l===null){l=t.nativeEvent;var f=new l.constructor(l.type,l);Ur=f,l.target.dispatchEvent(f),Ur=null}else return i=co(l),i!==null&&En(i),t.blockedOn=l,!1;i.shift()}return!0}function Qs(t,i,l){ai(t)&&l.delete(i)}function zr(){Zs=!1,Yn!==null&&ai(Yn)&&(Yn=null),or!==null&&ai(or)&&(or=null),Rr!==null&&ai(Rr)&&(Rr=null),Ot.forEach(Qs),pr.forEach(Qs)}function Bi(t,i){t.blockedOn===i&&(t.blockedOn=null,Zs||(Zs=!0,h.unstable_scheduleCallback(h.unstable_NormalPriority,zr)))}function xr(t){function i(x){return Bi(x,t)}if(0<oi.length){Bi(oi[0],t);for(var l=1;l<oi.length;l++){var f=oi[l];f.blockedOn===t&&(f.blockedOn=null)}}for(Yn!==null&&Bi(Yn,t),or!==null&&Bi(or,t),Rr!==null&&Bi(Rr,t),Ot.forEach(i),pr.forEach(i),l=0;l<dn.length;l++)f=dn[l],f.blockedOn===t&&(f.blockedOn=null);for(;0<dn.length&&(l=dn[0],l.blockedOn===null);)Uo(l),l.blockedOn===null&&dn.shift()}var ar=Ne.ReactCurrentBatchConfig,Mr=!0;function zo(t,i,l,f){var x=Ye,y=ar.transition;ar.transition=null;try{Ye=1,jr(t,i,l,f)}finally{Ye=x,ar.transition=y}}function Pi(t,i,l,f){var x=Ye,y=ar.transition;ar.transition=null;try{Ye=4,jr(t,i,l,f)}finally{Ye=x,ar.transition=y}}function jr(t,i,l,f){if(Mr){var x=ds(t,i,l,f);if(x===null)cl(t,i,f,en,l),Fo(t,f);else if($t(x,t,i,l,f))f.stopPropagation();else if(Fo(t,f),i&4&&-1<Be.indexOf(t)){for(;x!==null;){var y=co(x);if(y!==null&&fs(y),y=ds(t,i,l,f),y===null&&cl(t,i,f,en,l),y===x)break;x=y}x!==null&&f.stopPropagation()}else cl(t,i,f,null,l)}}var en=null;function ds(t,i,l,f){if(en=null,t=Di(f),t=Gi(t),t!==null)if(i=bn(t),i===null)t=null;else if(l=i.tag,l===13){if(t=Li(i),t!==null)return t;t=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null);return en=t,null}function Ks(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ws()){case K:return 1;case ko:return 4;case yt:case ii:return 16;case Bo:return 536870912;default:return 16}default:return 16}}var mr=null,qs=null,hs=null;function jo(){if(hs)return hs;var t,i=qs,l=i.length,f,x="value"in mr?mr.value:mr.textContent,y=x.length;for(t=0;t<l&&i[t]===x[t];t++);var T=l-t;for(f=1;f<=T&&i[l-f]===x[y-f];f++);return hs=x.slice(t,1<f?1-f:void 0)}function st(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Fi(){return!0}function Ui(){return!1}function Pt(t){function i(l,f,x,y,T){this._reactName=l,this._targetInst=x,this.type=f,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var R in t)t.hasOwnProperty(R)&&(l=t[R],this[R]=l?l(y):y[R]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Fi:Ui,this.isPropagationStopped=Ui,this}return k(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Fi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Fi)},persist:function(){},isPersistent:Fi}),i}var li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},G=Pt(li),Ve=k({},li,{view:0,detail:0}),tn=Pt(Ve),ui,gs,zi,ps=k({},Ve,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ji,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zi&&(zi&&t.type==="mousemove"?(ui=t.screenX-zi.screenX,gs=t.screenY-zi.screenY):gs=ui=0,zi=t),ui)},movementY:function(t){return"movementY"in t?t.movementY:gs}}),Ho=Pt(ps),Js=k({},ps,{dataTransfer:0}),Vt=Pt(Js),$s=k({},Ve,{relatedTarget:0}),It=Pt($s),xs=k({},li,{animationName:0,elapsedTime:0,pseudoElement:0}),Hr=Pt(xs),xt=k({},li,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),be=Pt(xt),tl=k({},li,{data:0}),wt=Pt(tl),Vr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ci={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lr(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=nl[t])?!!i[t]:!1}function ji(){return lr}var Vo=k({},Ve,{key:function(t){if(t.key){var i=Vr[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=st(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ci[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ji,charCode:function(t){return t.type==="keypress"?st(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?st(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),eo=Pt(Vo),Wo=k({},ps,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),to=Pt(Wo),rl=k({},Ve,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ji}),fi=Pt(rl),no=k({},li,{propertyName:0,elapsedTime:0,pseudoElement:0}),il=Pt(no),Hi=k({},ps,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),sl=Pt(Hi),Dr=[9,13,27,32],di=M&&"CompositionEvent"in window,an=null;M&&"documentMode"in document&&(an=document.documentMode);var Go=M&&"TextEvent"in window&&!an,Zn=M&&(!di||an&&8<an&&11>=an),Xo=" ",ms=!1;function Yo(t,i){switch(t){case"keyup":return Dr.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ro(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var hn=!1;function ol(t,i){switch(t){case"compositionend":return ro(i);case"keypress":return i.which!==32?null:(ms=!0,Xo);case"textInput":return t=i.data,t===Xo&&ms?null:t;default:return null}}function io(t,i){if(hn)return t==="compositionend"||!di&&Yo(t,i)?(t=jo(),hs=qs=mr=null,hn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Zn&&i.locale!=="ko"?null:i.data;default:return null}}var Vi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Vi[t.type]:i==="textarea"}function Wi(t,i,l,f){zs(f),i=Ko(i,"onChange"),0<i.length&&(l=new G("onChange","change",null,l,f),t.push({event:l,listeners:i}))}var A=null,e=null;function n(t){qu(t,0)}function r(t){var i=Es(t);if(Mi(i))return t}function s(t,i){if(t==="change")return i}var o=!1;if(M){var a;if(M){var u="oninput"in document;if(!u){var g=document.createElement("div");g.setAttribute("oninput","return;"),u=typeof g.oninput=="function"}a=u}else a=!1;o=a&&(!document.documentMode||9<document.documentMode)}function p(){A&&(A.detachEvent("onpropertychange",C),e=A=null)}function C(t){if(t.propertyName==="value"&&r(e)){var i=[];Wi(i,e,t,Di(t)),bi(n,i)}}function I(t,i,l){t==="focusin"?(p(),A=i,e=l,A.attachEvent("onpropertychange",C)):t==="focusout"&&p()}function N(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return r(e)}function O(t,i){if(t==="click")return r(i)}function L(t,i){if(t==="input"||t==="change")return r(i)}function P(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var z=typeof Object.is=="function"?Object.is:P;function W(t,i){if(z(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var l=Object.keys(t),f=Object.keys(i);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var x=l[f];if(!F.call(i,x)||!z(t[x],i[x]))return!1}return!0}function se(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function oe(t,i){var l=se(t);t=0;for(var f;l;){if(l.nodeType===3){if(f=t+l.textContent.length,t<=i&&f>=i)return{node:l,offset:i-t};t=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=se(l)}}function te(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?te(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Qe(){for(var t=window,i=et();i instanceof t.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)t=i.contentWindow;else break;i=et(t.document)}return i}function He(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function Cn(t){var i=Qe(),l=t.focusedElem,f=t.selectionRange;if(i!==l&&l&&l.ownerDocument&&te(l.ownerDocument.documentElement,l)){if(f!==null&&He(l)){if(i=f.start,t=f.end,t===void 0&&(t=i),"selectionStart"in l)l.selectionStart=i,l.selectionEnd=Math.min(t,l.value.length);else if(t=(i=l.ownerDocument||document)&&i.defaultView||window,t.getSelection){t=t.getSelection();var x=l.textContent.length,y=Math.min(f.start,x);f=f.end===void 0?y:Math.min(f.end,x),!t.extend&&y>f&&(x=f,f=y,y=x),x=oe(l,y);var T=oe(l,f);x&&T&&(t.rangeCount!==1||t.anchorNode!==x.node||t.anchorOffset!==x.offset||t.focusNode!==T.node||t.focusOffset!==T.offset)&&(i=i.createRange(),i.setStart(x.node,x.offset),t.removeAllRanges(),y>f?(t.addRange(i),t.extend(T.node,T.offset)):(i.setEnd(T.node,T.offset),t.addRange(i)))}}for(i=[],t=l;t=t.parentNode;)t.nodeType===1&&i.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<i.length;l++)t=i[l],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Qn=M&&"documentMode"in document&&11>=document.documentMode,Wt=null,ct=null,Dt=null,gn=!1;function Wr(t,i,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;gn||Wt==null||Wt!==et(f)||(f=Wt,"selectionStart"in f&&He(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Dt&&W(Dt,f)||(Dt=f,f=Ko(ct,"onSelect"),0<f.length&&(i=new G("onSelect","select",null,i,l),t.push({event:i,listeners:f}),i.target=Wt)))}function wr(t,i){var l={};return l[t.toLowerCase()]=i.toLowerCase(),l["Webkit"+t]="webkit"+i,l["Moz"+t]="moz"+i,l}var hi={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},so={},Vu={};M&&(Vu=document.createElement("div").style,"AnimationEvent"in window||(delete hi.animationend.animation,delete hi.animationiteration.animation,delete hi.animationstart.animation),"TransitionEvent"in window||delete hi.transitionend.transition);function Zo(t){if(so[t])return so[t];if(!hi[t])return t;var i=hi[t],l;for(l in i)if(i.hasOwnProperty(l)&&l in Vu)return so[t]=i[l];return t}var Wu=Zo("animationend"),Gu=Zo("animationiteration"),Xu=Zo("animationstart"),Yu=Zo("transitionend"),Zu=new Map,Qu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gi(t,i){Zu.set(t,i),w(i,[t])}for(var al=0;al<Qu.length;al++){var ll=Qu[al],e0=ll.toLowerCase(),t0=ll[0].toUpperCase()+ll.slice(1);gi(e0,"on"+t0)}gi(Wu,"onAnimationEnd"),gi(Gu,"onAnimationIteration"),gi(Xu,"onAnimationStart"),gi("dblclick","onDoubleClick"),gi("focusin","onFocus"),gi("focusout","onBlur"),gi(Yu,"onTransitionEnd"),v("onMouseEnter",["mouseout","mouseover"]),v("onMouseLeave",["mouseout","mouseover"]),v("onPointerEnter",["pointerout","pointerover"]),v("onPointerLeave",["pointerout","pointerover"]),w("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),w("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),w("onBeforeInput",["compositionend","keypress","textInput","paste"]),w("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),w("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),w("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),n0=new Set("cancel close invalid load scroll toggle".split(" ").concat(oo));function Ku(t,i,l){var f=t.type||"unknown-event";t.currentTarget=l,yn(f,i,void 0,t),t.currentTarget=null}function qu(t,i){i=(i&4)!==0;for(var l=0;l<t.length;l++){var f=t[l],x=f.event;f=f.listeners;e:{var y=void 0;if(i)for(var T=f.length-1;0<=T;T--){var R=f[T],B=R.instance,X=R.currentTarget;if(R=R.listener,B!==y&&x.isPropagationStopped())break e;Ku(x,R,X),y=B}else for(T=0;T<f.length;T++){if(R=f[T],B=R.instance,X=R.currentTarget,R=R.listener,B!==y&&x.isPropagationStopped())break e;Ku(x,R,X),y=B}}}if(fn)throw t=xe,fn=!1,xe=null,t}function Nt(t,i){var l=i[xl];l===void 0&&(l=i[xl]=new Set);var f=t+"__bubble";l.has(f)||(Ju(i,t,2,!1),l.add(f))}function ul(t,i,l){var f=0;i&&(f|=4),Ju(l,t,f,i)}var Qo="_reactListening"+Math.random().toString(36).slice(2);function ao(t){if(!t[Qo]){t[Qo]=!0,m.forEach(function(l){l!=="selectionchange"&&(n0.has(l)||ul(l,!1,t),ul(l,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Qo]||(i[Qo]=!0,ul("selectionchange",!1,i))}}function Ju(t,i,l,f){switch(Ks(i)){case 1:var x=zo;break;case 4:x=Pi;break;default:x=jr}l=x.bind(null,i,l,t),x=void 0,!js||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(x=!0),f?x!==void 0?t.addEventListener(i,l,{capture:!0,passive:x}):t.addEventListener(i,l,!0):x!==void 0?t.addEventListener(i,l,{passive:x}):t.addEventListener(i,l,!1)}function cl(t,i,l,f,x){var y=f;if(!(i&1)&&!(i&2)&&f!==null)e:for(;;){if(f===null)return;var T=f.tag;if(T===3||T===4){var R=f.stateNode.containerInfo;if(R===x||R.nodeType===8&&R.parentNode===x)break;if(T===4)for(T=f.return;T!==null;){var B=T.tag;if((B===3||B===4)&&(B=T.stateNode.containerInfo,B===x||B.nodeType===8&&B.parentNode===x))return;T=T.return}for(;R!==null;){if(T=Gi(R),T===null)return;if(B=T.tag,B===5||B===6){f=y=T;continue e}R=R.parentNode}}f=f.return}bi(function(){var X=y,ne=Di(l),ie=[];e:{var ee=Zu.get(t);if(ee!==void 0){var me=G,Ce=t;switch(t){case"keypress":if(st(l)===0)break e;case"keydown":case"keyup":me=eo;break;case"focusin":Ce="focus",me=It;break;case"focusout":Ce="blur",me=It;break;case"beforeblur":case"afterblur":me=It;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=Ho;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=Vt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=fi;break;case Wu:case Gu:case Xu:me=Hr;break;case Yu:me=il;break;case"scroll":me=tn;break;case"wheel":me=sl;break;case"copy":case"cut":case"paste":me=be;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=to}var Ie=(i&4)!==0,Gt=!Ie&&t==="scroll",H=Ie?ee!==null?ee+"Capture":null:ee;Ie=[];for(var U=X,V;U!==null;){V=U;var ae=V.stateNode;if(V.tag===5&&ae!==null&&(V=ae,H!==null&&(ae=wn(U,H),ae!=null&&Ie.push(lo(U,ae,V)))),Gt)break;U=U.return}0<Ie.length&&(ee=new me(ee,Ce,null,l,ne),ie.push({event:ee,listeners:Ie}))}}if(!(i&7)){e:{if(ee=t==="mouseover"||t==="pointerover",me=t==="mouseout"||t==="pointerout",ee&&l!==Ur&&(Ce=l.relatedTarget||l.fromElement)&&(Gi(Ce)||Ce[Gr]))break e;if((me||ee)&&(ee=ne.window===ne?ne:(ee=ne.ownerDocument)?ee.defaultView||ee.parentWindow:window,me?(Ce=l.relatedTarget||l.toElement,me=X,Ce=Ce?Gi(Ce):null,Ce!==null&&(Gt=bn(Ce),Ce!==Gt||Ce.tag!==5&&Ce.tag!==6)&&(Ce=null)):(me=null,Ce=X),me!==Ce)){if(Ie=Ho,ae="onMouseLeave",H="onMouseEnter",U="mouse",(t==="pointerout"||t==="pointerover")&&(Ie=to,ae="onPointerLeave",H="onPointerEnter",U="pointer"),Gt=me==null?ee:Es(me),V=Ce==null?ee:Es(Ce),ee=new Ie(ae,U+"leave",me,l,ne),ee.target=Gt,ee.relatedTarget=V,ae=null,Gi(ne)===X&&(Ie=new Ie(H,U+"enter",Ce,l,ne),Ie.target=V,Ie.relatedTarget=Gt,ae=Ie),Gt=ae,me&&Ce)t:{for(Ie=me,H=Ce,U=0,V=Ie;V;V=ws(V))U++;for(V=0,ae=H;ae;ae=ws(ae))V++;for(;0<U-V;)Ie=ws(Ie),U--;for(;0<V-U;)H=ws(H),V--;for(;U--;){if(Ie===H||H!==null&&Ie===H.alternate)break t;Ie=ws(Ie),H=ws(H)}Ie=null}else Ie=null;me!==null&&$u(ie,ee,me,Ie,!1),Ce!==null&&Gt!==null&&$u(ie,Gt,Ce,Ie,!0)}}e:{if(ee=X?Es(X):window,me=ee.nodeName&&ee.nodeName.toLowerCase(),me==="select"||me==="input"&&ee.type==="file")var Te=s;else if(tt(ee))if(o)Te=L;else{Te=N;var Le=I}else(me=ee.nodeName)&&me.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(Te=O);if(Te&&(Te=Te(t,X))){Wi(ie,Te,l,ne);break e}Le&&Le(t,ee,X),t==="focusout"&&(Le=ee._wrapperState)&&Le.controlled&&ee.type==="number"&&qe(ee,"number",ee.value)}switch(Le=X?Es(X):window,t){case"focusin":(tt(Le)||Le.contentEditable==="true")&&(Wt=Le,ct=X,Dt=null);break;case"focusout":Dt=ct=Wt=null;break;case"mousedown":gn=!0;break;case"contextmenu":case"mouseup":case"dragend":gn=!1,Wr(ie,l,ne);break;case"selectionchange":if(Qn)break;case"keydown":case"keyup":Wr(ie,l,ne)}var ke;if(di)e:{switch(t){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else hn?Yo(t,l)&&(ze="onCompositionEnd"):t==="keydown"&&l.keyCode===229&&(ze="onCompositionStart");ze&&(Zn&&l.locale!=="ko"&&(hn||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&hn&&(ke=jo()):(mr=ne,qs="value"in mr?mr.value:mr.textContent,hn=!0)),Le=Ko(X,ze),0<Le.length&&(ze=new wt(ze,t,null,l,ne),ie.push({event:ze,listeners:Le}),ke?ze.data=ke:(ke=ro(l),ke!==null&&(ze.data=ke)))),(ke=Go?ol(t,l):io(t,l))&&(X=Ko(X,"onBeforeInput"),0<X.length&&(ne=new wt("onBeforeInput","beforeinput",null,l,ne),ie.push({event:ne,listeners:X}),ne.data=ke))}qu(ie,i)})}function lo(t,i,l){return{instance:t,listener:i,currentTarget:l}}function Ko(t,i){for(var l=i+"Capture",f=[];t!==null;){var x=t,y=x.stateNode;x.tag===5&&y!==null&&(x=y,y=wn(t,l),y!=null&&f.unshift(lo(t,y,x)),y=wn(t,i),y!=null&&f.push(lo(t,y,x))),t=t.return}return f}function ws(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function $u(t,i,l,f,x){for(var y=i._reactName,T=[];l!==null&&l!==f;){var R=l,B=R.alternate,X=R.stateNode;if(B!==null&&B===f)break;R.tag===5&&X!==null&&(R=X,x?(B=wn(l,y),B!=null&&T.unshift(lo(l,B,R))):x||(B=wn(l,y),B!=null&&T.push(lo(l,B,R)))),l=l.return}T.length!==0&&t.push({event:i,listeners:T})}var r0=/\r\n?/g,i0=/\u0000|\uFFFD/g;function ec(t){return(typeof t=="string"?t:""+t).replace(r0,`
`).replace(i0,"")}function qo(t,i,l){if(i=ec(i),ec(t)!==i&&l)throw Error(c(425))}function Jo(){}var fl=null,dl=null;function hl(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var gl=typeof setTimeout=="function"?setTimeout:void 0,s0=typeof clearTimeout=="function"?clearTimeout:void 0,tc=typeof Promise=="function"?Promise:void 0,o0=typeof queueMicrotask=="function"?queueMicrotask:typeof tc<"u"?function(t){return tc.resolve(null).then(t).catch(a0)}:gl;function a0(t){setTimeout(function(){throw t})}function pl(t,i){var l=i,f=0;do{var x=l.nextSibling;if(t.removeChild(l),x&&x.nodeType===8)if(l=x.data,l==="/$"){if(f===0){t.removeChild(x),xr(i);return}f--}else l!=="$"&&l!=="$?"&&l!=="$!"||f++;l=x}while(l);xr(i)}function pi(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return t}function nc(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var l=t.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return t;i--}else l==="/$"&&i++}t=t.previousSibling}return null}var ys=Math.random().toString(36).slice(2),br="__reactFiber$"+ys,uo="__reactProps$"+ys,Gr="__reactContainer$"+ys,xl="__reactEvents$"+ys,l0="__reactListeners$"+ys,u0="__reactHandles$"+ys;function Gi(t){var i=t[br];if(i)return i;for(var l=t.parentNode;l;){if(i=l[Gr]||l[br]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(t=nc(t);t!==null;){if(l=t[br])return l;t=nc(t)}return i}t=l,l=t.parentNode}return null}function co(t){return t=t[br]||t[Gr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Es(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(c(33))}function $o(t){return t[uo]||null}var ml=[],Cs=-1;function xi(t){return{current:t}}function vt(t){0>Cs||(t.current=ml[Cs],ml[Cs]=null,Cs--)}function Tt(t,i){Cs++,ml[Cs]=t.current,t.current=i}var mi={},An=xi(mi),Ln=xi(!1),Xi=mi;function As(t,i){var l=t.type.contextTypes;if(!l)return mi;var f=t.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===i)return f.__reactInternalMemoizedMaskedChildContext;var x={},y;for(y in l)x[y]=i[y];return f&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=x),x}function kn(t){return t=t.childContextTypes,t!=null}function ea(){vt(Ln),vt(An)}function rc(t,i,l){if(An.current!==mi)throw Error(c(168));Tt(An,i),Tt(Ln,l)}function ic(t,i,l){var f=t.stateNode;if(i=i.childContextTypes,typeof f.getChildContext!="function")return l;f=f.getChildContext();for(var x in f)if(!(x in i))throw Error(c(108,lt(t)||"Unknown",x));return k({},l,f)}function ta(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||mi,Xi=An.current,Tt(An,t),Tt(Ln,Ln.current),!0}function sc(t,i,l){var f=t.stateNode;if(!f)throw Error(c(169));l?(t=ic(t,i,Xi),f.__reactInternalMemoizedMergedChildContext=t,vt(Ln),vt(An),Tt(An,t)):vt(Ln),Tt(Ln,l)}var Xr=null,na=!1,wl=!1;function oc(t){Xr===null?Xr=[t]:Xr.push(t)}function c0(t){na=!0,oc(t)}function wi(){if(!wl&&Xr!==null){wl=!0;var t=0,i=Ye;try{var l=Xr;for(Ye=1;t<l.length;t++){var f=l[t];do f=f(!0);while(f!==null)}Xr=null,na=!1}catch(x){throw Xr!==null&&(Xr=Xr.slice(t+1)),Wn(K,wi),x}finally{Ye=i,wl=!1}}return null}var Ss=[],Is=0,ra=null,ia=0,ur=[],cr=0,Yi=null,Yr=1,Zr="";function Zi(t,i){Ss[Is++]=ia,Ss[Is++]=ra,ra=t,ia=i}function ac(t,i,l){ur[cr++]=Yr,ur[cr++]=Zr,ur[cr++]=Yi,Yi=t;var f=Yr;t=Zr;var x=32-vn(f)-1;f&=~(1<<x),l+=1;var y=32-vn(i)+x;if(30<y){var T=x-x%5;y=(f&(1<<T)-1).toString(32),f>>=T,x-=T,Yr=1<<32-vn(i)+x|l<<x|f,Zr=y+t}else Yr=1<<y|l<<x|f,Zr=t}function yl(t){t.return!==null&&(Zi(t,1),ac(t,1,0))}function El(t){for(;t===ra;)ra=Ss[--Is],Ss[Is]=null,ia=Ss[--Is],Ss[Is]=null;for(;t===Yi;)Yi=ur[--cr],ur[cr]=null,Zr=ur[--cr],ur[cr]=null,Yr=ur[--cr],ur[cr]=null}var Kn=null,qn=null,Rt=!1,yr=null;function lc(t,i){var l=gr(5,null,null,0);l.elementType="DELETED",l.stateNode=i,l.return=t,i=t.deletions,i===null?(t.deletions=[l],t.flags|=16):i.push(l)}function uc(t,i){switch(t.tag){case 5:var l=t.type;return i=i.nodeType!==1||l.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(t.stateNode=i,Kn=t,qn=pi(i.firstChild),!0):!1;case 6:return i=t.pendingProps===""||i.nodeType!==3?null:i,i!==null?(t.stateNode=i,Kn=t,qn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(l=Yi!==null?{id:Yr,overflow:Zr}:null,t.memoizedState={dehydrated:i,treeContext:l,retryLane:1073741824},l=gr(18,null,null,0),l.stateNode=i,l.return=t,t.child=l,Kn=t,qn=null,!0):!1;default:return!1}}function Cl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Al(t){if(Rt){var i=qn;if(i){var l=i;if(!uc(t,i)){if(Cl(t))throw Error(c(418));i=pi(l.nextSibling);var f=Kn;i&&uc(t,i)?lc(f,l):(t.flags=t.flags&-4097|2,Rt=!1,Kn=t)}}else{if(Cl(t))throw Error(c(418));t.flags=t.flags&-4097|2,Rt=!1,Kn=t}}}function cc(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Kn=t}function sa(t){if(t!==Kn)return!1;if(!Rt)return cc(t),Rt=!0,!1;var i;if((i=t.tag!==3)&&!(i=t.tag!==5)&&(i=t.type,i=i!=="head"&&i!=="body"&&!hl(t.type,t.memoizedProps)),i&&(i=qn)){if(Cl(t))throw fc(),Error(c(418));for(;i;)lc(t,i),i=pi(i.nextSibling)}if(cc(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(c(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8){var l=t.data;if(l==="/$"){if(i===0){qn=pi(t.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++}t=t.nextSibling}qn=null}}else qn=Kn?pi(t.stateNode.nextSibling):null;return!0}function fc(){for(var t=qn;t;)t=pi(t.nextSibling)}function Ts(){qn=Kn=null,Rt=!1}function Sl(t){yr===null?yr=[t]:yr.push(t)}var f0=Ne.ReactCurrentBatchConfig;function Er(t,i){if(t&&t.defaultProps){i=k({},i),t=t.defaultProps;for(var l in t)i[l]===void 0&&(i[l]=t[l]);return i}return i}var oa=xi(null),aa=null,Ns=null,Il=null;function Tl(){Il=Ns=aa=null}function Nl(t){var i=oa.current;vt(oa),t._currentValue=i}function vl(t,i,l){for(;t!==null;){var f=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,f!==null&&(f.childLanes|=i)):f!==null&&(f.childLanes&i)!==i&&(f.childLanes|=i),t===l)break;t=t.return}}function vs(t,i){aa=t,Il=Ns=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&i&&(Bn=!0),t.firstContext=null)}function fr(t){var i=t._currentValue;if(Il!==t)if(t={context:t,memoizedValue:i,next:null},Ns===null){if(aa===null)throw Error(c(308));Ns=t,aa.dependencies={lanes:0,firstContext:t}}else Ns=Ns.next=t;return i}var Qi=null;function _l(t){Qi===null?Qi=[t]:Qi.push(t)}function dc(t,i,l,f){var x=i.interleaved;return x===null?(l.next=l,_l(i)):(l.next=x.next,x.next=l),i.interleaved=l,Qr(t,f)}function Qr(t,i){t.lanes|=i;var l=t.alternate;for(l!==null&&(l.lanes|=i),l=t,t=t.return;t!==null;)t.childLanes|=i,l=t.alternate,l!==null&&(l.childLanes|=i),l=t,t=t.return;return l.tag===3?l.stateNode:null}var yi=!1;function Ol(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hc(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Kr(t,i){return{eventTime:t,lane:i,tag:0,payload:null,callback:null,next:null}}function Ei(t,i,l){var f=t.updateQueue;if(f===null)return null;if(f=f.shared,ot&2){var x=f.pending;return x===null?i.next=i:(i.next=x.next,x.next=i),f.pending=i,Qr(t,l)}return x=f.interleaved,x===null?(i.next=i,_l(f)):(i.next=x.next,x.next=i),f.interleaved=i,Qr(t,l)}function la(t,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194240)!==0)){var f=i.lanes;f&=t.pendingLanes,l|=f,i.lanes=l,Bt(t,l)}}function gc(t,i){var l=t.updateQueue,f=t.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var x=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var T={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?x=y=T:y=y.next=T,l=l.next}while(l!==null);y===null?x=y=i:y=y.next=i}else x=y=i;l={baseState:f.baseState,firstBaseUpdate:x,lastBaseUpdate:y,shared:f.shared,effects:f.effects},t.updateQueue=l;return}t=l.lastBaseUpdate,t===null?l.firstBaseUpdate=i:t.next=i,l.lastBaseUpdate=i}function ua(t,i,l,f){var x=t.updateQueue;yi=!1;var y=x.firstBaseUpdate,T=x.lastBaseUpdate,R=x.shared.pending;if(R!==null){x.shared.pending=null;var B=R,X=B.next;B.next=null,T===null?y=X:T.next=X,T=B;var ne=t.alternate;ne!==null&&(ne=ne.updateQueue,R=ne.lastBaseUpdate,R!==T&&(R===null?ne.firstBaseUpdate=X:R.next=X,ne.lastBaseUpdate=B))}if(y!==null){var ie=x.baseState;T=0,ne=X=B=null,R=y;do{var ee=R.lane,me=R.eventTime;if((f&ee)===ee){ne!==null&&(ne=ne.next={eventTime:me,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var Ce=t,Ie=R;switch(ee=i,me=l,Ie.tag){case 1:if(Ce=Ie.payload,typeof Ce=="function"){ie=Ce.call(me,ie,ee);break e}ie=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Ie.payload,ee=typeof Ce=="function"?Ce.call(me,ie,ee):Ce,ee==null)break e;ie=k({},ie,ee);break e;case 2:yi=!0}}R.callback!==null&&R.lane!==0&&(t.flags|=64,ee=x.effects,ee===null?x.effects=[R]:ee.push(R))}else me={eventTime:me,lane:ee,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ne===null?(X=ne=me,B=ie):ne=ne.next=me,T|=ee;if(R=R.next,R===null){if(R=x.shared.pending,R===null)break;ee=R,R=ee.next,ee.next=null,x.lastBaseUpdate=ee,x.shared.pending=null}}while(!0);if(ne===null&&(B=ie),x.baseState=B,x.firstBaseUpdate=X,x.lastBaseUpdate=ne,i=x.shared.interleaved,i!==null){x=i;do T|=x.lane,x=x.next;while(x!==i)}else y===null&&(x.shared.lanes=0);Ji|=T,t.lanes=T,t.memoizedState=ie}}function pc(t,i,l){if(t=i.effects,i.effects=null,t!==null)for(i=0;i<t.length;i++){var f=t[i],x=f.callback;if(x!==null){if(f.callback=null,f=l,typeof x!="function")throw Error(c(191,x));x.call(f)}}}var xc=new d.Component().refs;function Rl(t,i,l,f){i=t.memoizedState,l=l(f,i),l=l==null?i:k({},i,l),t.memoizedState=l,t.lanes===0&&(t.updateQueue.baseState=l)}var ca={isMounted:function(t){return(t=t._reactInternals)?bn(t)===t:!1},enqueueSetState:function(t,i,l){t=t._reactInternals;var f=On(),x=Ii(t),y=Kr(f,x);y.payload=i,l!=null&&(y.callback=l),i=Ei(t,y,x),i!==null&&(Sr(i,t,x,f),la(i,t,x))},enqueueReplaceState:function(t,i,l){t=t._reactInternals;var f=On(),x=Ii(t),y=Kr(f,x);y.tag=1,y.payload=i,l!=null&&(y.callback=l),i=Ei(t,y,x),i!==null&&(Sr(i,t,x,f),la(i,t,x))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var l=On(),f=Ii(t),x=Kr(l,f);x.tag=2,i!=null&&(x.callback=i),i=Ei(t,x,f),i!==null&&(Sr(i,t,f,l),la(i,t,f))}};function mc(t,i,l,f,x,y,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(f,y,T):i.prototype&&i.prototype.isPureReactComponent?!W(l,f)||!W(x,y):!0}function wc(t,i,l){var f=!1,x=mi,y=i.contextType;return typeof y=="object"&&y!==null?y=fr(y):(x=kn(i)?Xi:An.current,f=i.contextTypes,y=(f=f!=null)?As(t,x):mi),i=new i(l,y),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=ca,t.stateNode=i,i._reactInternals=t,f&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=x,t.__reactInternalMemoizedMaskedChildContext=y),i}function yc(t,i,l,f){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,f),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,f),i.state!==t&&ca.enqueueReplaceState(i,i.state,null)}function Ml(t,i,l,f){var x=t.stateNode;x.props=l,x.state=t.memoizedState,x.refs=xc,Ol(t);var y=i.contextType;typeof y=="object"&&y!==null?x.context=fr(y):(y=kn(i)?Xi:An.current,x.context=As(t,y)),x.state=t.memoizedState,y=i.getDerivedStateFromProps,typeof y=="function"&&(Rl(t,i,y,l),x.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(i=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),i!==x.state&&ca.enqueueReplaceState(x,x.state,null),ua(t,l,x,f),x.state=t.memoizedState),typeof x.componentDidMount=="function"&&(t.flags|=4194308)}function fo(t,i,l){if(t=l.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(c(309));var f=l.stateNode}if(!f)throw Error(c(147,t));var x=f,y=""+t;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===y?i.ref:(i=function(T){var R=x.refs;R===xc&&(R=x.refs={}),T===null?delete R[y]:R[y]=T},i._stringRef=y,i)}if(typeof t!="string")throw Error(c(284));if(!l._owner)throw Error(c(290,t))}return t}function fa(t,i){throw t=Object.prototype.toString.call(i),Error(c(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t))}function Ec(t){var i=t._init;return i(t._payload)}function Cc(t){function i(H,U){if(t){var V=H.deletions;V===null?(H.deletions=[U],H.flags|=16):V.push(U)}}function l(H,U){if(!t)return null;for(;U!==null;)i(H,U),U=U.sibling;return null}function f(H,U){for(H=new Map;U!==null;)U.key!==null?H.set(U.key,U):H.set(U.index,U),U=U.sibling;return H}function x(H,U){return H=Ni(H,U),H.index=0,H.sibling=null,H}function y(H,U,V){return H.index=V,t?(V=H.alternate,V!==null?(V=V.index,V<U?(H.flags|=2,U):V):(H.flags|=2,U)):(H.flags|=1048576,U)}function T(H){return t&&H.alternate===null&&(H.flags|=2),H}function R(H,U,V,ae){return U===null||U.tag!==6?(U=gu(V,H.mode,ae),U.return=H,U):(U=x(U,V),U.return=H,U)}function B(H,U,V,ae){var Te=V.type;return Te===$?ne(H,U,V.props.children,ae,V.key):U!==null&&(U.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===it&&Ec(Te)===U.type)?(ae=x(U,V.props),ae.ref=fo(H,U,V),ae.return=H,ae):(ae=Ra(V.type,V.key,V.props,null,H.mode,ae),ae.ref=fo(H,U,V),ae.return=H,ae)}function X(H,U,V,ae){return U===null||U.tag!==4||U.stateNode.containerInfo!==V.containerInfo||U.stateNode.implementation!==V.implementation?(U=pu(V,H.mode,ae),U.return=H,U):(U=x(U,V.children||[]),U.return=H,U)}function ne(H,U,V,ae,Te){return U===null||U.tag!==7?(U=ns(V,H.mode,ae,Te),U.return=H,U):(U=x(U,V),U.return=H,U)}function ie(H,U,V){if(typeof U=="string"&&U!==""||typeof U=="number")return U=gu(""+U,H.mode,V),U.return=H,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case nt:return V=Ra(U.type,U.key,U.props,null,H.mode,V),V.ref=fo(H,null,U),V.return=H,V;case De:return U=pu(U,H.mode,V),U.return=H,U;case it:var ae=U._init;return ie(H,ae(U._payload),V)}if(vr(U)||ve(U))return U=ns(U,H.mode,V,null),U.return=H,U;fa(H,U)}return null}function ee(H,U,V,ae){var Te=U!==null?U.key:null;if(typeof V=="string"&&V!==""||typeof V=="number")return Te!==null?null:R(H,U,""+V,ae);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case nt:return V.key===Te?B(H,U,V,ae):null;case De:return V.key===Te?X(H,U,V,ae):null;case it:return Te=V._init,ee(H,U,Te(V._payload),ae)}if(vr(V)||ve(V))return Te!==null?null:ne(H,U,V,ae,null);fa(H,V)}return null}function me(H,U,V,ae,Te){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return H=H.get(V)||null,R(U,H,""+ae,Te);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case nt:return H=H.get(ae.key===null?V:ae.key)||null,B(U,H,ae,Te);case De:return H=H.get(ae.key===null?V:ae.key)||null,X(U,H,ae,Te);case it:var Le=ae._init;return me(H,U,V,Le(ae._payload),Te)}if(vr(ae)||ve(ae))return H=H.get(V)||null,ne(U,H,ae,Te,null);fa(U,ae)}return null}function Ce(H,U,V,ae){for(var Te=null,Le=null,ke=U,ze=U=0,cn=null;ke!==null&&ze<V.length;ze++){ke.index>ze?(cn=ke,ke=null):cn=ke.sibling;var at=ee(H,ke,V[ze],ae);if(at===null){ke===null&&(ke=cn);break}t&&ke&&at.alternate===null&&i(H,ke),U=y(at,U,ze),Le===null?Te=at:Le.sibling=at,Le=at,ke=cn}if(ze===V.length)return l(H,ke),Rt&&Zi(H,ze),Te;if(ke===null){for(;ze<V.length;ze++)ke=ie(H,V[ze],ae),ke!==null&&(U=y(ke,U,ze),Le===null?Te=ke:Le.sibling=ke,Le=ke);return Rt&&Zi(H,ze),Te}for(ke=f(H,ke);ze<V.length;ze++)cn=me(ke,H,ze,V[ze],ae),cn!==null&&(t&&cn.alternate!==null&&ke.delete(cn.key===null?ze:cn.key),U=y(cn,U,ze),Le===null?Te=cn:Le.sibling=cn,Le=cn);return t&&ke.forEach(function(vi){return i(H,vi)}),Rt&&Zi(H,ze),Te}function Ie(H,U,V,ae){var Te=ve(V);if(typeof Te!="function")throw Error(c(150));if(V=Te.call(V),V==null)throw Error(c(151));for(var Le=Te=null,ke=U,ze=U=0,cn=null,at=V.next();ke!==null&&!at.done;ze++,at=V.next()){ke.index>ze?(cn=ke,ke=null):cn=ke.sibling;var vi=ee(H,ke,at.value,ae);if(vi===null){ke===null&&(ke=cn);break}t&&ke&&vi.alternate===null&&i(H,ke),U=y(vi,U,ze),Le===null?Te=vi:Le.sibling=vi,Le=vi,ke=cn}if(at.done)return l(H,ke),Rt&&Zi(H,ze),Te;if(ke===null){for(;!at.done;ze++,at=V.next())at=ie(H,at.value,ae),at!==null&&(U=y(at,U,ze),Le===null?Te=at:Le.sibling=at,Le=at);return Rt&&Zi(H,ze),Te}for(ke=f(H,ke);!at.done;ze++,at=V.next())at=me(ke,H,ze,at.value,ae),at!==null&&(t&&at.alternate!==null&&ke.delete(at.key===null?ze:at.key),U=y(at,U,ze),Le===null?Te=at:Le.sibling=at,Le=at);return t&&ke.forEach(function(W0){return i(H,W0)}),Rt&&Zi(H,ze),Te}function Gt(H,U,V,ae){if(typeof V=="object"&&V!==null&&V.type===$&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case nt:e:{for(var Te=V.key,Le=U;Le!==null;){if(Le.key===Te){if(Te=V.type,Te===$){if(Le.tag===7){l(H,Le.sibling),U=x(Le,V.props.children),U.return=H,H=U;break e}}else if(Le.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===it&&Ec(Te)===Le.type){l(H,Le.sibling),U=x(Le,V.props),U.ref=fo(H,Le,V),U.return=H,H=U;break e}l(H,Le);break}else i(H,Le);Le=Le.sibling}V.type===$?(U=ns(V.props.children,H.mode,ae,V.key),U.return=H,H=U):(ae=Ra(V.type,V.key,V.props,null,H.mode,ae),ae.ref=fo(H,U,V),ae.return=H,H=ae)}return T(H);case De:e:{for(Le=V.key;U!==null;){if(U.key===Le)if(U.tag===4&&U.stateNode.containerInfo===V.containerInfo&&U.stateNode.implementation===V.implementation){l(H,U.sibling),U=x(U,V.children||[]),U.return=H,H=U;break e}else{l(H,U);break}else i(H,U);U=U.sibling}U=pu(V,H.mode,ae),U.return=H,H=U}return T(H);case it:return Le=V._init,Gt(H,U,Le(V._payload),ae)}if(vr(V))return Ce(H,U,V,ae);if(ve(V))return Ie(H,U,V,ae);fa(H,V)}return typeof V=="string"&&V!==""||typeof V=="number"?(V=""+V,U!==null&&U.tag===6?(l(H,U.sibling),U=x(U,V),U.return=H,H=U):(l(H,U),U=gu(V,H.mode,ae),U.return=H,H=U),T(H)):l(H,U)}return Gt}var _s=Cc(!0),Ac=Cc(!1),ho={},Lr=xi(ho),go=xi(ho),po=xi(ho);function Ki(t){if(t===ho)throw Error(c(174));return t}function Dl(t,i){switch(Tt(po,i),Tt(go,t),Tt(Lr,ho),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:as(null,"");break;default:t=t===8?i.parentNode:i,i=t.namespaceURI||null,t=t.tagName,i=as(i,t)}vt(Lr),Tt(Lr,i)}function Os(){vt(Lr),vt(go),vt(po)}function Sc(t){Ki(po.current);var i=Ki(Lr.current),l=as(i,t.type);i!==l&&(Tt(go,t),Tt(Lr,l))}function bl(t){go.current===t&&(vt(Lr),vt(go))}var bt=xi(0);function da(t){for(var i=t;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ll=[];function kl(){for(var t=0;t<Ll.length;t++)Ll[t]._workInProgressVersionPrimary=null;Ll.length=0}var ha=Ne.ReactCurrentDispatcher,Bl=Ne.ReactCurrentBatchConfig,qi=0,Lt=null,nn=null,ln=null,ga=!1,xo=!1,mo=0,d0=0;function Sn(){throw Error(c(321))}function Pl(t,i){if(i===null)return!1;for(var l=0;l<i.length&&l<t.length;l++)if(!z(t[l],i[l]))return!1;return!0}function Fl(t,i,l,f,x,y){if(qi=y,Lt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,ha.current=t===null||t.memoizedState===null?x0:m0,t=l(f,x),xo){y=0;do{if(xo=!1,mo=0,25<=y)throw Error(c(301));y+=1,ln=nn=null,i.updateQueue=null,ha.current=w0,t=l(f,x)}while(xo)}if(ha.current=ma,i=nn!==null&&nn.next!==null,qi=0,ln=nn=Lt=null,ga=!1,i)throw Error(c(300));return t}function Ul(){var t=mo!==0;return mo=0,t}function kr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?Lt.memoizedState=ln=t:ln=ln.next=t,ln}function dr(){if(nn===null){var t=Lt.alternate;t=t!==null?t.memoizedState:null}else t=nn.next;var i=ln===null?Lt.memoizedState:ln.next;if(i!==null)ln=i,nn=t;else{if(t===null)throw Error(c(310));nn=t,t={memoizedState:nn.memoizedState,baseState:nn.baseState,baseQueue:nn.baseQueue,queue:nn.queue,next:null},ln===null?Lt.memoizedState=ln=t:ln=ln.next=t}return ln}function wo(t,i){return typeof i=="function"?i(t):i}function zl(t){var i=dr(),l=i.queue;if(l===null)throw Error(c(311));l.lastRenderedReducer=t;var f=nn,x=f.baseQueue,y=l.pending;if(y!==null){if(x!==null){var T=x.next;x.next=y.next,y.next=T}f.baseQueue=x=y,l.pending=null}if(x!==null){y=x.next,f=f.baseState;var R=T=null,B=null,X=y;do{var ne=X.lane;if((qi&ne)===ne)B!==null&&(B=B.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),f=X.hasEagerState?X.eagerState:t(f,X.action);else{var ie={lane:ne,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};B===null?(R=B=ie,T=f):B=B.next=ie,Lt.lanes|=ne,Ji|=ne}X=X.next}while(X!==null&&X!==y);B===null?T=f:B.next=R,z(f,i.memoizedState)||(Bn=!0),i.memoizedState=f,i.baseState=T,i.baseQueue=B,l.lastRenderedState=f}if(t=l.interleaved,t!==null){x=t;do y=x.lane,Lt.lanes|=y,Ji|=y,x=x.next;while(x!==t)}else x===null&&(l.lanes=0);return[i.memoizedState,l.dispatch]}function jl(t){var i=dr(),l=i.queue;if(l===null)throw Error(c(311));l.lastRenderedReducer=t;var f=l.dispatch,x=l.pending,y=i.memoizedState;if(x!==null){l.pending=null;var T=x=x.next;do y=t(y,T.action),T=T.next;while(T!==x);z(y,i.memoizedState)||(Bn=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),l.lastRenderedState=y}return[y,f]}function Ic(){}function Tc(t,i){var l=Lt,f=dr(),x=i(),y=!z(f.memoizedState,x);if(y&&(f.memoizedState=x,Bn=!0),f=f.queue,Hl(_c.bind(null,l,f,t),[t]),f.getSnapshot!==i||y||ln!==null&&ln.memoizedState.tag&1){if(l.flags|=2048,yo(9,vc.bind(null,l,f,x,i),void 0,null),un===null)throw Error(c(349));qi&30||Nc(l,i,x)}return x}function Nc(t,i,l){t.flags|=16384,t={getSnapshot:i,value:l},i=Lt.updateQueue,i===null?(i={lastEffect:null,stores:null},Lt.updateQueue=i,i.stores=[t]):(l=i.stores,l===null?i.stores=[t]:l.push(t))}function vc(t,i,l,f){i.value=l,i.getSnapshot=f,Oc(i)&&Rc(t)}function _c(t,i,l){return l(function(){Oc(i)&&Rc(t)})}function Oc(t){var i=t.getSnapshot;t=t.value;try{var l=i();return!z(t,l)}catch{return!0}}function Rc(t){var i=Qr(t,1);i!==null&&Sr(i,t,1,-1)}function Mc(t){var i=kr();return typeof t=="function"&&(t=t()),i.memoizedState=i.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:t},i.queue=t,t=t.dispatch=p0.bind(null,Lt,t),[i.memoizedState,t]}function yo(t,i,l,f){return t={tag:t,create:i,destroy:l,deps:f,next:null},i=Lt.updateQueue,i===null?(i={lastEffect:null,stores:null},Lt.updateQueue=i,i.lastEffect=t.next=t):(l=i.lastEffect,l===null?i.lastEffect=t.next=t:(f=l.next,l.next=t,t.next=f,i.lastEffect=t)),t}function Dc(){return dr().memoizedState}function pa(t,i,l,f){var x=kr();Lt.flags|=t,x.memoizedState=yo(1|i,l,void 0,f===void 0?null:f)}function xa(t,i,l,f){var x=dr();f=f===void 0?null:f;var y=void 0;if(nn!==null){var T=nn.memoizedState;if(y=T.destroy,f!==null&&Pl(f,T.deps)){x.memoizedState=yo(i,l,y,f);return}}Lt.flags|=t,x.memoizedState=yo(1|i,l,y,f)}function bc(t,i){return pa(8390656,8,t,i)}function Hl(t,i){return xa(2048,8,t,i)}function Lc(t,i){return xa(4,2,t,i)}function kc(t,i){return xa(4,4,t,i)}function Bc(t,i){if(typeof i=="function")return t=t(),i(t),function(){i(null)};if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Pc(t,i,l){return l=l!=null?l.concat([t]):null,xa(4,4,Bc.bind(null,i,t),l)}function Vl(){}function Fc(t,i){var l=dr();i=i===void 0?null:i;var f=l.memoizedState;return f!==null&&i!==null&&Pl(i,f[1])?f[0]:(l.memoizedState=[t,i],t)}function Uc(t,i){var l=dr();i=i===void 0?null:i;var f=l.memoizedState;return f!==null&&i!==null&&Pl(i,f[1])?f[0]:(t=t(),l.memoizedState=[t,i],t)}function zc(t,i,l){return qi&21?(z(l,i)||(l=Jt(),Lt.lanes|=l,Ji|=l,t.baseState=!0),i):(t.baseState&&(t.baseState=!1,Bn=!0),t.memoizedState=l)}function h0(t,i){var l=Ye;Ye=l!==0&&4>l?l:4,t(!0);var f=Bl.transition;Bl.transition={};try{t(!1),i()}finally{Ye=l,Bl.transition=f}}function jc(){return dr().memoizedState}function g0(t,i,l){var f=Ii(t);if(l={lane:f,action:l,hasEagerState:!1,eagerState:null,next:null},Hc(t))Vc(i,l);else if(l=dc(t,i,l,f),l!==null){var x=On();Sr(l,t,f,x),Wc(l,i,f)}}function p0(t,i,l){var f=Ii(t),x={lane:f,action:l,hasEagerState:!1,eagerState:null,next:null};if(Hc(t))Vc(i,x);else{var y=t.alternate;if(t.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var T=i.lastRenderedState,R=y(T,l);if(x.hasEagerState=!0,x.eagerState=R,z(R,T)){var B=i.interleaved;B===null?(x.next=x,_l(i)):(x.next=B.next,B.next=x),i.interleaved=x;return}}catch{}finally{}l=dc(t,i,x,f),l!==null&&(x=On(),Sr(l,t,f,x),Wc(l,i,f))}}function Hc(t){var i=t.alternate;return t===Lt||i!==null&&i===Lt}function Vc(t,i){xo=ga=!0;var l=t.pending;l===null?i.next=i:(i.next=l.next,l.next=i),t.pending=i}function Wc(t,i,l){if(l&4194240){var f=i.lanes;f&=t.pendingLanes,l|=f,i.lanes=l,Bt(t,l)}}var ma={readContext:fr,useCallback:Sn,useContext:Sn,useEffect:Sn,useImperativeHandle:Sn,useInsertionEffect:Sn,useLayoutEffect:Sn,useMemo:Sn,useReducer:Sn,useRef:Sn,useState:Sn,useDebugValue:Sn,useDeferredValue:Sn,useTransition:Sn,useMutableSource:Sn,useSyncExternalStore:Sn,useId:Sn,unstable_isNewReconciler:!1},x0={readContext:fr,useCallback:function(t,i){return kr().memoizedState=[t,i===void 0?null:i],t},useContext:fr,useEffect:bc,useImperativeHandle:function(t,i,l){return l=l!=null?l.concat([t]):null,pa(4194308,4,Bc.bind(null,i,t),l)},useLayoutEffect:function(t,i){return pa(4194308,4,t,i)},useInsertionEffect:function(t,i){return pa(4,2,t,i)},useMemo:function(t,i){var l=kr();return i=i===void 0?null:i,t=t(),l.memoizedState=[t,i],t},useReducer:function(t,i,l){var f=kr();return i=l!==void 0?l(i):i,f.memoizedState=f.baseState=i,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},f.queue=t,t=t.dispatch=g0.bind(null,Lt,t),[f.memoizedState,t]},useRef:function(t){var i=kr();return t={current:t},i.memoizedState=t},useState:Mc,useDebugValue:Vl,useDeferredValue:function(t){return kr().memoizedState=t},useTransition:function(){var t=Mc(!1),i=t[0];return t=h0.bind(null,t[1]),kr().memoizedState=t,[i,t]},useMutableSource:function(){},useSyncExternalStore:function(t,i,l){var f=Lt,x=kr();if(Rt){if(l===void 0)throw Error(c(407));l=l()}else{if(l=i(),un===null)throw Error(c(349));qi&30||Nc(f,i,l)}x.memoizedState=l;var y={value:l,getSnapshot:i};return x.queue=y,bc(_c.bind(null,f,y,t),[t]),f.flags|=2048,yo(9,vc.bind(null,f,y,l,i),void 0,null),l},useId:function(){var t=kr(),i=un.identifierPrefix;if(Rt){var l=Zr,f=Yr;l=(f&~(1<<32-vn(f)-1)).toString(32)+l,i=":"+i+"R"+l,l=mo++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=d0++,i=":"+i+"r"+l.toString(32)+":";return t.memoizedState=i},unstable_isNewReconciler:!1},m0={readContext:fr,useCallback:Fc,useContext:fr,useEffect:Hl,useImperativeHandle:Pc,useInsertionEffect:Lc,useLayoutEffect:kc,useMemo:Uc,useReducer:zl,useRef:Dc,useState:function(){return zl(wo)},useDebugValue:Vl,useDeferredValue:function(t){var i=dr();return zc(i,nn.memoizedState,t)},useTransition:function(){var t=zl(wo)[0],i=dr().memoizedState;return[t,i]},useMutableSource:Ic,useSyncExternalStore:Tc,useId:jc,unstable_isNewReconciler:!1},w0={readContext:fr,useCallback:Fc,useContext:fr,useEffect:Hl,useImperativeHandle:Pc,useInsertionEffect:Lc,useLayoutEffect:kc,useMemo:Uc,useReducer:jl,useRef:Dc,useState:function(){return jl(wo)},useDebugValue:Vl,useDeferredValue:function(t){var i=dr();return nn===null?i.memoizedState=t:zc(i,nn.memoizedState,t)},useTransition:function(){var t=jl(wo)[0],i=dr().memoizedState;return[t,i]},useMutableSource:Ic,useSyncExternalStore:Tc,useId:jc,unstable_isNewReconciler:!1};function Rs(t,i){try{var l="",f=i;do l+=dt(f),f=f.return;while(f);var x=l}catch(y){x=`
Error generating stack: `+y.message+`
`+y.stack}return{value:t,source:i,stack:x,digest:null}}function Wl(t,i,l){return{value:t,source:null,stack:l??null,digest:i??null}}function Gl(t,i){try{console.error(i.value)}catch(l){setTimeout(function(){throw l})}}var y0=typeof WeakMap=="function"?WeakMap:Map;function Gc(t,i,l){l=Kr(-1,l),l.tag=3,l.payload={element:null};var f=i.value;return l.callback=function(){Ia||(Ia=!0,ou=f),Gl(t,i)},l}function Xc(t,i,l){l=Kr(-1,l),l.tag=3;var f=t.type.getDerivedStateFromError;if(typeof f=="function"){var x=i.value;l.payload=function(){return f(x)},l.callback=function(){Gl(t,i)}}var y=t.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){Gl(t,i),typeof f!="function"&&(Ai===null?Ai=new Set([this]):Ai.add(this));var T=i.stack;this.componentDidCatch(i.value,{componentStack:T!==null?T:""})}),l}function Yc(t,i,l){var f=t.pingCache;if(f===null){f=t.pingCache=new y0;var x=new Set;f.set(i,x)}else x=f.get(i),x===void 0&&(x=new Set,f.set(i,x));x.has(l)||(x.add(l),t=b0.bind(null,t,i,l),i.then(t,t))}function Zc(t){do{var i;if((i=t.tag===13)&&(i=t.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return t;t=t.return}while(t!==null);return null}function Qc(t,i,l,f,x){return t.mode&1?(t.flags|=65536,t.lanes=x,t):(t===i?t.flags|=65536:(t.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(i=Kr(-1,1),i.tag=2,Ei(l,i,1))),l.lanes|=1),t)}var E0=Ne.ReactCurrentOwner,Bn=!1;function _n(t,i,l,f){i.child=t===null?Ac(i,null,l,f):_s(i,t.child,l,f)}function Kc(t,i,l,f,x){l=l.render;var y=i.ref;return vs(i,x),f=Fl(t,i,l,f,y,x),l=Ul(),t!==null&&!Bn?(i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~x,qr(t,i,x)):(Rt&&l&&yl(i),i.flags|=1,_n(t,i,f,x),i.child)}function qc(t,i,l,f,x){if(t===null){var y=l.type;return typeof y=="function"&&!hu(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(i.tag=15,i.type=y,Jc(t,i,y,f,x)):(t=Ra(l.type,null,f,i,i.mode,x),t.ref=i.ref,t.return=i,i.child=t)}if(y=t.child,!(t.lanes&x)){var T=y.memoizedProps;if(l=l.compare,l=l!==null?l:W,l(T,f)&&t.ref===i.ref)return qr(t,i,x)}return i.flags|=1,t=Ni(y,f),t.ref=i.ref,t.return=i,i.child=t}function Jc(t,i,l,f,x){if(t!==null){var y=t.memoizedProps;if(W(y,f)&&t.ref===i.ref)if(Bn=!1,i.pendingProps=f=y,(t.lanes&x)!==0)t.flags&131072&&(Bn=!0);else return i.lanes=t.lanes,qr(t,i,x)}return Xl(t,i,l,f,x)}function $c(t,i,l){var f=i.pendingProps,x=f.children,y=t!==null?t.memoizedState:null;if(f.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tt(Ds,Jn),Jn|=l;else{if(!(l&1073741824))return t=y!==null?y.baseLanes|l:l,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:t,cachePool:null,transitions:null},i.updateQueue=null,Tt(Ds,Jn),Jn|=t,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=y!==null?y.baseLanes:l,Tt(Ds,Jn),Jn|=f}else y!==null?(f=y.baseLanes|l,i.memoizedState=null):f=l,Tt(Ds,Jn),Jn|=f;return _n(t,i,x,l),i.child}function e1(t,i){var l=i.ref;(t===null&&l!==null||t!==null&&t.ref!==l)&&(i.flags|=512,i.flags|=2097152)}function Xl(t,i,l,f,x){var y=kn(l)?Xi:An.current;return y=As(i,y),vs(i,x),l=Fl(t,i,l,f,y,x),f=Ul(),t!==null&&!Bn?(i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~x,qr(t,i,x)):(Rt&&f&&yl(i),i.flags|=1,_n(t,i,l,x),i.child)}function t1(t,i,l,f,x){if(kn(l)){var y=!0;ta(i)}else y=!1;if(vs(i,x),i.stateNode===null)ya(t,i),wc(i,l,f),Ml(i,l,f,x),f=!0;else if(t===null){var T=i.stateNode,R=i.memoizedProps;T.props=R;var B=T.context,X=l.contextType;typeof X=="object"&&X!==null?X=fr(X):(X=kn(l)?Xi:An.current,X=As(i,X));var ne=l.getDerivedStateFromProps,ie=typeof ne=="function"||typeof T.getSnapshotBeforeUpdate=="function";ie||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(R!==f||B!==X)&&yc(i,T,f,X),yi=!1;var ee=i.memoizedState;T.state=ee,ua(i,f,T,x),B=i.memoizedState,R!==f||ee!==B||Ln.current||yi?(typeof ne=="function"&&(Rl(i,l,ne,f),B=i.memoizedState),(R=yi||mc(i,l,R,f,ee,B,X))?(ie||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(i.flags|=4194308)):(typeof T.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=f,i.memoizedState=B),T.props=f,T.state=B,T.context=X,f=R):(typeof T.componentDidMount=="function"&&(i.flags|=4194308),f=!1)}else{T=i.stateNode,hc(t,i),R=i.memoizedProps,X=i.type===i.elementType?R:Er(i.type,R),T.props=X,ie=i.pendingProps,ee=T.context,B=l.contextType,typeof B=="object"&&B!==null?B=fr(B):(B=kn(l)?Xi:An.current,B=As(i,B));var me=l.getDerivedStateFromProps;(ne=typeof me=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(R!==ie||ee!==B)&&yc(i,T,f,B),yi=!1,ee=i.memoizedState,T.state=ee,ua(i,f,T,x);var Ce=i.memoizedState;R!==ie||ee!==Ce||Ln.current||yi?(typeof me=="function"&&(Rl(i,l,me,f),Ce=i.memoizedState),(X=yi||mc(i,l,X,f,ee,Ce,B)||!1)?(ne||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(f,Ce,B),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(f,Ce,B)),typeof T.componentDidUpdate=="function"&&(i.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof T.componentDidUpdate!="function"||R===t.memoizedProps&&ee===t.memoizedState||(i.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||R===t.memoizedProps&&ee===t.memoizedState||(i.flags|=1024),i.memoizedProps=f,i.memoizedState=Ce),T.props=f,T.state=Ce,T.context=B,f=X):(typeof T.componentDidUpdate!="function"||R===t.memoizedProps&&ee===t.memoizedState||(i.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||R===t.memoizedProps&&ee===t.memoizedState||(i.flags|=1024),f=!1)}return Yl(t,i,l,f,y,x)}function Yl(t,i,l,f,x,y){e1(t,i);var T=(i.flags&128)!==0;if(!f&&!T)return x&&sc(i,l,!1),qr(t,i,y);f=i.stateNode,E0.current=i;var R=T&&typeof l.getDerivedStateFromError!="function"?null:f.render();return i.flags|=1,t!==null&&T?(i.child=_s(i,t.child,null,y),i.child=_s(i,null,R,y)):_n(t,i,R,y),i.memoizedState=f.state,x&&sc(i,l,!0),i.child}function n1(t){var i=t.stateNode;i.pendingContext?rc(t,i.pendingContext,i.pendingContext!==i.context):i.context&&rc(t,i.context,!1),Dl(t,i.containerInfo)}function r1(t,i,l,f,x){return Ts(),Sl(x),i.flags|=256,_n(t,i,l,f),i.child}var Zl={dehydrated:null,treeContext:null,retryLane:0};function Ql(t){return{baseLanes:t,cachePool:null,transitions:null}}function i1(t,i,l){var f=i.pendingProps,x=bt.current,y=!1,T=(i.flags&128)!==0,R;if((R=T)||(R=t!==null&&t.memoizedState===null?!1:(x&2)!==0),R?(y=!0,i.flags&=-129):(t===null||t.memoizedState!==null)&&(x|=1),Tt(bt,x&1),t===null)return Al(i),t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(i.mode&1?t.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(T=f.children,t=f.fallback,y?(f=i.mode,y=i.child,T={mode:"hidden",children:T},!(f&1)&&y!==null?(y.childLanes=0,y.pendingProps=T):y=Ma(T,f,0,null),t=ns(t,f,l,null),y.return=i,t.return=i,y.sibling=t,i.child=y,i.child.memoizedState=Ql(l),i.memoizedState=Zl,t):Kl(i,T));if(x=t.memoizedState,x!==null&&(R=x.dehydrated,R!==null))return C0(t,i,T,f,R,x,l);if(y){y=f.fallback,T=i.mode,x=t.child,R=x.sibling;var B={mode:"hidden",children:f.children};return!(T&1)&&i.child!==x?(f=i.child,f.childLanes=0,f.pendingProps=B,i.deletions=null):(f=Ni(x,B),f.subtreeFlags=x.subtreeFlags&14680064),R!==null?y=Ni(R,y):(y=ns(y,T,l,null),y.flags|=2),y.return=i,f.return=i,f.sibling=y,i.child=f,f=y,y=i.child,T=t.child.memoizedState,T=T===null?Ql(l):{baseLanes:T.baseLanes|l,cachePool:null,transitions:T.transitions},y.memoizedState=T,y.childLanes=t.childLanes&~l,i.memoizedState=Zl,f}return y=t.child,t=y.sibling,f=Ni(y,{mode:"visible",children:f.children}),!(i.mode&1)&&(f.lanes=l),f.return=i,f.sibling=null,t!==null&&(l=i.deletions,l===null?(i.deletions=[t],i.flags|=16):l.push(t)),i.child=f,i.memoizedState=null,f}function Kl(t,i){return i=Ma({mode:"visible",children:i},t.mode,0,null),i.return=t,t.child=i}function wa(t,i,l,f){return f!==null&&Sl(f),_s(i,t.child,null,l),t=Kl(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function C0(t,i,l,f,x,y,T){if(l)return i.flags&256?(i.flags&=-257,f=Wl(Error(c(422))),wa(t,i,T,f)):i.memoizedState!==null?(i.child=t.child,i.flags|=128,null):(y=f.fallback,x=i.mode,f=Ma({mode:"visible",children:f.children},x,0,null),y=ns(y,x,T,null),y.flags|=2,f.return=i,y.return=i,f.sibling=y,i.child=f,i.mode&1&&_s(i,t.child,null,T),i.child.memoizedState=Ql(T),i.memoizedState=Zl,y);if(!(i.mode&1))return wa(t,i,T,null);if(x.data==="$!"){if(f=x.nextSibling&&x.nextSibling.dataset,f)var R=f.dgst;return f=R,y=Error(c(419)),f=Wl(y,f,void 0),wa(t,i,T,f)}if(R=(T&t.childLanes)!==0,Bn||R){if(f=un,f!==null){switch(T&-T){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=x&(f.suspendedLanes|T)?0:x,x!==0&&x!==y.retryLane&&(y.retryLane=x,Qr(t,x),Sr(f,t,x,-1))}return du(),f=Wl(Error(c(421))),wa(t,i,T,f)}return x.data==="$?"?(i.flags|=128,i.child=t.child,i=L0.bind(null,t),x._reactRetry=i,null):(t=y.treeContext,qn=pi(x.nextSibling),Kn=i,Rt=!0,yr=null,t!==null&&(ur[cr++]=Yr,ur[cr++]=Zr,ur[cr++]=Yi,Yr=t.id,Zr=t.overflow,Yi=i),i=Kl(i,f.children),i.flags|=4096,i)}function s1(t,i,l){t.lanes|=i;var f=t.alternate;f!==null&&(f.lanes|=i),vl(t.return,i,l)}function ql(t,i,l,f,x){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:x}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=f,y.tail=l,y.tailMode=x)}function o1(t,i,l){var f=i.pendingProps,x=f.revealOrder,y=f.tail;if(_n(t,i,f.children,l),f=bt.current,f&2)f=f&1|2,i.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&s1(t,l,i);else if(t.tag===19)s1(t,l,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}f&=1}if(Tt(bt,f),!(i.mode&1))i.memoizedState=null;else switch(x){case"forwards":for(l=i.child,x=null;l!==null;)t=l.alternate,t!==null&&da(t)===null&&(x=l),l=l.sibling;l=x,l===null?(x=i.child,i.child=null):(x=l.sibling,l.sibling=null),ql(i,!1,x,l,y);break;case"backwards":for(l=null,x=i.child,i.child=null;x!==null;){if(t=x.alternate,t!==null&&da(t)===null){i.child=x;break}t=x.sibling,x.sibling=l,l=x,x=t}ql(i,!0,l,null,y);break;case"together":ql(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ya(t,i){!(i.mode&1)&&t!==null&&(t.alternate=null,i.alternate=null,i.flags|=2)}function qr(t,i,l){if(t!==null&&(i.dependencies=t.dependencies),Ji|=i.lanes,!(l&i.childLanes))return null;if(t!==null&&i.child!==t.child)throw Error(c(153));if(i.child!==null){for(t=i.child,l=Ni(t,t.pendingProps),i.child=l,l.return=i;t.sibling!==null;)t=t.sibling,l=l.sibling=Ni(t,t.pendingProps),l.return=i;l.sibling=null}return i.child}function A0(t,i,l){switch(i.tag){case 3:n1(i),Ts();break;case 5:Sc(i);break;case 1:kn(i.type)&&ta(i);break;case 4:Dl(i,i.stateNode.containerInfo);break;case 10:var f=i.type._context,x=i.memoizedProps.value;Tt(oa,f._currentValue),f._currentValue=x;break;case 13:if(f=i.memoizedState,f!==null)return f.dehydrated!==null?(Tt(bt,bt.current&1),i.flags|=128,null):l&i.child.childLanes?i1(t,i,l):(Tt(bt,bt.current&1),t=qr(t,i,l),t!==null?t.sibling:null);Tt(bt,bt.current&1);break;case 19:if(f=(l&i.childLanes)!==0,t.flags&128){if(f)return o1(t,i,l);i.flags|=128}if(x=i.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),Tt(bt,bt.current),f)break;return null;case 22:case 23:return i.lanes=0,$c(t,i,l)}return qr(t,i,l)}var a1,Jl,l1,u1;a1=function(t,i){for(var l=i.child;l!==null;){if(l.tag===5||l.tag===6)t.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Jl=function(){},l1=function(t,i,l,f){var x=t.memoizedProps;if(x!==f){t=i.stateNode,Ki(Lr.current);var y=null;switch(l){case"input":x=Nr(t,x),f=Nr(t,f),y=[];break;case"select":x=k({},x,{value:void 0}),f=k({},f,{value:void 0}),y=[];break;case"textarea":x=ti(t,x),f=ti(t,f),y=[];break;default:typeof x.onClick!="function"&&typeof f.onClick=="function"&&(t.onclick=Jo)}ut(l,f);var T;l=null;for(X in x)if(!f.hasOwnProperty(X)&&x.hasOwnProperty(X)&&x[X]!=null)if(X==="style"){var R=x[X];for(T in R)R.hasOwnProperty(T)&&(l||(l={}),l[T]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(E.hasOwnProperty(X)?y||(y=[]):(y=y||[]).push(X,null));for(X in f){var B=f[X];if(R=x!=null?x[X]:void 0,f.hasOwnProperty(X)&&B!==R&&(B!=null||R!=null))if(X==="style")if(R){for(T in R)!R.hasOwnProperty(T)||B&&B.hasOwnProperty(T)||(l||(l={}),l[T]="");for(T in B)B.hasOwnProperty(T)&&R[T]!==B[T]&&(l||(l={}),l[T]=B[T])}else l||(y||(y=[]),y.push(X,l)),l=B;else X==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,R=R?R.__html:void 0,B!=null&&R!==B&&(y=y||[]).push(X,B)):X==="children"?typeof B!="string"&&typeof B!="number"||(y=y||[]).push(X,""+B):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(E.hasOwnProperty(X)?(B!=null&&X==="onScroll"&&Nt("scroll",t),y||R===B||(y=[])):(y=y||[]).push(X,B))}l&&(y=y||[]).push("style",l);var X=y;(i.updateQueue=X)&&(i.flags|=4)}},u1=function(t,i,l,f){l!==f&&(i.flags|=4)};function Eo(t,i){if(!Rt)switch(t.tailMode){case"hidden":i=t.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?t.tail=null:l.sibling=null;break;case"collapsed":l=t.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:f.sibling=null}}function In(t){var i=t.alternate!==null&&t.alternate.child===t.child,l=0,f=0;if(i)for(var x=t.child;x!==null;)l|=x.lanes|x.childLanes,f|=x.subtreeFlags&14680064,f|=x.flags&14680064,x.return=t,x=x.sibling;else for(x=t.child;x!==null;)l|=x.lanes|x.childLanes,f|=x.subtreeFlags,f|=x.flags,x.return=t,x=x.sibling;return t.subtreeFlags|=f,t.childLanes=l,i}function S0(t,i,l){var f=i.pendingProps;switch(El(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return In(i),null;case 1:return kn(i.type)&&ea(),In(i),null;case 3:return f=i.stateNode,Os(),vt(Ln),vt(An),kl(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(t===null||t.child===null)&&(sa(i)?i.flags|=4:t===null||t.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,yr!==null&&(uu(yr),yr=null))),Jl(t,i),In(i),null;case 5:bl(i);var x=Ki(po.current);if(l=i.type,t!==null&&i.stateNode!=null)l1(t,i,l,f,x),t.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!f){if(i.stateNode===null)throw Error(c(166));return In(i),null}if(t=Ki(Lr.current),sa(i)){f=i.stateNode,l=i.type;var y=i.memoizedProps;switch(f[br]=i,f[uo]=y,t=(i.mode&1)!==0,l){case"dialog":Nt("cancel",f),Nt("close",f);break;case"iframe":case"object":case"embed":Nt("load",f);break;case"video":case"audio":for(x=0;x<oo.length;x++)Nt(oo[x],f);break;case"source":Nt("error",f);break;case"img":case"image":case"link":Nt("error",f),Nt("load",f);break;case"details":Nt("toggle",f);break;case"input":jn(f,y),Nt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!y.multiple},Nt("invalid",f);break;case"textarea":Fs(f,y),Nt("invalid",f)}ut(l,y),x=null;for(var T in y)if(y.hasOwnProperty(T)){var R=y[T];T==="children"?typeof R=="string"?f.textContent!==R&&(y.suppressHydrationWarning!==!0&&qo(f.textContent,R,t),x=["children",R]):typeof R=="number"&&f.textContent!==""+R&&(y.suppressHydrationWarning!==!0&&qo(f.textContent,R,t),x=["children",""+R]):E.hasOwnProperty(T)&&R!=null&&T==="onScroll"&&Nt("scroll",f)}switch(l){case"input":Kt(f),pt(f,y,!0);break;case"textarea":Kt(f),os(f);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(f.onclick=Jo)}f=x,i.updateQueue=f,f!==null&&(i.flags|=4)}else{T=x.nodeType===9?x:x.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Rn(l)),t==="http://www.w3.org/1999/xhtml"?l==="script"?(t=T.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof f.is=="string"?t=T.createElement(l,{is:f.is}):(t=T.createElement(l),l==="select"&&(T=t,f.multiple?T.multiple=!0:f.size&&(T.size=f.size))):t=T.createElementNS(t,l),t[br]=i,t[uo]=f,a1(t,i,!1,!1),i.stateNode=t;e:{switch(T=Ct(l,f),l){case"dialog":Nt("cancel",t),Nt("close",t),x=f;break;case"iframe":case"object":case"embed":Nt("load",t),x=f;break;case"video":case"audio":for(x=0;x<oo.length;x++)Nt(oo[x],t);x=f;break;case"source":Nt("error",t),x=f;break;case"img":case"image":case"link":Nt("error",t),Nt("load",t),x=f;break;case"details":Nt("toggle",t),x=f;break;case"input":jn(t,f),x=Nr(t,f),Nt("invalid",t);break;case"option":x=f;break;case"select":t._wrapperState={wasMultiple:!!f.multiple},x=k({},f,{value:void 0}),Nt("invalid",t);break;case"textarea":Fs(t,f),x=ti(t,f),Nt("invalid",t);break;default:x=f}ut(l,x),R=x;for(y in R)if(R.hasOwnProperty(y)){var B=R[y];y==="style"?fe(t,B):y==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,B!=null&&sn(t,B)):y==="children"?typeof B=="string"?(l!=="textarea"||B!=="")&&ni(t,B):typeof B=="number"&&ni(t,""+B):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(E.hasOwnProperty(y)?B!=null&&y==="onScroll"&&Nt("scroll",t):B!=null&&de(t,y,B,T))}switch(l){case"input":Kt(t),pt(t,f,!1);break;case"textarea":Kt(t),os(t);break;case"option":f.value!=null&&t.setAttribute("value",""+Pe(f.value));break;case"select":t.multiple=!!f.multiple,y=f.value,y!=null?we(t,!!f.multiple,y,!1):f.defaultValue!=null&&we(t,!!f.multiple,f.defaultValue,!0);break;default:typeof x.onClick=="function"&&(t.onclick=Jo)}switch(l){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return In(i),null;case 6:if(t&&i.stateNode!=null)u1(t,i,t.memoizedProps,f);else{if(typeof f!="string"&&i.stateNode===null)throw Error(c(166));if(l=Ki(po.current),Ki(Lr.current),sa(i)){if(f=i.stateNode,l=i.memoizedProps,f[br]=i,(y=f.nodeValue!==l)&&(t=Kn,t!==null))switch(t.tag){case 3:qo(f.nodeValue,l,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&qo(f.nodeValue,l,(t.mode&1)!==0)}y&&(i.flags|=4)}else f=(l.nodeType===9?l:l.ownerDocument).createTextNode(f),f[br]=i,i.stateNode=f}return In(i),null;case 13:if(vt(bt),f=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Rt&&qn!==null&&i.mode&1&&!(i.flags&128))fc(),Ts(),i.flags|=98560,y=!1;else if(y=sa(i),f!==null&&f.dehydrated!==null){if(t===null){if(!y)throw Error(c(318));if(y=i.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(c(317));y[br]=i}else Ts(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;In(i),y=!1}else yr!==null&&(uu(yr),yr=null),y=!0;if(!y)return i.flags&65536?i:null}return i.flags&128?(i.lanes=l,i):(f=f!==null,f!==(t!==null&&t.memoizedState!==null)&&f&&(i.child.flags|=8192,i.mode&1&&(t===null||bt.current&1?rn===0&&(rn=3):du())),i.updateQueue!==null&&(i.flags|=4),In(i),null);case 4:return Os(),Jl(t,i),t===null&&ao(i.stateNode.containerInfo),In(i),null;case 10:return Nl(i.type._context),In(i),null;case 17:return kn(i.type)&&ea(),In(i),null;case 19:if(vt(bt),y=i.memoizedState,y===null)return In(i),null;if(f=(i.flags&128)!==0,T=y.rendering,T===null)if(f)Eo(y,!1);else{if(rn!==0||t!==null&&t.flags&128)for(t=i.child;t!==null;){if(T=da(t),T!==null){for(i.flags|=128,Eo(y,!1),f=T.updateQueue,f!==null&&(i.updateQueue=f,i.flags|=4),i.subtreeFlags=0,f=l,l=i.child;l!==null;)y=l,t=f,y.flags&=14680066,T=y.alternate,T===null?(y.childLanes=0,y.lanes=t,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=T.childLanes,y.lanes=T.lanes,y.child=T.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=T.memoizedProps,y.memoizedState=T.memoizedState,y.updateQueue=T.updateQueue,y.type=T.type,t=T.dependencies,y.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),l=l.sibling;return Tt(bt,bt.current&1|2),i.child}t=t.sibling}y.tail!==null&&ht()>bs&&(i.flags|=128,f=!0,Eo(y,!1),i.lanes=4194304)}else{if(!f)if(t=da(T),t!==null){if(i.flags|=128,f=!0,l=t.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),Eo(y,!0),y.tail===null&&y.tailMode==="hidden"&&!T.alternate&&!Rt)return In(i),null}else 2*ht()-y.renderingStartTime>bs&&l!==1073741824&&(i.flags|=128,f=!0,Eo(y,!1),i.lanes=4194304);y.isBackwards?(T.sibling=i.child,i.child=T):(l=y.last,l!==null?l.sibling=T:i.child=T,y.last=T)}return y.tail!==null?(i=y.tail,y.rendering=i,y.tail=i.sibling,y.renderingStartTime=ht(),i.sibling=null,l=bt.current,Tt(bt,f?l&1|2:l&1),i):(In(i),null);case 22:case 23:return fu(),f=i.memoizedState!==null,t!==null&&t.memoizedState!==null!==f&&(i.flags|=8192),f&&i.mode&1?Jn&1073741824&&(In(i),i.subtreeFlags&6&&(i.flags|=8192)):In(i),null;case 24:return null;case 25:return null}throw Error(c(156,i.tag))}function I0(t,i){switch(El(i),i.tag){case 1:return kn(i.type)&&ea(),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Os(),vt(Ln),vt(An),kl(),t=i.flags,t&65536&&!(t&128)?(i.flags=t&-65537|128,i):null;case 5:return bl(i),null;case 13:if(vt(bt),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(c(340));Ts()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return vt(bt),null;case 4:return Os(),null;case 10:return Nl(i.type._context),null;case 22:case 23:return fu(),null;case 24:return null;default:return null}}var Ea=!1,Tn=!1,T0=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function Ms(t,i){var l=t.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(f){Ft(t,i,f)}else l.current=null}function $l(t,i,l){try{l()}catch(f){Ft(t,i,f)}}var c1=!1;function N0(t,i){if(fl=Mr,t=Qe(),He(t)){if("selectionStart"in t)var l={start:t.selectionStart,end:t.selectionEnd};else e:{l=(l=t.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var x=f.anchorOffset,y=f.focusNode;f=f.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var T=0,R=-1,B=-1,X=0,ne=0,ie=t,ee=null;t:for(;;){for(var me;ie!==l||x!==0&&ie.nodeType!==3||(R=T+x),ie!==y||f!==0&&ie.nodeType!==3||(B=T+f),ie.nodeType===3&&(T+=ie.nodeValue.length),(me=ie.firstChild)!==null;)ee=ie,ie=me;for(;;){if(ie===t)break t;if(ee===l&&++X===x&&(R=T),ee===y&&++ne===f&&(B=T),(me=ie.nextSibling)!==null)break;ie=ee,ee=ie.parentNode}ie=me}l=R===-1||B===-1?null:{start:R,end:B}}else l=null}l=l||{start:0,end:0}}else l=null;for(dl={focusedElem:t,selectionRange:l},Mr=!1,Ee=i;Ee!==null;)if(i=Ee,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ee=t;else for(;Ee!==null;){i=Ee;try{var Ce=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Ce!==null){var Ie=Ce.memoizedProps,Gt=Ce.memoizedState,H=i.stateNode,U=H.getSnapshotBeforeUpdate(i.elementType===i.type?Ie:Er(i.type,Ie),Gt);H.__reactInternalSnapshotBeforeUpdate=U}break;case 3:var V=i.stateNode.containerInfo;V.nodeType===1?V.textContent="":V.nodeType===9&&V.documentElement&&V.removeChild(V.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(c(163))}}catch(ae){Ft(i,i.return,ae)}if(t=i.sibling,t!==null){t.return=i.return,Ee=t;break}Ee=i.return}return Ce=c1,c1=!1,Ce}function Co(t,i,l){var f=i.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var x=f=f.next;do{if((x.tag&t)===t){var y=x.destroy;x.destroy=void 0,y!==void 0&&$l(i,l,y)}x=x.next}while(x!==f)}}function Ca(t,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&t)===t){var f=l.create;l.destroy=f()}l=l.next}while(l!==i)}}function eu(t){var i=t.ref;if(i!==null){var l=t.stateNode;switch(t.tag){case 5:t=l;break;default:t=l}typeof i=="function"?i(t):i.current=t}}function f1(t){var i=t.alternate;i!==null&&(t.alternate=null,f1(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&(delete i[br],delete i[uo],delete i[xl],delete i[l0],delete i[u0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function d1(t){return t.tag===5||t.tag===3||t.tag===4}function h1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||d1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function tu(t,i,l){var f=t.tag;if(f===5||f===6)t=t.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(t,i):l.insertBefore(t,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(t,l)):(i=l,i.appendChild(t)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Jo));else if(f!==4&&(t=t.child,t!==null))for(tu(t,i,l),t=t.sibling;t!==null;)tu(t,i,l),t=t.sibling}function nu(t,i,l){var f=t.tag;if(f===5||f===6)t=t.stateNode,i?l.insertBefore(t,i):l.appendChild(t);else if(f!==4&&(t=t.child,t!==null))for(nu(t,i,l),t=t.sibling;t!==null;)nu(t,i,l),t=t.sibling}var pn=null,Cr=!1;function Ci(t,i,l){for(l=l.child;l!==null;)g1(t,i,l),l=l.sibling}function g1(t,i,l){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(rt,l)}catch{}switch(l.tag){case 5:Tn||Ms(l,i);case 6:var f=pn,x=Cr;pn=null,Ci(t,i,l),pn=f,Cr=x,pn!==null&&(Cr?(t=pn,l=l.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)):pn.removeChild(l.stateNode));break;case 18:pn!==null&&(Cr?(t=pn,l=l.stateNode,t.nodeType===8?pl(t.parentNode,l):t.nodeType===1&&pl(t,l),xr(t)):pl(pn,l.stateNode));break;case 4:f=pn,x=Cr,pn=l.stateNode.containerInfo,Cr=!0,Ci(t,i,l),pn=f,Cr=x;break;case 0:case 11:case 14:case 15:if(!Tn&&(f=l.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){x=f=f.next;do{var y=x,T=y.destroy;y=y.tag,T!==void 0&&(y&2||y&4)&&$l(l,i,T),x=x.next}while(x!==f)}Ci(t,i,l);break;case 1:if(!Tn&&(Ms(l,i),f=l.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=l.memoizedProps,f.state=l.memoizedState,f.componentWillUnmount()}catch(R){Ft(l,i,R)}Ci(t,i,l);break;case 21:Ci(t,i,l);break;case 22:l.mode&1?(Tn=(f=Tn)||l.memoizedState!==null,Ci(t,i,l),Tn=f):Ci(t,i,l);break;default:Ci(t,i,l)}}function p1(t){var i=t.updateQueue;if(i!==null){t.updateQueue=null;var l=t.stateNode;l===null&&(l=t.stateNode=new T0),i.forEach(function(f){var x=k0.bind(null,t,f);l.has(f)||(l.add(f),f.then(x,x))})}}function Ar(t,i){var l=i.deletions;if(l!==null)for(var f=0;f<l.length;f++){var x=l[f];try{var y=t,T=i,R=T;e:for(;R!==null;){switch(R.tag){case 5:pn=R.stateNode,Cr=!1;break e;case 3:pn=R.stateNode.containerInfo,Cr=!0;break e;case 4:pn=R.stateNode.containerInfo,Cr=!0;break e}R=R.return}if(pn===null)throw Error(c(160));g1(y,T,x),pn=null,Cr=!1;var B=x.alternate;B!==null&&(B.return=null),x.return=null}catch(X){Ft(x,i,X)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)x1(i,t),i=i.sibling}function x1(t,i){var l=t.alternate,f=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ar(i,t),Br(t),f&4){try{Co(3,t,t.return),Ca(3,t)}catch(Ie){Ft(t,t.return,Ie)}try{Co(5,t,t.return)}catch(Ie){Ft(t,t.return,Ie)}}break;case 1:Ar(i,t),Br(t),f&512&&l!==null&&Ms(l,l.return);break;case 5:if(Ar(i,t),Br(t),f&512&&l!==null&&Ms(l,l.return),t.flags&32){var x=t.stateNode;try{ni(x,"")}catch(Ie){Ft(t,t.return,Ie)}}if(f&4&&(x=t.stateNode,x!=null)){var y=t.memoizedProps,T=l!==null?l.memoizedProps:y,R=t.type,B=t.updateQueue;if(t.updateQueue=null,B!==null)try{R==="input"&&y.type==="radio"&&y.name!=null&&ei(x,y),Ct(R,T);var X=Ct(R,y);for(T=0;T<B.length;T+=2){var ne=B[T],ie=B[T+1];ne==="style"?fe(x,ie):ne==="dangerouslySetInnerHTML"?sn(x,ie):ne==="children"?ni(x,ie):de(x,ne,ie,X)}switch(R){case"input":zt(x,y);break;case"textarea":rr(x,y);break;case"select":var ee=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!y.multiple;var me=y.value;me!=null?we(x,!!y.multiple,me,!1):ee!==!!y.multiple&&(y.defaultValue!=null?we(x,!!y.multiple,y.defaultValue,!0):we(x,!!y.multiple,y.multiple?[]:"",!1))}x[uo]=y}catch(Ie){Ft(t,t.return,Ie)}}break;case 6:if(Ar(i,t),Br(t),f&4){if(t.stateNode===null)throw Error(c(162));x=t.stateNode,y=t.memoizedProps;try{x.nodeValue=y}catch(Ie){Ft(t,t.return,Ie)}}break;case 3:if(Ar(i,t),Br(t),f&4&&l!==null&&l.memoizedState.isDehydrated)try{xr(i.containerInfo)}catch(Ie){Ft(t,t.return,Ie)}break;case 4:Ar(i,t),Br(t);break;case 13:Ar(i,t),Br(t),x=t.child,x.flags&8192&&(y=x.memoizedState!==null,x.stateNode.isHidden=y,!y||x.alternate!==null&&x.alternate.memoizedState!==null||(su=ht())),f&4&&p1(t);break;case 22:if(ne=l!==null&&l.memoizedState!==null,t.mode&1?(Tn=(X=Tn)||ne,Ar(i,t),Tn=X):Ar(i,t),Br(t),f&8192){if(X=t.memoizedState!==null,(t.stateNode.isHidden=X)&&!ne&&t.mode&1)for(Ee=t,ne=t.child;ne!==null;){for(ie=Ee=ne;Ee!==null;){switch(ee=Ee,me=ee.child,ee.tag){case 0:case 11:case 14:case 15:Co(4,ee,ee.return);break;case 1:Ms(ee,ee.return);var Ce=ee.stateNode;if(typeof Ce.componentWillUnmount=="function"){f=ee,l=ee.return;try{i=f,Ce.props=i.memoizedProps,Ce.state=i.memoizedState,Ce.componentWillUnmount()}catch(Ie){Ft(f,l,Ie)}}break;case 5:Ms(ee,ee.return);break;case 22:if(ee.memoizedState!==null){y1(ie);continue}}me!==null?(me.return=ee,Ee=me):y1(ie)}ne=ne.sibling}e:for(ne=null,ie=t;;){if(ie.tag===5){if(ne===null){ne=ie;try{x=ie.stateNode,X?(y=x.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(R=ie.stateNode,B=ie.memoizedProps.style,T=B!=null&&B.hasOwnProperty("display")?B.display:null,R.style.display=Mt("display",T))}catch(Ie){Ft(t,t.return,Ie)}}}else if(ie.tag===6){if(ne===null)try{ie.stateNode.nodeValue=X?"":ie.memoizedProps}catch(Ie){Ft(t,t.return,Ie)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===t)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===t)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===t)break e;ne===ie&&(ne=null),ie=ie.return}ne===ie&&(ne=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:Ar(i,t),Br(t),f&4&&p1(t);break;case 21:break;default:Ar(i,t),Br(t)}}function Br(t){var i=t.flags;if(i&2){try{e:{for(var l=t.return;l!==null;){if(d1(l)){var f=l;break e}l=l.return}throw Error(c(160))}switch(f.tag){case 5:var x=f.stateNode;f.flags&32&&(ni(x,""),f.flags&=-33);var y=h1(t);nu(t,y,x);break;case 3:case 4:var T=f.stateNode.containerInfo,R=h1(t);tu(t,R,T);break;default:throw Error(c(161))}}catch(B){Ft(t,t.return,B)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function v0(t,i,l){Ee=t,m1(t)}function m1(t,i,l){for(var f=(t.mode&1)!==0;Ee!==null;){var x=Ee,y=x.child;if(x.tag===22&&f){var T=x.memoizedState!==null||Ea;if(!T){var R=x.alternate,B=R!==null&&R.memoizedState!==null||Tn;R=Ea;var X=Tn;if(Ea=T,(Tn=B)&&!X)for(Ee=x;Ee!==null;)T=Ee,B=T.child,T.tag===22&&T.memoizedState!==null?E1(x):B!==null?(B.return=T,Ee=B):E1(x);for(;y!==null;)Ee=y,m1(y),y=y.sibling;Ee=x,Ea=R,Tn=X}w1(t)}else x.subtreeFlags&8772&&y!==null?(y.return=x,Ee=y):w1(t)}}function w1(t){for(;Ee!==null;){var i=Ee;if(i.flags&8772){var l=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:Tn||Ca(5,i);break;case 1:var f=i.stateNode;if(i.flags&4&&!Tn)if(l===null)f.componentDidMount();else{var x=i.elementType===i.type?l.memoizedProps:Er(i.type,l.memoizedProps);f.componentDidUpdate(x,l.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var y=i.updateQueue;y!==null&&pc(i,y,f);break;case 3:var T=i.updateQueue;if(T!==null){if(l=null,i.child!==null)switch(i.child.tag){case 5:l=i.child.stateNode;break;case 1:l=i.child.stateNode}pc(i,T,l)}break;case 5:var R=i.stateNode;if(l===null&&i.flags&4){l=R;var B=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":B.autoFocus&&l.focus();break;case"img":B.src&&(l.src=B.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var X=i.alternate;if(X!==null){var ne=X.memoizedState;if(ne!==null){var ie=ne.dehydrated;ie!==null&&xr(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(c(163))}Tn||i.flags&512&&eu(i)}catch(ee){Ft(i,i.return,ee)}}if(i===t){Ee=null;break}if(l=i.sibling,l!==null){l.return=i.return,Ee=l;break}Ee=i.return}}function y1(t){for(;Ee!==null;){var i=Ee;if(i===t){Ee=null;break}var l=i.sibling;if(l!==null){l.return=i.return,Ee=l;break}Ee=i.return}}function E1(t){for(;Ee!==null;){var i=Ee;try{switch(i.tag){case 0:case 11:case 15:var l=i.return;try{Ca(4,i)}catch(B){Ft(i,l,B)}break;case 1:var f=i.stateNode;if(typeof f.componentDidMount=="function"){var x=i.return;try{f.componentDidMount()}catch(B){Ft(i,x,B)}}var y=i.return;try{eu(i)}catch(B){Ft(i,y,B)}break;case 5:var T=i.return;try{eu(i)}catch(B){Ft(i,T,B)}}}catch(B){Ft(i,i.return,B)}if(i===t){Ee=null;break}var R=i.sibling;if(R!==null){R.return=i.return,Ee=R;break}Ee=i.return}}var _0=Math.ceil,Aa=Ne.ReactCurrentDispatcher,ru=Ne.ReactCurrentOwner,hr=Ne.ReactCurrentBatchConfig,ot=0,un=null,Zt=null,xn=0,Jn=0,Ds=xi(0),rn=0,Ao=null,Ji=0,Sa=0,iu=0,So=null,Pn=null,su=0,bs=1/0,Jr=null,Ia=!1,ou=null,Ai=null,Ta=!1,Si=null,Na=0,Io=0,au=null,va=-1,_a=0;function On(){return ot&6?ht():va!==-1?va:va=ht()}function Ii(t){return t.mode&1?ot&2&&xn!==0?xn&-xn:f0.transition!==null?(_a===0&&(_a=Jt()),_a):(t=Ye,t!==0||(t=window.event,t=t===void 0?16:Ks(t.type)),t):1}function Sr(t,i,l,f){if(50<Io)throw Io=0,au=null,Error(c(185));_(t,l,f),(!(ot&2)||t!==un)&&(t===un&&(!(ot&2)&&(Sa|=l),rn===4&&Ti(t,xn)),Fn(t,f),l===1&&ot===0&&!(i.mode&1)&&(bs=ht()+500,na&&wi()))}function Fn(t,i){var l=t.callbackNode;si(t,i);var f=Xn(t,t===un?xn:0);if(f===0)l!==null&&on(l),t.callbackNode=null,t.callbackPriority=0;else if(i=f&-f,t.callbackPriority!==i){if(l!=null&&on(l),i===1)t.tag===0?c0(A1.bind(null,t)):oc(A1.bind(null,t)),o0(function(){!(ot&6)&&wi()}),l=null;else{switch(Po(f)){case 1:l=K;break;case 4:l=ko;break;case 16:l=yt;break;case 536870912:l=Bo;break;default:l=yt}l=R1(l,C1.bind(null,t))}t.callbackPriority=i,t.callbackNode=l}}function C1(t,i){if(va=-1,_a=0,ot&6)throw Error(c(327));var l=t.callbackNode;if(Ls()&&t.callbackNode!==l)return null;var f=Xn(t,t===un?xn:0);if(f===0)return null;if(f&30||f&t.expiredLanes||i)i=Oa(t,f);else{i=f;var x=ot;ot|=2;var y=I1();(un!==t||xn!==i)&&(Jr=null,bs=ht()+500,es(t,i));do try{M0();break}catch(R){S1(t,R)}while(!0);Tl(),Aa.current=y,ot=x,Zt!==null?i=0:(un=null,xn=0,i=rn)}if(i!==0){if(i===2&&(x=gt(t),x!==0&&(f=x,i=lu(t,x))),i===1)throw l=Ao,es(t,0),Ti(t,f),Fn(t,ht()),l;if(i===6)Ti(t,f);else{if(x=t.current.alternate,!(f&30)&&!O0(x)&&(i=Oa(t,f),i===2&&(y=gt(t),y!==0&&(f=y,i=lu(t,y))),i===1))throw l=Ao,es(t,0),Ti(t,f),Fn(t,ht()),l;switch(t.finishedWork=x,t.finishedLanes=f,i){case 0:case 1:throw Error(c(345));case 2:ts(t,Pn,Jr);break;case 3:if(Ti(t,f),(f&130023424)===f&&(i=su+500-ht(),10<i)){if(Xn(t,0)!==0)break;if(x=t.suspendedLanes,(x&f)!==f){On(),t.pingedLanes|=t.suspendedLanes&x;break}t.timeoutHandle=gl(ts.bind(null,t,Pn,Jr),i);break}ts(t,Pn,Jr);break;case 4:if(Ti(t,f),(f&4194240)===f)break;for(i=t.eventTimes,x=-1;0<f;){var T=31-vn(f);y=1<<T,T=i[T],T>x&&(x=T),f&=~y}if(f=x,f=ht()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*_0(f/1960))-f,10<f){t.timeoutHandle=gl(ts.bind(null,t,Pn,Jr),f);break}ts(t,Pn,Jr);break;case 5:ts(t,Pn,Jr);break;default:throw Error(c(329))}}}return Fn(t,ht()),t.callbackNode===l?C1.bind(null,t):null}function lu(t,i){var l=So;return t.current.memoizedState.isDehydrated&&(es(t,i).flags|=256),t=Oa(t,i),t!==2&&(i=Pn,Pn=l,i!==null&&uu(i)),t}function uu(t){Pn===null?Pn=t:Pn.push.apply(Pn,t)}function O0(t){for(var i=t;;){if(i.flags&16384){var l=i.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var f=0;f<l.length;f++){var x=l[f],y=x.getSnapshot;x=x.value;try{if(!z(y(),x))return!1}catch{return!1}}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ti(t,i){for(i&=~iu,i&=~Sa,t.suspendedLanes|=i,t.pingedLanes&=~i,t=t.expirationTimes;0<i;){var l=31-vn(i),f=1<<l;t[l]=-1,i&=~f}}function A1(t){if(ot&6)throw Error(c(327));Ls();var i=Xn(t,0);if(!(i&1))return Fn(t,ht()),null;var l=Oa(t,i);if(t.tag!==0&&l===2){var f=gt(t);f!==0&&(i=f,l=lu(t,f))}if(l===1)throw l=Ao,es(t,0),Ti(t,i),Fn(t,ht()),l;if(l===6)throw Error(c(345));return t.finishedWork=t.current.alternate,t.finishedLanes=i,ts(t,Pn,Jr),Fn(t,ht()),null}function cu(t,i){var l=ot;ot|=1;try{return t(i)}finally{ot=l,ot===0&&(bs=ht()+500,na&&wi())}}function $i(t){Si!==null&&Si.tag===0&&!(ot&6)&&Ls();var i=ot;ot|=1;var l=hr.transition,f=Ye;try{if(hr.transition=null,Ye=1,t)return t()}finally{Ye=f,hr.transition=l,ot=i,!(ot&6)&&wi()}}function fu(){Jn=Ds.current,vt(Ds)}function es(t,i){t.finishedWork=null,t.finishedLanes=0;var l=t.timeoutHandle;if(l!==-1&&(t.timeoutHandle=-1,s0(l)),Zt!==null)for(l=Zt.return;l!==null;){var f=l;switch(El(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&ea();break;case 3:Os(),vt(Ln),vt(An),kl();break;case 5:bl(f);break;case 4:Os();break;case 13:vt(bt);break;case 19:vt(bt);break;case 10:Nl(f.type._context);break;case 22:case 23:fu()}l=l.return}if(un=t,Zt=t=Ni(t.current,null),xn=Jn=i,rn=0,Ao=null,iu=Sa=Ji=0,Pn=So=null,Qi!==null){for(i=0;i<Qi.length;i++)if(l=Qi[i],f=l.interleaved,f!==null){l.interleaved=null;var x=f.next,y=l.pending;if(y!==null){var T=y.next;y.next=x,f.next=T}l.pending=f}Qi=null}return t}function S1(t,i){do{var l=Zt;try{if(Tl(),ha.current=ma,ga){for(var f=Lt.memoizedState;f!==null;){var x=f.queue;x!==null&&(x.pending=null),f=f.next}ga=!1}if(qi=0,ln=nn=Lt=null,xo=!1,mo=0,ru.current=null,l===null||l.return===null){rn=1,Ao=i,Zt=null;break}e:{var y=t,T=l.return,R=l,B=i;if(i=xn,R.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var X=B,ne=R,ie=ne.tag;if(!(ne.mode&1)&&(ie===0||ie===11||ie===15)){var ee=ne.alternate;ee?(ne.updateQueue=ee.updateQueue,ne.memoizedState=ee.memoizedState,ne.lanes=ee.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var me=Zc(T);if(me!==null){me.flags&=-257,Qc(me,T,R,y,i),me.mode&1&&Yc(y,X,i),i=me,B=X;var Ce=i.updateQueue;if(Ce===null){var Ie=new Set;Ie.add(B),i.updateQueue=Ie}else Ce.add(B);break e}else{if(!(i&1)){Yc(y,X,i),du();break e}B=Error(c(426))}}else if(Rt&&R.mode&1){var Gt=Zc(T);if(Gt!==null){!(Gt.flags&65536)&&(Gt.flags|=256),Qc(Gt,T,R,y,i),Sl(Rs(B,R));break e}}y=B=Rs(B,R),rn!==4&&(rn=2),So===null?So=[y]:So.push(y),y=T;do{switch(y.tag){case 3:y.flags|=65536,i&=-i,y.lanes|=i;var H=Gc(y,B,i);gc(y,H);break e;case 1:R=B;var U=y.type,V=y.stateNode;if(!(y.flags&128)&&(typeof U.getDerivedStateFromError=="function"||V!==null&&typeof V.componentDidCatch=="function"&&(Ai===null||!Ai.has(V)))){y.flags|=65536,i&=-i,y.lanes|=i;var ae=Xc(y,R,i);gc(y,ae);break e}}y=y.return}while(y!==null)}N1(l)}catch(Te){i=Te,Zt===l&&l!==null&&(Zt=l=l.return);continue}break}while(!0)}function I1(){var t=Aa.current;return Aa.current=ma,t===null?ma:t}function du(){(rn===0||rn===3||rn===2)&&(rn=4),un===null||!(Ji&268435455)&&!(Sa&268435455)||Ti(un,xn)}function Oa(t,i){var l=ot;ot|=2;var f=I1();(un!==t||xn!==i)&&(Jr=null,es(t,i));do try{R0();break}catch(x){S1(t,x)}while(!0);if(Tl(),ot=l,Aa.current=f,Zt!==null)throw Error(c(261));return un=null,xn=0,rn}function R0(){for(;Zt!==null;)T1(Zt)}function M0(){for(;Zt!==null&&!At();)T1(Zt)}function T1(t){var i=O1(t.alternate,t,Jn);t.memoizedProps=t.pendingProps,i===null?N1(t):Zt=i,ru.current=null}function N1(t){var i=t;do{var l=i.alternate;if(t=i.return,i.flags&32768){if(l=I0(l,i),l!==null){l.flags&=32767,Zt=l;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{rn=6,Zt=null;return}}else if(l=S0(l,i,Jn),l!==null){Zt=l;return}if(i=i.sibling,i!==null){Zt=i;return}Zt=i=t}while(i!==null);rn===0&&(rn=5)}function ts(t,i,l){var f=Ye,x=hr.transition;try{hr.transition=null,Ye=1,D0(t,i,l,f)}finally{hr.transition=x,Ye=f}return null}function D0(t,i,l,f){do Ls();while(Si!==null);if(ot&6)throw Error(c(327));l=t.finishedWork;var x=t.finishedLanes;if(l===null)return null;if(t.finishedWork=null,t.finishedLanes=0,l===t.current)throw Error(c(177));t.callbackNode=null,t.callbackPriority=0;var y=l.lanes|l.childLanes;if(_e(t,y),t===un&&(Zt=un=null,xn=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||Ta||(Ta=!0,R1(yt,function(){return Ls(),null})),y=(l.flags&15990)!==0,l.subtreeFlags&15990||y){y=hr.transition,hr.transition=null;var T=Ye;Ye=1;var R=ot;ot|=4,ru.current=null,N0(t,l),x1(l,t),Cn(dl),Mr=!!fl,dl=fl=null,t.current=l,v0(l),Lo(),ot=R,Ye=T,hr.transition=y}else t.current=l;if(Ta&&(Ta=!1,Si=t,Na=x),y=t.pendingLanes,y===0&&(Ai=null),Je(l.stateNode),Fn(t,ht()),i!==null)for(f=t.onRecoverableError,l=0;l<i.length;l++)x=i[l],f(x.value,{componentStack:x.stack,digest:x.digest});if(Ia)throw Ia=!1,t=ou,ou=null,t;return Na&1&&t.tag!==0&&Ls(),y=t.pendingLanes,y&1?t===au?Io++:(Io=0,au=t):Io=0,wi(),null}function Ls(){if(Si!==null){var t=Po(Na),i=hr.transition,l=Ye;try{if(hr.transition=null,Ye=16>t?16:t,Si===null)var f=!1;else{if(t=Si,Si=null,Na=0,ot&6)throw Error(c(331));var x=ot;for(ot|=4,Ee=t.current;Ee!==null;){var y=Ee,T=y.child;if(Ee.flags&16){var R=y.deletions;if(R!==null){for(var B=0;B<R.length;B++){var X=R[B];for(Ee=X;Ee!==null;){var ne=Ee;switch(ne.tag){case 0:case 11:case 15:Co(8,ne,y)}var ie=ne.child;if(ie!==null)ie.return=ne,Ee=ie;else for(;Ee!==null;){ne=Ee;var ee=ne.sibling,me=ne.return;if(f1(ne),ne===X){Ee=null;break}if(ee!==null){ee.return=me,Ee=ee;break}Ee=me}}}var Ce=y.alternate;if(Ce!==null){var Ie=Ce.child;if(Ie!==null){Ce.child=null;do{var Gt=Ie.sibling;Ie.sibling=null,Ie=Gt}while(Ie!==null)}}Ee=y}}if(y.subtreeFlags&2064&&T!==null)T.return=y,Ee=T;else e:for(;Ee!==null;){if(y=Ee,y.flags&2048)switch(y.tag){case 0:case 11:case 15:Co(9,y,y.return)}var H=y.sibling;if(H!==null){H.return=y.return,Ee=H;break e}Ee=y.return}}var U=t.current;for(Ee=U;Ee!==null;){T=Ee;var V=T.child;if(T.subtreeFlags&2064&&V!==null)V.return=T,Ee=V;else e:for(T=U;Ee!==null;){if(R=Ee,R.flags&2048)try{switch(R.tag){case 0:case 11:case 15:Ca(9,R)}}catch(Te){Ft(R,R.return,Te)}if(R===T){Ee=null;break e}var ae=R.sibling;if(ae!==null){ae.return=R.return,Ee=ae;break e}Ee=R.return}}if(ot=x,wi(),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(rt,t)}catch{}f=!0}return f}finally{Ye=l,hr.transition=i}}return!1}function v1(t,i,l){i=Rs(l,i),i=Gc(t,i,1),t=Ei(t,i,1),i=On(),t!==null&&(_(t,1,i),Fn(t,i))}function Ft(t,i,l){if(t.tag===3)v1(t,t,l);else for(;i!==null;){if(i.tag===3){v1(i,t,l);break}else if(i.tag===1){var f=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Ai===null||!Ai.has(f))){t=Rs(l,t),t=Xc(i,t,1),i=Ei(i,t,1),t=On(),i!==null&&(_(i,1,t),Fn(i,t));break}}i=i.return}}function b0(t,i,l){var f=t.pingCache;f!==null&&f.delete(i),i=On(),t.pingedLanes|=t.suspendedLanes&l,un===t&&(xn&l)===l&&(rn===4||rn===3&&(xn&130023424)===xn&&500>ht()-su?es(t,0):iu|=l),Fn(t,i)}function _1(t,i){i===0&&(t.mode&1?(i=cs,cs<<=1,!(cs&130023424)&&(cs=4194304)):i=1);var l=On();t=Qr(t,i),t!==null&&(_(t,i,l),Fn(t,l))}function L0(t){var i=t.memoizedState,l=0;i!==null&&(l=i.retryLane),_1(t,l)}function k0(t,i){var l=0;switch(t.tag){case 13:var f=t.stateNode,x=t.memoizedState;x!==null&&(l=x.retryLane);break;case 19:f=t.stateNode;break;default:throw Error(c(314))}f!==null&&f.delete(i),_1(t,l)}var O1;O1=function(t,i,l){if(t!==null)if(t.memoizedProps!==i.pendingProps||Ln.current)Bn=!0;else{if(!(t.lanes&l)&&!(i.flags&128))return Bn=!1,A0(t,i,l);Bn=!!(t.flags&131072)}else Bn=!1,Rt&&i.flags&1048576&&ac(i,ia,i.index);switch(i.lanes=0,i.tag){case 2:var f=i.type;ya(t,i),t=i.pendingProps;var x=As(i,An.current);vs(i,l),x=Fl(null,i,f,t,x,l);var y=Ul();return i.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,kn(f)?(y=!0,ta(i)):y=!1,i.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,Ol(i),x.updater=ca,i.stateNode=x,x._reactInternals=i,Ml(i,f,t,l),i=Yl(null,i,f,!0,y,l)):(i.tag=0,Rt&&y&&yl(i),_n(null,i,x,l),i=i.child),i;case 16:f=i.elementType;e:{switch(ya(t,i),t=i.pendingProps,x=f._init,f=x(f._payload),i.type=f,x=i.tag=P0(f),t=Er(f,t),x){case 0:i=Xl(null,i,f,t,l);break e;case 1:i=t1(null,i,f,t,l);break e;case 11:i=Kc(null,i,f,t,l);break e;case 14:i=qc(null,i,f,Er(f.type,t),l);break e}throw Error(c(306,f,""))}return i;case 0:return f=i.type,x=i.pendingProps,x=i.elementType===f?x:Er(f,x),Xl(t,i,f,x,l);case 1:return f=i.type,x=i.pendingProps,x=i.elementType===f?x:Er(f,x),t1(t,i,f,x,l);case 3:e:{if(n1(i),t===null)throw Error(c(387));f=i.pendingProps,y=i.memoizedState,x=y.element,hc(t,i),ua(i,f,null,l);var T=i.memoizedState;if(f=T.element,y.isDehydrated)if(y={element:f,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){x=Rs(Error(c(423)),i),i=r1(t,i,f,l,x);break e}else if(f!==x){x=Rs(Error(c(424)),i),i=r1(t,i,f,l,x);break e}else for(qn=pi(i.stateNode.containerInfo.firstChild),Kn=i,Rt=!0,yr=null,l=Ac(i,null,f,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Ts(),f===x){i=qr(t,i,l);break e}_n(t,i,f,l)}i=i.child}return i;case 5:return Sc(i),t===null&&Al(i),f=i.type,x=i.pendingProps,y=t!==null?t.memoizedProps:null,T=x.children,hl(f,x)?T=null:y!==null&&hl(f,y)&&(i.flags|=32),e1(t,i),_n(t,i,T,l),i.child;case 6:return t===null&&Al(i),null;case 13:return i1(t,i,l);case 4:return Dl(i,i.stateNode.containerInfo),f=i.pendingProps,t===null?i.child=_s(i,null,f,l):_n(t,i,f,l),i.child;case 11:return f=i.type,x=i.pendingProps,x=i.elementType===f?x:Er(f,x),Kc(t,i,f,x,l);case 7:return _n(t,i,i.pendingProps,l),i.child;case 8:return _n(t,i,i.pendingProps.children,l),i.child;case 12:return _n(t,i,i.pendingProps.children,l),i.child;case 10:e:{if(f=i.type._context,x=i.pendingProps,y=i.memoizedProps,T=x.value,Tt(oa,f._currentValue),f._currentValue=T,y!==null)if(z(y.value,T)){if(y.children===x.children&&!Ln.current){i=qr(t,i,l);break e}}else for(y=i.child,y!==null&&(y.return=i);y!==null;){var R=y.dependencies;if(R!==null){T=y.child;for(var B=R.firstContext;B!==null;){if(B.context===f){if(y.tag===1){B=Kr(-1,l&-l),B.tag=2;var X=y.updateQueue;if(X!==null){X=X.shared;var ne=X.pending;ne===null?B.next=B:(B.next=ne.next,ne.next=B),X.pending=B}}y.lanes|=l,B=y.alternate,B!==null&&(B.lanes|=l),vl(y.return,l,i),R.lanes|=l;break}B=B.next}}else if(y.tag===10)T=y.type===i.type?null:y.child;else if(y.tag===18){if(T=y.return,T===null)throw Error(c(341));T.lanes|=l,R=T.alternate,R!==null&&(R.lanes|=l),vl(T,l,i),T=y.sibling}else T=y.child;if(T!==null)T.return=y;else for(T=y;T!==null;){if(T===i){T=null;break}if(y=T.sibling,y!==null){y.return=T.return,T=y;break}T=T.return}y=T}_n(t,i,x.children,l),i=i.child}return i;case 9:return x=i.type,f=i.pendingProps.children,vs(i,l),x=fr(x),f=f(x),i.flags|=1,_n(t,i,f,l),i.child;case 14:return f=i.type,x=Er(f,i.pendingProps),x=Er(f.type,x),qc(t,i,f,x,l);case 15:return Jc(t,i,i.type,i.pendingProps,l);case 17:return f=i.type,x=i.pendingProps,x=i.elementType===f?x:Er(f,x),ya(t,i),i.tag=1,kn(f)?(t=!0,ta(i)):t=!1,vs(i,l),wc(i,f,x),Ml(i,f,x,l),Yl(null,i,f,!0,t,l);case 19:return o1(t,i,l);case 22:return $c(t,i,l)}throw Error(c(156,i.tag))};function R1(t,i){return Wn(t,i)}function B0(t,i,l,f){this.tag=t,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gr(t,i,l,f){return new B0(t,i,l,f)}function hu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function P0(t){if(typeof t=="function")return hu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Oe)return 11;if(t===Y)return 14}return 2}function Ni(t,i){var l=t.alternate;return l===null?(l=gr(t.tag,i,t.key,t.mode),l.elementType=t.elementType,l.type=t.type,l.stateNode=t.stateNode,l.alternate=t,t.alternate=l):(l.pendingProps=i,l.type=t.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=t.flags&14680064,l.childLanes=t.childLanes,l.lanes=t.lanes,l.child=t.child,l.memoizedProps=t.memoizedProps,l.memoizedState=t.memoizedState,l.updateQueue=t.updateQueue,i=t.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=t.sibling,l.index=t.index,l.ref=t.ref,l}function Ra(t,i,l,f,x,y){var T=2;if(f=t,typeof t=="function")hu(t)&&(T=1);else if(typeof t=="string")T=5;else e:switch(t){case $:return ns(l.children,x,y,i);case Ue:T=8,x|=8;break;case re:return t=gr(12,l,i,x|2),t.elementType=re,t.lanes=y,t;case We:return t=gr(13,l,i,x),t.elementType=We,t.lanes=y,t;case ft:return t=gr(19,l,i,x),t.elementType=ft,t.lanes=y,t;case Ae:return Ma(l,x,y,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case mn:T=10;break e;case kt:T=9;break e;case Oe:T=11;break e;case Y:T=14;break e;case it:T=16,f=null;break e}throw Error(c(130,t==null?t:typeof t,""))}return i=gr(T,l,i,x),i.elementType=t,i.type=f,i.lanes=y,i}function ns(t,i,l,f){return t=gr(7,t,f,i),t.lanes=l,t}function Ma(t,i,l,f){return t=gr(22,t,f,i),t.elementType=Ae,t.lanes=l,t.stateNode={isHidden:!1},t}function gu(t,i,l){return t=gr(6,t,null,i),t.lanes=l,t}function pu(t,i,l){return i=gr(4,t.children!==null?t.children:[],t.key,i),i.lanes=l,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function F0(t,i,l,f,x){this.tag=i,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=j(0),this.expirationTimes=j(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=j(0),this.identifierPrefix=f,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function xu(t,i,l,f,x,y,T,R,B){return t=new F0(t,i,l,R,B),i===1?(i=1,y===!0&&(i|=8)):i=0,y=gr(3,null,null,i),t.current=y,y.stateNode=t,y.memoizedState={element:f,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ol(y),t}function U0(t,i,l){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:De,key:f==null?null:""+f,children:t,containerInfo:i,implementation:l}}function M1(t){if(!t)return mi;t=t._reactInternals;e:{if(bn(t)!==t||t.tag!==1)throw Error(c(170));var i=t;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(kn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(c(171))}if(t.tag===1){var l=t.type;if(kn(l))return ic(t,l,i)}return i}function D1(t,i,l,f,x,y,T,R,B){return t=xu(l,f,!0,t,x,y,T,R,B),t.context=M1(null),l=t.current,f=On(),x=Ii(l),y=Kr(f,x),y.callback=i??null,Ei(l,y,x),t.current.lanes=x,_(t,x,f),Fn(t,f),t}function Da(t,i,l,f){var x=i.current,y=On(),T=Ii(x);return l=M1(l),i.context===null?i.context=l:i.pendingContext=l,i=Kr(y,T),i.payload={element:t},f=f===void 0?null:f,f!==null&&(i.callback=f),t=Ei(x,i,T),t!==null&&(Sr(t,x,T,y),la(t,x,T)),T}function ba(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function b1(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var l=t.retryLane;t.retryLane=l!==0&&l<i?l:i}}function mu(t,i){b1(t,i),(t=t.alternate)&&b1(t,i)}function z0(){return null}var L1=typeof reportError=="function"?reportError:function(t){console.error(t)};function wu(t){this._internalRoot=t}La.prototype.render=wu.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(c(409));Da(t,i,null,null)},La.prototype.unmount=wu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;$i(function(){Da(null,t,null,null)}),i[Gr]=null}};function La(t){this._internalRoot=t}La.prototype.unstable_scheduleHydration=function(t){if(t){var i=St();t={blockedOn:null,target:t,priority:i};for(var l=0;l<dn.length&&i!==0&&i<dn[l].priority;l++);dn.splice(l,0,t),l===0&&Uo(t)}};function yu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ka(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function k1(){}function j0(t,i,l,f,x){if(x){if(typeof f=="function"){var y=f;f=function(){var X=ba(T);y.call(X)}}var T=D1(i,f,t,0,null,!1,!1,"",k1);return t._reactRootContainer=T,t[Gr]=T.current,ao(t.nodeType===8?t.parentNode:t),$i(),T}for(;x=t.lastChild;)t.removeChild(x);if(typeof f=="function"){var R=f;f=function(){var X=ba(B);R.call(X)}}var B=xu(t,0,!1,null,null,!1,!1,"",k1);return t._reactRootContainer=B,t[Gr]=B.current,ao(t.nodeType===8?t.parentNode:t),$i(function(){Da(i,B,l,f)}),B}function Ba(t,i,l,f,x){var y=l._reactRootContainer;if(y){var T=y;if(typeof x=="function"){var R=x;x=function(){var B=ba(T);R.call(B)}}Da(i,T,t,x)}else T=j0(l,i,t,x,f);return ba(T)}fs=function(t){switch(t.tag){case 3:var i=t.stateNode;if(i.current.memoizedState.isDehydrated){var l=Et(i.pendingLanes);l!==0&&(Bt(i,l|1),Fn(i,ht()),!(ot&6)&&(bs=ht()+500,wi()))}break;case 13:$i(function(){var f=Qr(t,1);if(f!==null){var x=On();Sr(f,t,1,x)}}),mu(t,1)}},En=function(t){if(t.tag===13){var i=Qr(t,134217728);if(i!==null){var l=On();Sr(i,t,134217728,l)}mu(t,134217728)}},Re=function(t){if(t.tag===13){var i=Ii(t),l=Qr(t,i);if(l!==null){var f=On();Sr(l,t,i,f)}mu(t,i)}},St=function(){return Ye},Ys=function(t,i){var l=Ye;try{return Ye=t,i()}finally{Ye=l}},ls=function(t,i,l){switch(i){case"input":if(zt(t,l),i=l.name,l.type==="radio"&&i!=null){for(l=t;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<l.length;i++){var f=l[i];if(f!==t&&f.form===t.form){var x=$o(f);if(!x)throw Error(c(90));Mi(f),zt(f,x)}}}break;case"textarea":rr(t,l);break;case"select":i=l.value,i!=null&&we(t,!!l.multiple,i,!1)}},us=cu,qt=$i;var H0={usingClientEntryPoint:!1,Events:[co,Es,$o,zs,Dn,cu]},To={findFiberByHostInstance:Gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},V0={bundleType:To.bundleType,version:To.version,rendererPackageName:To.rendererPackageName,rendererConfig:To.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ne.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Do(t),t===null?null:t.stateNode},findFiberByHostInstance:To.findFiberByHostInstance||z0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pa.isDisabled&&Pa.supportsFiber)try{rt=Pa.inject(V0),Xe=Pa}catch{}}return Un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H0,Un.createPortal=function(t,i){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yu(i))throw Error(c(200));return U0(t,i,null,l)},Un.createRoot=function(t,i){if(!yu(t))throw Error(c(299));var l=!1,f="",x=L1;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(x=i.onRecoverableError)),i=xu(t,1,!1,null,null,l,!1,f,x),t[Gr]=i.current,ao(t.nodeType===8?t.parentNode:t),new wu(i)},Un.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(c(188)):(t=Object.keys(t).join(","),Error(c(268,t)));return t=Do(i),t=t===null?null:t.stateNode,t},Un.flushSync=function(t){return $i(t)},Un.hydrate=function(t,i,l){if(!ka(i))throw Error(c(200));return Ba(null,t,i,!0,l)},Un.hydrateRoot=function(t,i,l){if(!yu(t))throw Error(c(405));var f=l!=null&&l.hydratedSources||null,x=!1,y="",T=L1;if(l!=null&&(l.unstable_strictMode===!0&&(x=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),i=D1(i,null,t,1,l??null,x,!1,y,T),t[Gr]=i.current,ao(t),f)for(t=0;t<f.length;t++)l=f[t],x=l._getVersion,x=x(l._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[l,x]:i.mutableSourceEagerHydrationData.push(l,x);return new La(i)},Un.render=function(t,i,l){if(!ka(i))throw Error(c(200));return Ba(null,t,i,!1,l)},Un.unmountComponentAtNode=function(t){if(!ka(t))throw Error(c(40));return t._reactRootContainer?($i(function(){Ba(null,null,t,!1,function(){t._reactRootContainer=null,t[Gr]=null})}),!0):!1},Un.unstable_batchedUpdates=cu,Un.unstable_renderSubtreeIntoContainer=function(t,i,l,f){if(!ka(l))throw Error(c(200));if(t==null||t._reactInternals===void 0)throw Error(c(38));return Ba(t,i,l,!1,f)},Un.version="18.2.0-next-9e3b772b8-20220608",Un}var V1;function $0(){if(V1)return Au.exports;V1=1;function d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d)}catch(h){console.error(h)}}return d(),Au.exports=J0(),Au.exports}var W1;function ed(){if(W1)return Ua;W1=1;var d=$0();return Ua.createRoot=d.createRoot,Ua.hydrateRoot=d.hydrateRoot,Ua}var td=ed();const yg=Bu(td);function Af(d,h){return function(){return d.apply(h,arguments)}}const{toString:nd}=Object.prototype,{getPrototypeOf:Fu}=Object,Ya=(d=>h=>{const c=nd.call(h);return d[c]||(d[c]=c.slice(8,-1).toLowerCase())})(Object.create(null)),Tr=d=>(d=d.toLowerCase(),h=>Ya(h)===d),Za=d=>h=>typeof h===d,{isArray:Bs}=Array,Oo=Za("undefined");function rd(d){return d!==null&&!Oo(d)&&d.constructor!==null&&!Oo(d.constructor)&&nr(d.constructor.isBuffer)&&d.constructor.isBuffer(d)}const Sf=Tr("ArrayBuffer");function id(d){let h;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?h=ArrayBuffer.isView(d):h=d&&d.buffer&&Sf(d.buffer),h}const sd=Za("string"),nr=Za("function"),If=Za("number"),Qa=d=>d!==null&&typeof d=="object",od=d=>d===!0||d===!1,za=d=>{if(Ya(d)!=="object")return!1;const h=Fu(d);return(h===null||h===Object.prototype||Object.getPrototypeOf(h)===null)&&!(Symbol.toStringTag in d)&&!(Symbol.iterator in d)},ad=Tr("Date"),ld=Tr("File"),ud=Tr("Blob"),cd=Tr("FileList"),fd=d=>Qa(d)&&nr(d.pipe),dd=d=>{let h;return d&&(typeof FormData=="function"&&d instanceof FormData||nr(d.append)&&((h=Ya(d))==="formdata"||h==="object"&&nr(d.toString)&&d.toString()==="[object FormData]"))},hd=Tr("URLSearchParams"),[gd,pd,xd,md]=["ReadableStream","Request","Response","Headers"].map(Tr),wd=d=>d.trim?d.trim():d.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ro(d,h,{allOwnKeys:c=!1}={}){if(d===null||typeof d>"u")return;let m,E;if(typeof d!="object"&&(d=[d]),Bs(d))for(m=0,E=d.length;m<E;m++)h.call(null,d[m],m,d);else{const w=c?Object.getOwnPropertyNames(d):Object.keys(d),v=w.length;let M;for(m=0;m<v;m++)M=w[m],h.call(null,d[M],M,d)}}function Tf(d,h){h=h.toLowerCase();const c=Object.keys(d);let m=c.length,E;for(;m-- >0;)if(E=c[m],h===E.toLowerCase())return E;return null}const rs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Nf=d=>!Oo(d)&&d!==rs;function Ou(){const{caseless:d}=Nf(this)&&this||{},h={},c=(m,E)=>{const w=d&&Tf(h,E)||E;za(h[w])&&za(m)?h[w]=Ou(h[w],m):za(m)?h[w]=Ou({},m):Bs(m)?h[w]=m.slice():h[w]=m};for(let m=0,E=arguments.length;m<E;m++)arguments[m]&&Ro(arguments[m],c);return h}const yd=(d,h,c,{allOwnKeys:m}={})=>(Ro(h,(E,w)=>{c&&nr(E)?d[w]=Af(E,c):d[w]=E},{allOwnKeys:m}),d),Ed=d=>(d.charCodeAt(0)===65279&&(d=d.slice(1)),d),Cd=(d,h,c,m)=>{d.prototype=Object.create(h.prototype,m),d.prototype.constructor=d,Object.defineProperty(d,"super",{value:h.prototype}),c&&Object.assign(d.prototype,c)},Ad=(d,h,c,m)=>{let E,w,v;const M={};if(h=h||{},d==null)return h;do{for(E=Object.getOwnPropertyNames(d),w=E.length;w-- >0;)v=E[w],(!m||m(v,d,h))&&!M[v]&&(h[v]=d[v],M[v]=!0);d=c!==!1&&Fu(d)}while(d&&(!c||c(d,h))&&d!==Object.prototype);return h},Sd=(d,h,c)=>{d=String(d),(c===void 0||c>d.length)&&(c=d.length),c-=h.length;const m=d.indexOf(h,c);return m!==-1&&m===c},Id=d=>{if(!d)return null;if(Bs(d))return d;let h=d.length;if(!If(h))return null;const c=new Array(h);for(;h-- >0;)c[h]=d[h];return c},Td=(d=>h=>d&&h instanceof d)(typeof Uint8Array<"u"&&Fu(Uint8Array)),Nd=(d,h)=>{const m=(d&&d[Symbol.iterator]).call(d);let E;for(;(E=m.next())&&!E.done;){const w=E.value;h.call(d,w[0],w[1])}},vd=(d,h)=>{let c;const m=[];for(;(c=d.exec(h))!==null;)m.push(c);return m},_d=Tr("HTMLFormElement"),Od=d=>d.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(c,m,E){return m.toUpperCase()+E}),G1=(({hasOwnProperty:d})=>(h,c)=>d.call(h,c))(Object.prototype),Rd=Tr("RegExp"),vf=(d,h)=>{const c=Object.getOwnPropertyDescriptors(d),m={};Ro(c,(E,w)=>{let v;(v=h(E,w,d))!==!1&&(m[w]=v||E)}),Object.defineProperties(d,m)},Md=d=>{vf(d,(h,c)=>{if(nr(d)&&["arguments","caller","callee"].indexOf(c)!==-1)return!1;const m=d[c];if(nr(m)){if(h.enumerable=!1,"writable"in h){h.writable=!1;return}h.set||(h.set=()=>{throw Error("Can not rewrite read-only method '"+c+"'")})}})},Dd=(d,h)=>{const c={},m=E=>{E.forEach(w=>{c[w]=!0})};return Bs(d)?m(d):m(String(d).split(h)),c},bd=()=>{},Ld=(d,h)=>d!=null&&Number.isFinite(d=+d)?d:h,Tu="abcdefghijklmnopqrstuvwxyz",X1="0123456789",_f={DIGIT:X1,ALPHA:Tu,ALPHA_DIGIT:Tu+Tu.toUpperCase()+X1},kd=(d=16,h=_f.ALPHA_DIGIT)=>{let c="";const{length:m}=h;for(;d--;)c+=h[Math.random()*m|0];return c};function Bd(d){return!!(d&&nr(d.append)&&d[Symbol.toStringTag]==="FormData"&&d[Symbol.iterator])}const Pd=d=>{const h=new Array(10),c=(m,E)=>{if(Qa(m)){if(h.indexOf(m)>=0)return;if(!("toJSON"in m)){h[E]=m;const w=Bs(m)?[]:{};return Ro(m,(v,M)=>{const F=c(v,E+1);!Oo(F)&&(w[M]=F)}),h[E]=void 0,w}}return m};return c(d,0)},Fd=Tr("AsyncFunction"),Ud=d=>d&&(Qa(d)||nr(d))&&nr(d.then)&&nr(d.catch),Of=((d,h)=>d?setImmediate:h?((c,m)=>(rs.addEventListener("message",({source:E,data:w})=>{E===rs&&w===c&&m.length&&m.shift()()},!1),E=>{m.push(E),rs.postMessage(c,"*")}))(`axios@${Math.random()}`,[]):c=>setTimeout(c))(typeof setImmediate=="function",nr(rs.postMessage)),zd=typeof queueMicrotask<"u"?queueMicrotask.bind(rs):typeof process<"u"&&process.nextTick||Of,Z={isArray:Bs,isArrayBuffer:Sf,isBuffer:rd,isFormData:dd,isArrayBufferView:id,isString:sd,isNumber:If,isBoolean:od,isObject:Qa,isPlainObject:za,isReadableStream:gd,isRequest:pd,isResponse:xd,isHeaders:md,isUndefined:Oo,isDate:ad,isFile:ld,isBlob:ud,isRegExp:Rd,isFunction:nr,isStream:fd,isURLSearchParams:hd,isTypedArray:Td,isFileList:cd,forEach:Ro,merge:Ou,extend:yd,trim:wd,stripBOM:Ed,inherits:Cd,toFlatObject:Ad,kindOf:Ya,kindOfTest:Tr,endsWith:Sd,toArray:Id,forEachEntry:Nd,matchAll:vd,isHTMLForm:_d,hasOwnProperty:G1,hasOwnProp:G1,reduceDescriptors:vf,freezeMethods:Md,toObjectSet:Dd,toCamelCase:Od,noop:bd,toFiniteNumber:Ld,findKey:Tf,global:rs,isContextDefined:Nf,ALPHABET:_f,generateString:kd,isSpecCompliantForm:Bd,toJSONObject:Pd,isAsyncFn:Fd,isThenable:Ud,setImmediate:Of,asap:zd};function Ze(d,h,c,m,E){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=d,this.name="AxiosError",h&&(this.code=h),c&&(this.config=c),m&&(this.request=m),E&&(this.response=E,this.status=E.status?E.status:null)}Z.inherits(Ze,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Z.toJSONObject(this.config),code:this.code,status:this.status}}});const Rf=Ze.prototype,Mf={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(d=>{Mf[d]={value:d}});Object.defineProperties(Ze,Mf);Object.defineProperty(Rf,"isAxiosError",{value:!0});Ze.from=(d,h,c,m,E,w)=>{const v=Object.create(Rf);return Z.toFlatObject(d,v,function(F){return F!==Error.prototype},M=>M!=="isAxiosError"),Ze.call(v,d.message,h,c,m,E),v.cause=d,v.name=d.name,w&&Object.assign(v,w),v};const jd=null;function Ru(d){return Z.isPlainObject(d)||Z.isArray(d)}function Df(d){return Z.endsWith(d,"[]")?d.slice(0,-2):d}function Y1(d,h,c){return d?d.concat(h).map(function(E,w){return E=Df(E),!c&&w?"["+E+"]":E}).join(c?".":""):h}function Hd(d){return Z.isArray(d)&&!d.some(Ru)}const Vd=Z.toFlatObject(Z,{},null,function(h){return/^is[A-Z]/.test(h)});function Ka(d,h,c){if(!Z.isObject(d))throw new TypeError("target must be an object");h=h||new FormData,c=Z.toFlatObject(c,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Q,q){return!Z.isUndefined(q[Q])});const m=c.metaTokens,E=c.visitor||D,w=c.dots,v=c.indexes,F=(c.Blob||typeof Blob<"u"&&Blob)&&Z.isSpecCompliantForm(h);if(!Z.isFunction(E))throw new TypeError("visitor must be a function");function S(ue){if(ue===null)return"";if(Z.isDate(ue))return ue.toISOString();if(!F&&Z.isBlob(ue))throw new Ze("Blob is not supported. Use a Buffer instead.");return Z.isArrayBuffer(ue)||Z.isTypedArray(ue)?F&&typeof Blob=="function"?new Blob([ue]):Buffer.from(ue):ue}function D(ue,Q,q){let Fe=ue;if(ue&&!q&&typeof ue=="object"){if(Z.endsWith(Q,"{}"))Q=m?Q:Q.slice(0,-2),ue=JSON.stringify(ue);else if(Z.isArray(ue)&&Hd(ue)||(Z.isFileList(ue)||Z.endsWith(Q,"[]"))&&(Fe=Z.toArray(ue)))return Q=Df(Q),Fe.forEach(function(de,Ne){!(Z.isUndefined(de)||de===null)&&h.append(v===!0?Y1([Q],Ne,w):v===null?Q:Q+"[]",S(de))}),!1}return Ru(ue)?!0:(h.append(Y1(q,Q,w),S(ue)),!1)}const b=[],le=Object.assign(Vd,{defaultVisitor:D,convertValue:S,isVisitable:Ru});function ge(ue,Q){if(!Z.isUndefined(ue)){if(b.indexOf(ue)!==-1)throw Error("Circular reference detected in "+Q.join("."));b.push(ue),Z.forEach(ue,function(Fe,Se){(!(Z.isUndefined(Fe)||Fe===null)&&E.call(h,Fe,Z.isString(Se)?Se.trim():Se,Q,le))===!0&&ge(Fe,Q?Q.concat(Se):[Se])}),b.pop()}}if(!Z.isObject(d))throw new TypeError("data must be an object");return ge(d),h}function Z1(d){const h={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(d).replace(/[!'()~]|%20|%00/g,function(m){return h[m]})}function Uu(d,h){this._pairs=[],d&&Ka(d,this,h)}const bf=Uu.prototype;bf.append=function(h,c){this._pairs.push([h,c])};bf.toString=function(h){const c=h?function(m){return h.call(this,m,Z1)}:Z1;return this._pairs.map(function(E){return c(E[0])+"="+c(E[1])},"").join("&")};function Wd(d){return encodeURIComponent(d).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Lf(d,h,c){if(!h)return d;const m=c&&c.encode||Wd;Z.isFunction(c)&&(c={serialize:c});const E=c&&c.serialize;let w;if(E?w=E(h,c):w=Z.isURLSearchParams(h)?h.toString():new Uu(h,c).toString(m),w){const v=d.indexOf("#");v!==-1&&(d=d.slice(0,v)),d+=(d.indexOf("?")===-1?"?":"&")+w}return d}class Q1{constructor(){this.handlers=[]}use(h,c,m){return this.handlers.push({fulfilled:h,rejected:c,synchronous:m?m.synchronous:!1,runWhen:m?m.runWhen:null}),this.handlers.length-1}eject(h){this.handlers[h]&&(this.handlers[h]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(h){Z.forEach(this.handlers,function(m){m!==null&&h(m)})}}const kf={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Gd=typeof URLSearchParams<"u"?URLSearchParams:Uu,Xd=typeof FormData<"u"?FormData:null,Yd=typeof Blob<"u"?Blob:null,Zd={isBrowser:!0,classes:{URLSearchParams:Gd,FormData:Xd,Blob:Yd},protocols:["http","https","file","blob","url","data"]},zu=typeof window<"u"&&typeof document<"u",Mu=typeof navigator=="object"&&navigator||void 0,Qd=zu&&(!Mu||["ReactNative","NativeScript","NS"].indexOf(Mu.product)<0),Kd=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",qd=zu&&window.location.href||"http://localhost",Jd=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:zu,hasStandardBrowserEnv:Qd,hasStandardBrowserWebWorkerEnv:Kd,navigator:Mu,origin:qd},Symbol.toStringTag,{value:"Module"})),Nn={...Jd,...Zd};function $d(d,h){return Ka(d,new Nn.classes.URLSearchParams,Object.assign({visitor:function(c,m,E,w){return Nn.isNode&&Z.isBuffer(c)?(this.append(m,c.toString("base64")),!1):w.defaultVisitor.apply(this,arguments)}},h))}function eh(d){return Z.matchAll(/\w+|\[(\w*)]/g,d).map(h=>h[0]==="[]"?"":h[1]||h[0])}function th(d){const h={},c=Object.keys(d);let m;const E=c.length;let w;for(m=0;m<E;m++)w=c[m],h[w]=d[w];return h}function Bf(d){function h(c,m,E,w){let v=c[w++];if(v==="__proto__")return!0;const M=Number.isFinite(+v),F=w>=c.length;return v=!v&&Z.isArray(E)?E.length:v,F?(Z.hasOwnProp(E,v)?E[v]=[E[v],m]:E[v]=m,!M):((!E[v]||!Z.isObject(E[v]))&&(E[v]=[]),h(c,m,E[v],w)&&Z.isArray(E[v])&&(E[v]=th(E[v])),!M)}if(Z.isFormData(d)&&Z.isFunction(d.entries)){const c={};return Z.forEachEntry(d,(m,E)=>{h(eh(m),E,c,0)}),c}return null}function nh(d,h,c){if(Z.isString(d))try{return(h||JSON.parse)(d),Z.trim(d)}catch(m){if(m.name!=="SyntaxError")throw m}return(c||JSON.stringify)(d)}const Mo={transitional:kf,adapter:["xhr","http","fetch"],transformRequest:[function(h,c){const m=c.getContentType()||"",E=m.indexOf("application/json")>-1,w=Z.isObject(h);if(w&&Z.isHTMLForm(h)&&(h=new FormData(h)),Z.isFormData(h))return E?JSON.stringify(Bf(h)):h;if(Z.isArrayBuffer(h)||Z.isBuffer(h)||Z.isStream(h)||Z.isFile(h)||Z.isBlob(h)||Z.isReadableStream(h))return h;if(Z.isArrayBufferView(h))return h.buffer;if(Z.isURLSearchParams(h))return c.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),h.toString();let M;if(w){if(m.indexOf("application/x-www-form-urlencoded")>-1)return $d(h,this.formSerializer).toString();if((M=Z.isFileList(h))||m.indexOf("multipart/form-data")>-1){const F=this.env&&this.env.FormData;return Ka(M?{"files[]":h}:h,F&&new F,this.formSerializer)}}return w||E?(c.setContentType("application/json",!1),nh(h)):h}],transformResponse:[function(h){const c=this.transitional||Mo.transitional,m=c&&c.forcedJSONParsing,E=this.responseType==="json";if(Z.isResponse(h)||Z.isReadableStream(h))return h;if(h&&Z.isString(h)&&(m&&!this.responseType||E)){const v=!(c&&c.silentJSONParsing)&&E;try{return JSON.parse(h)}catch(M){if(v)throw M.name==="SyntaxError"?Ze.from(M,Ze.ERR_BAD_RESPONSE,this,null,this.response):M}}return h}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Nn.classes.FormData,Blob:Nn.classes.Blob},validateStatus:function(h){return h>=200&&h<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Z.forEach(["delete","get","head","post","put","patch"],d=>{Mo.headers[d]={}});const rh=Z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ih=d=>{const h={};let c,m,E;return d&&d.split(`
`).forEach(function(v){E=v.indexOf(":"),c=v.substring(0,E).trim().toLowerCase(),m=v.substring(E+1).trim(),!(!c||h[c]&&rh[c])&&(c==="set-cookie"?h[c]?h[c].push(m):h[c]=[m]:h[c]=h[c]?h[c]+", "+m:m)}),h},K1=Symbol("internals");function vo(d){return d&&String(d).trim().toLowerCase()}function ja(d){return d===!1||d==null?d:Z.isArray(d)?d.map(ja):String(d)}function sh(d){const h=Object.create(null),c=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let m;for(;m=c.exec(d);)h[m[1]]=m[2];return h}const oh=d=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(d.trim());function Nu(d,h,c,m,E){if(Z.isFunction(m))return m.call(this,h,c);if(E&&(h=c),!!Z.isString(h)){if(Z.isString(m))return h.indexOf(m)!==-1;if(Z.isRegExp(m))return m.test(h)}}function ah(d){return d.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(h,c,m)=>c.toUpperCase()+m)}function lh(d,h){const c=Z.toCamelCase(" "+h);["get","set","has"].forEach(m=>{Object.defineProperty(d,m+c,{value:function(E,w,v){return this[m].call(this,h,E,w,v)},configurable:!0})})}let zn=class{constructor(h){h&&this.set(h)}set(h,c,m){const E=this;function w(M,F,S){const D=vo(F);if(!D)throw new Error("header name must be a non-empty string");const b=Z.findKey(E,D);(!b||E[b]===void 0||S===!0||S===void 0&&E[b]!==!1)&&(E[b||F]=ja(M))}const v=(M,F)=>Z.forEach(M,(S,D)=>w(S,D,F));if(Z.isPlainObject(h)||h instanceof this.constructor)v(h,c);else if(Z.isString(h)&&(h=h.trim())&&!oh(h))v(ih(h),c);else if(Z.isHeaders(h))for(const[M,F]of h.entries())w(F,M,m);else h!=null&&w(c,h,m);return this}get(h,c){if(h=vo(h),h){const m=Z.findKey(this,h);if(m){const E=this[m];if(!c)return E;if(c===!0)return sh(E);if(Z.isFunction(c))return c.call(this,E,m);if(Z.isRegExp(c))return c.exec(E);throw new TypeError("parser must be boolean|regexp|function")}}}has(h,c){if(h=vo(h),h){const m=Z.findKey(this,h);return!!(m&&this[m]!==void 0&&(!c||Nu(this,this[m],m,c)))}return!1}delete(h,c){const m=this;let E=!1;function w(v){if(v=vo(v),v){const M=Z.findKey(m,v);M&&(!c||Nu(m,m[M],M,c))&&(delete m[M],E=!0)}}return Z.isArray(h)?h.forEach(w):w(h),E}clear(h){const c=Object.keys(this);let m=c.length,E=!1;for(;m--;){const w=c[m];(!h||Nu(this,this[w],w,h,!0))&&(delete this[w],E=!0)}return E}normalize(h){const c=this,m={};return Z.forEach(this,(E,w)=>{const v=Z.findKey(m,w);if(v){c[v]=ja(E),delete c[w];return}const M=h?ah(w):String(w).trim();M!==w&&delete c[w],c[M]=ja(E),m[M]=!0}),this}concat(...h){return this.constructor.concat(this,...h)}toJSON(h){const c=Object.create(null);return Z.forEach(this,(m,E)=>{m!=null&&m!==!1&&(c[E]=h&&Z.isArray(m)?m.join(", "):m)}),c}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([h,c])=>h+": "+c).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(h){return h instanceof this?h:new this(h)}static concat(h,...c){const m=new this(h);return c.forEach(E=>m.set(E)),m}static accessor(h){const m=(this[K1]=this[K1]={accessors:{}}).accessors,E=this.prototype;function w(v){const M=vo(v);m[M]||(lh(E,v),m[M]=!0)}return Z.isArray(h)?h.forEach(w):w(h),this}};zn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Z.reduceDescriptors(zn.prototype,({value:d},h)=>{let c=h[0].toUpperCase()+h.slice(1);return{get:()=>d,set(m){this[c]=m}}});Z.freezeMethods(zn);function vu(d,h){const c=this||Mo,m=h||c,E=zn.from(m.headers);let w=m.data;return Z.forEach(d,function(M){w=M.call(c,w,E.normalize(),h?h.status:void 0)}),E.normalize(),w}function Pf(d){return!!(d&&d.__CANCEL__)}function Ps(d,h,c){Ze.call(this,d??"canceled",Ze.ERR_CANCELED,h,c),this.name="CanceledError"}Z.inherits(Ps,Ze,{__CANCEL__:!0});function Ff(d,h,c){const m=c.config.validateStatus;!c.status||!m||m(c.status)?d(c):h(new Ze("Request failed with status code "+c.status,[Ze.ERR_BAD_REQUEST,Ze.ERR_BAD_RESPONSE][Math.floor(c.status/100)-4],c.config,c.request,c))}function uh(d){const h=/^([-+\w]{1,25})(:?\/\/|:)/.exec(d);return h&&h[1]||""}function ch(d,h){d=d||10;const c=new Array(d),m=new Array(d);let E=0,w=0,v;return h=h!==void 0?h:1e3,function(F){const S=Date.now(),D=m[w];v||(v=S),c[E]=F,m[E]=S;let b=w,le=0;for(;b!==E;)le+=c[b++],b=b%d;if(E=(E+1)%d,E===w&&(w=(w+1)%d),S-v<h)return;const ge=D&&S-D;return ge?Math.round(le*1e3/ge):void 0}}function fh(d,h){let c=0,m=1e3/h,E,w;const v=(S,D=Date.now())=>{c=D,E=null,w&&(clearTimeout(w),w=null),d.apply(null,S)};return[(...S)=>{const D=Date.now(),b=D-c;b>=m?v(S,D):(E=S,w||(w=setTimeout(()=>{w=null,v(E)},m-b)))},()=>E&&v(E)]}const Va=(d,h,c=3)=>{let m=0;const E=ch(50,250);return fh(w=>{const v=w.loaded,M=w.lengthComputable?w.total:void 0,F=v-m,S=E(F),D=v<=M;m=v;const b={loaded:v,total:M,progress:M?v/M:void 0,bytes:F,rate:S||void 0,estimated:S&&M&&D?(M-v)/S:void 0,event:w,lengthComputable:M!=null,[h?"download":"upload"]:!0};d(b)},c)},q1=(d,h)=>{const c=d!=null;return[m=>h[0]({lengthComputable:c,total:d,loaded:m}),h[1]]},J1=d=>(...h)=>Z.asap(()=>d(...h)),dh=Nn.hasStandardBrowserEnv?((d,h)=>c=>(c=new URL(c,Nn.origin),d.protocol===c.protocol&&d.host===c.host&&(h||d.port===c.port)))(new URL(Nn.origin),Nn.navigator&&/(msie|trident)/i.test(Nn.navigator.userAgent)):()=>!0,hh=Nn.hasStandardBrowserEnv?{write(d,h,c,m,E,w){const v=[d+"="+encodeURIComponent(h)];Z.isNumber(c)&&v.push("expires="+new Date(c).toGMTString()),Z.isString(m)&&v.push("path="+m),Z.isString(E)&&v.push("domain="+E),w===!0&&v.push("secure"),document.cookie=v.join("; ")},read(d){const h=document.cookie.match(new RegExp("(^|;\\s*)("+d+")=([^;]*)"));return h?decodeURIComponent(h[3]):null},remove(d){this.write(d,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function gh(d){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(d)}function ph(d,h){return h?d.replace(/\/?\/$/,"")+"/"+h.replace(/^\/+/,""):d}function Uf(d,h){return d&&!gh(h)?ph(d,h):h}const $1=d=>d instanceof zn?{...d}:d;function ss(d,h){h=h||{};const c={};function m(S,D,b,le){return Z.isPlainObject(S)&&Z.isPlainObject(D)?Z.merge.call({caseless:le},S,D):Z.isPlainObject(D)?Z.merge({},D):Z.isArray(D)?D.slice():D}function E(S,D,b,le){if(Z.isUndefined(D)){if(!Z.isUndefined(S))return m(void 0,S,b,le)}else return m(S,D,b,le)}function w(S,D){if(!Z.isUndefined(D))return m(void 0,D)}function v(S,D){if(Z.isUndefined(D)){if(!Z.isUndefined(S))return m(void 0,S)}else return m(void 0,D)}function M(S,D,b){if(b in h)return m(S,D);if(b in d)return m(void 0,S)}const F={url:w,method:w,data:w,baseURL:v,transformRequest:v,transformResponse:v,paramsSerializer:v,timeout:v,timeoutMessage:v,withCredentials:v,withXSRFToken:v,adapter:v,responseType:v,xsrfCookieName:v,xsrfHeaderName:v,onUploadProgress:v,onDownloadProgress:v,decompress:v,maxContentLength:v,maxBodyLength:v,beforeRedirect:v,transport:v,httpAgent:v,httpsAgent:v,cancelToken:v,socketPath:v,responseEncoding:v,validateStatus:M,headers:(S,D,b)=>E($1(S),$1(D),b,!0)};return Z.forEach(Object.keys(Object.assign({},d,h)),function(D){const b=F[D]||E,le=b(d[D],h[D],D);Z.isUndefined(le)&&b!==M||(c[D]=le)}),c}const zf=d=>{const h=ss({},d);let{data:c,withXSRFToken:m,xsrfHeaderName:E,xsrfCookieName:w,headers:v,auth:M}=h;h.headers=v=zn.from(v),h.url=Lf(Uf(h.baseURL,h.url),d.params,d.paramsSerializer),M&&v.set("Authorization","Basic "+btoa((M.username||"")+":"+(M.password?unescape(encodeURIComponent(M.password)):"")));let F;if(Z.isFormData(c)){if(Nn.hasStandardBrowserEnv||Nn.hasStandardBrowserWebWorkerEnv)v.setContentType(void 0);else if((F=v.getContentType())!==!1){const[S,...D]=F?F.split(";").map(b=>b.trim()).filter(Boolean):[];v.setContentType([S||"multipart/form-data",...D].join("; "))}}if(Nn.hasStandardBrowserEnv&&(m&&Z.isFunction(m)&&(m=m(h)),m||m!==!1&&dh(h.url))){const S=E&&w&&hh.read(w);S&&v.set(E,S)}return h},xh=typeof XMLHttpRequest<"u",mh=xh&&function(d){return new Promise(function(c,m){const E=zf(d);let w=E.data;const v=zn.from(E.headers).normalize();let{responseType:M,onUploadProgress:F,onDownloadProgress:S}=E,D,b,le,ge,ue;function Q(){ge&&ge(),ue&&ue(),E.cancelToken&&E.cancelToken.unsubscribe(D),E.signal&&E.signal.removeEventListener("abort",D)}let q=new XMLHttpRequest;q.open(E.method.toUpperCase(),E.url,!0),q.timeout=E.timeout;function Fe(){if(!q)return;const de=zn.from("getAllResponseHeaders"in q&&q.getAllResponseHeaders()),nt={data:!M||M==="text"||M==="json"?q.responseText:q.response,status:q.status,statusText:q.statusText,headers:de,config:d,request:q};Ff(function($){c($),Q()},function($){m($),Q()},nt),q=null}"onloadend"in q?q.onloadend=Fe:q.onreadystatechange=function(){!q||q.readyState!==4||q.status===0&&!(q.responseURL&&q.responseURL.indexOf("file:")===0)||setTimeout(Fe)},q.onabort=function(){q&&(m(new Ze("Request aborted",Ze.ECONNABORTED,d,q)),q=null)},q.onerror=function(){m(new Ze("Network Error",Ze.ERR_NETWORK,d,q)),q=null},q.ontimeout=function(){let Ne=E.timeout?"timeout of "+E.timeout+"ms exceeded":"timeout exceeded";const nt=E.transitional||kf;E.timeoutErrorMessage&&(Ne=E.timeoutErrorMessage),m(new Ze(Ne,nt.clarifyTimeoutError?Ze.ETIMEDOUT:Ze.ECONNABORTED,d,q)),q=null},w===void 0&&v.setContentType(null),"setRequestHeader"in q&&Z.forEach(v.toJSON(),function(Ne,nt){q.setRequestHeader(nt,Ne)}),Z.isUndefined(E.withCredentials)||(q.withCredentials=!!E.withCredentials),M&&M!=="json"&&(q.responseType=E.responseType),S&&([le,ue]=Va(S,!0),q.addEventListener("progress",le)),F&&q.upload&&([b,ge]=Va(F),q.upload.addEventListener("progress",b),q.upload.addEventListener("loadend",ge)),(E.cancelToken||E.signal)&&(D=de=>{q&&(m(!de||de.type?new Ps(null,d,q):de),q.abort(),q=null)},E.cancelToken&&E.cancelToken.subscribe(D),E.signal&&(E.signal.aborted?D():E.signal.addEventListener("abort",D)));const Se=uh(E.url);if(Se&&Nn.protocols.indexOf(Se)===-1){m(new Ze("Unsupported protocol "+Se+":",Ze.ERR_BAD_REQUEST,d));return}q.send(w||null)})},wh=(d,h)=>{const{length:c}=d=d?d.filter(Boolean):[];if(h||c){let m=new AbortController,E;const w=function(S){if(!E){E=!0,M();const D=S instanceof Error?S:this.reason;m.abort(D instanceof Ze?D:new Ps(D instanceof Error?D.message:D))}};let v=h&&setTimeout(()=>{v=null,w(new Ze(`timeout ${h} of ms exceeded`,Ze.ETIMEDOUT))},h);const M=()=>{d&&(v&&clearTimeout(v),v=null,d.forEach(S=>{S.unsubscribe?S.unsubscribe(w):S.removeEventListener("abort",w)}),d=null)};d.forEach(S=>S.addEventListener("abort",w));const{signal:F}=m;return F.unsubscribe=()=>Z.asap(M),F}},yh=function*(d,h){let c=d.byteLength;if(c<h){yield d;return}let m=0,E;for(;m<c;)E=m+h,yield d.slice(m,E),m=E},Eh=async function*(d,h){for await(const c of Ch(d))yield*yh(c,h)},Ch=async function*(d){if(d[Symbol.asyncIterator]){yield*d;return}const h=d.getReader();try{for(;;){const{done:c,value:m}=await h.read();if(c)break;yield m}}finally{await h.cancel()}},ef=(d,h,c,m)=>{const E=Eh(d,h);let w=0,v,M=F=>{v||(v=!0,m&&m(F))};return new ReadableStream({async pull(F){try{const{done:S,value:D}=await E.next();if(S){M(),F.close();return}let b=D.byteLength;if(c){let le=w+=b;c(le)}F.enqueue(new Uint8Array(D))}catch(S){throw M(S),S}},cancel(F){return M(F),E.return()}},{highWaterMark:2})},qa=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",jf=qa&&typeof ReadableStream=="function",Ah=qa&&(typeof TextEncoder=="function"?(d=>h=>d.encode(h))(new TextEncoder):async d=>new Uint8Array(await new Response(d).arrayBuffer())),Hf=(d,...h)=>{try{return!!d(...h)}catch{return!1}},Sh=jf&&Hf(()=>{let d=!1;const h=new Request(Nn.origin,{body:new ReadableStream,method:"POST",get duplex(){return d=!0,"half"}}).headers.has("Content-Type");return d&&!h}),tf=64*1024,Du=jf&&Hf(()=>Z.isReadableStream(new Response("").body)),Wa={stream:Du&&(d=>d.body)};qa&&(d=>{["text","arrayBuffer","blob","formData","stream"].forEach(h=>{!Wa[h]&&(Wa[h]=Z.isFunction(d[h])?c=>c[h]():(c,m)=>{throw new Ze(`Response type '${h}' is not supported`,Ze.ERR_NOT_SUPPORT,m)})})})(new Response);const Ih=async d=>{if(d==null)return 0;if(Z.isBlob(d))return d.size;if(Z.isSpecCompliantForm(d))return(await new Request(Nn.origin,{method:"POST",body:d}).arrayBuffer()).byteLength;if(Z.isArrayBufferView(d)||Z.isArrayBuffer(d))return d.byteLength;if(Z.isURLSearchParams(d)&&(d=d+""),Z.isString(d))return(await Ah(d)).byteLength},Th=async(d,h)=>{const c=Z.toFiniteNumber(d.getContentLength());return c??Ih(h)},Nh=qa&&(async d=>{let{url:h,method:c,data:m,signal:E,cancelToken:w,timeout:v,onDownloadProgress:M,onUploadProgress:F,responseType:S,headers:D,withCredentials:b="same-origin",fetchOptions:le}=zf(d);S=S?(S+"").toLowerCase():"text";let ge=wh([E,w&&w.toAbortSignal()],v),ue;const Q=ge&&ge.unsubscribe&&(()=>{ge.unsubscribe()});let q;try{if(F&&Sh&&c!=="get"&&c!=="head"&&(q=await Th(D,m))!==0){let nt=new Request(h,{method:"POST",body:m,duplex:"half"}),De;if(Z.isFormData(m)&&(De=nt.headers.get("content-type"))&&D.setContentType(De),nt.body){const[$,Ue]=q1(q,Va(J1(F)));m=ef(nt.body,tf,$,Ue)}}Z.isString(b)||(b=b?"include":"omit");const Fe="credentials"in Request.prototype;ue=new Request(h,{...le,signal:ge,method:c.toUpperCase(),headers:D.normalize().toJSON(),body:m,duplex:"half",credentials:Fe?b:void 0});let Se=await fetch(ue);const de=Du&&(S==="stream"||S==="response");if(Du&&(M||de&&Q)){const nt={};["status","statusText","headers"].forEach(re=>{nt[re]=Se[re]});const De=Z.toFiniteNumber(Se.headers.get("content-length")),[$,Ue]=M&&q1(De,Va(J1(M),!0))||[];Se=new Response(ef(Se.body,tf,$,()=>{Ue&&Ue(),Q&&Q()}),nt)}S=S||"text";let Ne=await Wa[Z.findKey(Wa,S)||"text"](Se,d);return!de&&Q&&Q(),await new Promise((nt,De)=>{Ff(nt,De,{data:Ne,headers:zn.from(Se.headers),status:Se.status,statusText:Se.statusText,config:d,request:ue})})}catch(Fe){throw Q&&Q(),Fe&&Fe.name==="TypeError"&&/fetch/i.test(Fe.message)?Object.assign(new Ze("Network Error",Ze.ERR_NETWORK,d,ue),{cause:Fe.cause||Fe}):Ze.from(Fe,Fe&&Fe.code,d,ue)}}),bu={http:jd,xhr:mh,fetch:Nh};Z.forEach(bu,(d,h)=>{if(d){try{Object.defineProperty(d,"name",{value:h})}catch{}Object.defineProperty(d,"adapterName",{value:h})}});const nf=d=>`- ${d}`,vh=d=>Z.isFunction(d)||d===null||d===!1,Vf={getAdapter:d=>{d=Z.isArray(d)?d:[d];const{length:h}=d;let c,m;const E={};for(let w=0;w<h;w++){c=d[w];let v;if(m=c,!vh(c)&&(m=bu[(v=String(c)).toLowerCase()],m===void 0))throw new Ze(`Unknown adapter '${v}'`);if(m)break;E[v||"#"+w]=m}if(!m){const w=Object.entries(E).map(([M,F])=>`adapter ${M} `+(F===!1?"is not supported by the environment":"is not available in the build"));let v=h?w.length>1?`since :
`+w.map(nf).join(`
`):" "+nf(w[0]):"as no adapter specified";throw new Ze("There is no suitable adapter to dispatch the request "+v,"ERR_NOT_SUPPORT")}return m},adapters:bu};function _u(d){if(d.cancelToken&&d.cancelToken.throwIfRequested(),d.signal&&d.signal.aborted)throw new Ps(null,d)}function rf(d){return _u(d),d.headers=zn.from(d.headers),d.data=vu.call(d,d.transformRequest),["post","put","patch"].indexOf(d.method)!==-1&&d.headers.setContentType("application/x-www-form-urlencoded",!1),Vf.getAdapter(d.adapter||Mo.adapter)(d).then(function(m){return _u(d),m.data=vu.call(d,d.transformResponse,m),m.headers=zn.from(m.headers),m},function(m){return Pf(m)||(_u(d),m&&m.response&&(m.response.data=vu.call(d,d.transformResponse,m.response),m.response.headers=zn.from(m.response.headers))),Promise.reject(m)})}const Wf="1.7.9",Ja={};["object","boolean","number","function","string","symbol"].forEach((d,h)=>{Ja[d]=function(m){return typeof m===d||"a"+(h<1?"n ":" ")+d}});const sf={};Ja.transitional=function(h,c,m){function E(w,v){return"[Axios v"+Wf+"] Transitional option '"+w+"'"+v+(m?". "+m:"")}return(w,v,M)=>{if(h===!1)throw new Ze(E(v," has been removed"+(c?" in "+c:"")),Ze.ERR_DEPRECATED);return c&&!sf[v]&&(sf[v]=!0,console.warn(E(v," has been deprecated since v"+c+" and will be removed in the near future"))),h?h(w,v,M):!0}};Ja.spelling=function(h){return(c,m)=>(console.warn(`${m} is likely a misspelling of ${h}`),!0)};function _h(d,h,c){if(typeof d!="object")throw new Ze("options must be an object",Ze.ERR_BAD_OPTION_VALUE);const m=Object.keys(d);let E=m.length;for(;E-- >0;){const w=m[E],v=h[w];if(v){const M=d[w],F=M===void 0||v(M,w,d);if(F!==!0)throw new Ze("option "+w+" must be "+F,Ze.ERR_BAD_OPTION_VALUE);continue}if(c!==!0)throw new Ze("Unknown option "+w,Ze.ERR_BAD_OPTION)}}const Ha={assertOptions:_h,validators:Ja},Pr=Ha.validators;let is=class{constructor(h){this.defaults=h,this.interceptors={request:new Q1,response:new Q1}}async request(h,c){try{return await this._request(h,c)}catch(m){if(m instanceof Error){let E={};Error.captureStackTrace?Error.captureStackTrace(E):E=new Error;const w=E.stack?E.stack.replace(/^.+\n/,""):"";try{m.stack?w&&!String(m.stack).endsWith(w.replace(/^.+\n.+\n/,""))&&(m.stack+=`
`+w):m.stack=w}catch{}}throw m}}_request(h,c){typeof h=="string"?(c=c||{},c.url=h):c=h||{},c=ss(this.defaults,c);const{transitional:m,paramsSerializer:E,headers:w}=c;m!==void 0&&Ha.assertOptions(m,{silentJSONParsing:Pr.transitional(Pr.boolean),forcedJSONParsing:Pr.transitional(Pr.boolean),clarifyTimeoutError:Pr.transitional(Pr.boolean)},!1),E!=null&&(Z.isFunction(E)?c.paramsSerializer={serialize:E}:Ha.assertOptions(E,{encode:Pr.function,serialize:Pr.function},!0)),Ha.assertOptions(c,{baseUrl:Pr.spelling("baseURL"),withXsrfToken:Pr.spelling("withXSRFToken")},!0),c.method=(c.method||this.defaults.method||"get").toLowerCase();let v=w&&Z.merge(w.common,w[c.method]);w&&Z.forEach(["delete","get","head","post","put","patch","common"],ue=>{delete w[ue]}),c.headers=zn.concat(v,w);const M=[];let F=!0;this.interceptors.request.forEach(function(Q){typeof Q.runWhen=="function"&&Q.runWhen(c)===!1||(F=F&&Q.synchronous,M.unshift(Q.fulfilled,Q.rejected))});const S=[];this.interceptors.response.forEach(function(Q){S.push(Q.fulfilled,Q.rejected)});let D,b=0,le;if(!F){const ue=[rf.bind(this),void 0];for(ue.unshift.apply(ue,M),ue.push.apply(ue,S),le=ue.length,D=Promise.resolve(c);b<le;)D=D.then(ue[b++],ue[b++]);return D}le=M.length;let ge=c;for(b=0;b<le;){const ue=M[b++],Q=M[b++];try{ge=ue(ge)}catch(q){Q.call(this,q);break}}try{D=rf.call(this,ge)}catch(ue){return Promise.reject(ue)}for(b=0,le=S.length;b<le;)D=D.then(S[b++],S[b++]);return D}getUri(h){h=ss(this.defaults,h);const c=Uf(h.baseURL,h.url);return Lf(c,h.params,h.paramsSerializer)}};Z.forEach(["delete","get","head","options"],function(h){is.prototype[h]=function(c,m){return this.request(ss(m||{},{method:h,url:c,data:(m||{}).data}))}});Z.forEach(["post","put","patch"],function(h){function c(m){return function(w,v,M){return this.request(ss(M||{},{method:h,headers:m?{"Content-Type":"multipart/form-data"}:{},url:w,data:v}))}}is.prototype[h]=c(),is.prototype[h+"Form"]=c(!0)});let Oh=class Gf{constructor(h){if(typeof h!="function")throw new TypeError("executor must be a function.");let c;this.promise=new Promise(function(w){c=w});const m=this;this.promise.then(E=>{if(!m._listeners)return;let w=m._listeners.length;for(;w-- >0;)m._listeners[w](E);m._listeners=null}),this.promise.then=E=>{let w;const v=new Promise(M=>{m.subscribe(M),w=M}).then(E);return v.cancel=function(){m.unsubscribe(w)},v},h(function(w,v,M){m.reason||(m.reason=new Ps(w,v,M),c(m.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(h){if(this.reason){h(this.reason);return}this._listeners?this._listeners.push(h):this._listeners=[h]}unsubscribe(h){if(!this._listeners)return;const c=this._listeners.indexOf(h);c!==-1&&this._listeners.splice(c,1)}toAbortSignal(){const h=new AbortController,c=m=>{h.abort(m)};return this.subscribe(c),h.signal.unsubscribe=()=>this.unsubscribe(c),h.signal}static source(){let h;return{token:new Gf(function(E){h=E}),cancel:h}}};function Rh(d){return function(c){return d.apply(null,c)}}function Mh(d){return Z.isObject(d)&&d.isAxiosError===!0}const Lu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Lu).forEach(([d,h])=>{Lu[h]=d});function Xf(d){const h=new is(d),c=Af(is.prototype.request,h);return Z.extend(c,is.prototype,h,{allOwnKeys:!0}),Z.extend(c,h,null,{allOwnKeys:!0}),c.create=function(E){return Xf(ss(d,E))},c}const Qt=Xf(Mo);Qt.Axios=is;Qt.CanceledError=Ps;Qt.CancelToken=Oh;Qt.isCancel=Pf;Qt.VERSION=Wf;Qt.toFormData=Ka;Qt.AxiosError=Ze;Qt.Cancel=Qt.CanceledError;Qt.all=function(h){return Promise.all(h)};Qt.spread=Rh;Qt.isAxiosError=Mh;Qt.mergeConfig=ss;Qt.AxiosHeaders=zn;Qt.formToJSON=d=>Bf(Z.isHTMLForm(d)?new FormData(d):d);Qt.getAdapter=Vf.getAdapter;Qt.HttpStatusCode=Lu;Qt.default=Qt;const{Axios:Ag,AxiosError:Sg,CanceledError:Ig,isCancel:Tg,CancelToken:Ng,VERSION:vg,all:_g,Cancel:Og,isAxiosError:Rg,spread:Mg,toFormData:Dg,AxiosHeaders:bg,HttpStatusCode:Lg,formToJSON:kg,getAdapter:Bg,mergeConfig:Pg}=Qt;var ye;(function(d){d[d.QR_CODE=0]="QR_CODE",d[d.AZTEC=1]="AZTEC",d[d.CODABAR=2]="CODABAR",d[d.CODE_39=3]="CODE_39",d[d.CODE_93=4]="CODE_93",d[d.CODE_128=5]="CODE_128",d[d.DATA_MATRIX=6]="DATA_MATRIX",d[d.MAXICODE=7]="MAXICODE",d[d.ITF=8]="ITF",d[d.EAN_13=9]="EAN_13",d[d.EAN_8=10]="EAN_8",d[d.PDF_417=11]="PDF_417",d[d.RSS_14=12]="RSS_14",d[d.RSS_EXPANDED=13]="RSS_EXPANDED",d[d.UPC_A=14]="UPC_A",d[d.UPC_E=15]="UPC_E",d[d.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ye||(ye={}));var of=new Map([[ye.QR_CODE,"QR_CODE"],[ye.AZTEC,"AZTEC"],[ye.CODABAR,"CODABAR"],[ye.CODE_39,"CODE_39"],[ye.CODE_93,"CODE_93"],[ye.CODE_128,"CODE_128"],[ye.DATA_MATRIX,"DATA_MATRIX"],[ye.MAXICODE,"MAXICODE"],[ye.ITF,"ITF"],[ye.EAN_13,"EAN_13"],[ye.EAN_8,"EAN_8"],[ye.PDF_417,"PDF_417"],[ye.RSS_14,"RSS_14"],[ye.RSS_EXPANDED,"RSS_EXPANDED"],[ye.UPC_A,"UPC_A"],[ye.UPC_E,"UPC_E"],[ye.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),af;(function(d){d[d.UNKNOWN=0]="UNKNOWN",d[d.URL=1]="URL"})(af||(af={}));function Dh(d){return Object.values(ye).includes(d)}var Oi;(function(d){d[d.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",d[d.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Oi||(Oi={}));var Ir=function(){function d(){}return d.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",d.SCAN_DEFAULT_FPS=2,d.DEFAULT_DISABLE_FLIP=!1,d.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,d.DEFAULT_SUPPORTED_SCAN_TYPE=[Oi.SCAN_TYPE_CAMERA,Oi.SCAN_TYPE_FILE],d}(),Yf=function(){function d(h,c){this.format=h,this.formatName=c}return d.prototype.toString=function(){return this.formatName},d.create=function(h){if(!of.has(h))throw"".concat(h," not in html5QrcodeSupportedFormatsTextMap");return new d(h,of.get(h))},d}(),lf=function(){function d(){}return d.createFromText=function(h){var c={text:h};return{decodedText:h,result:c}},d.createFromQrcodeResult=function(h){return{decodedText:h.text,result:h}},d}(),ku;(function(d){d[d.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",d[d.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",d[d.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(ku||(ku={}));var Zf=function(){function d(){}return d.createFrom=function(h){return{errorMessage:h,type:ku.UNKWOWN_ERROR}},d}(),Qf=function(){function d(h){this.verbose=h}return d.prototype.log=function(h){this.verbose&&console.log(h)},d.prototype.warn=function(h){this.verbose&&console.warn(h)},d.prototype.logError=function(h,c){(this.verbose||c===!0)&&console.error(h)},d.prototype.logErrors=function(h){if(h.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(h)},d}();function Fr(d){return typeof d>"u"||d===null}function bh(d,h,c){return d>c?c:d<h?h:d}var ks=function(){function d(){}return d.codeParseError=function(h){return"QR code parse error, error = ".concat(h)},d.errorGettingUserMedia=function(h){return"Error getting userMedia, error = ".concat(h)},d.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},d.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},d.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},d.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},d.scannerPaused=function(){return"Scanner paused"},d}(),mt=function(){function d(){}return d.scanningStatus=function(){return"Scanning"},d.idleStatus=function(){return"Idle"},d.errorStatus=function(){return"Error"},d.permissionStatus=function(){return"Permission"},d.noCameraFoundErrorStatus=function(){return"No Cameras"},d.lastMatch=function(h){return"Last Match: ".concat(h)},d.codeScannerTitle=function(){return"Code Scanner"},d.cameraPermissionTitle=function(){return"Request Camera Permissions"},d.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},d.noCameraFound=function(){return"No camera found"},d.scanButtonStopScanningText=function(){return"Stop Scanning"},d.scanButtonStartScanningText=function(){return"Start Scanning"},d.torchOnButton=function(){return"Switch On Torch"},d.torchOffButton=function(){return"Switch Off Torch"},d.torchOnFailedMessage=function(){return"Failed to turn on torch"},d.torchOffFailedMessage=function(){return"Failed to turn off torch"},d.scanButtonScanningStarting=function(){return"Launching Camera..."},d.textIfCameraScanSelected=function(){return"Scan an Image File"},d.textIfFileScanSelected=function(){return"Scan using camera directly"},d.selectCamera=function(){return"Select Camera"},d.fileSelectionChooseImage=function(){return"Choose Image"},d.fileSelectionChooseAnother=function(){return"Choose Another"},d.fileSelectionNoImageSelected=function(){return"No image choosen"},d.anonymousCameraPrefix=function(){return"Anonymous Camera"},d.dragAndDropMessage=function(){return"Or drop an image to scan"},d.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},d.zoom=function(){return"zoom"},d.loadingImage=function(){return"Loading image..."},d.cameraScanAltText=function(){return"Camera based scan"},d.fileScanAltText=function(){return"Fule based scan"},d}(),uf=function(){function d(){}return d.poweredBy=function(){return"Powered by "},d.reportIssues=function(){return"Report issues"},d}(),Kf=function(){function d(){}return d.isMediaStreamConstraintsValid=function(h,c){if(typeof h!="object"){var m=typeof h;return c.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(m,"."),!0),!1}for(var E=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],w=new Set(E),v=Object.keys(h),M=0,F=v;M<F.length;M++){var S=F[M];if(w.has(S))return c.logError("".concat(S," is not supported videoConstaints."),!0),!1}return!0},d}(),_o={exports:{}},Lh=_o.exports,cf;function kh(){return cf||(cf=1,function(d,h){(function(c,m){m(h)})(Lh,function(c){function m(A){return A==null}var E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,e){A.__proto__=e}||function(A,e){for(var n in e)e.hasOwnProperty(n)&&(A[n]=e[n])};function w(A,e){E(A,e);function n(){this.constructor=A}A.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function v(A,e){var n=Object.setPrototypeOf;n?n(A,e):A.__proto__=e}function M(A,e){e===void 0&&(e=A.constructor);var n=Error.captureStackTrace;n&&n(A,e)}var F=function(A){w(e,A);function e(n){var r=this.constructor,s=A.call(this,n)||this;return Object.defineProperty(s,"name",{value:r.name,enumerable:!1}),v(s,r.prototype),M(s),s}return e}(Error);class S extends F{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}S.kind="Exception";class D extends S{}D.kind="ArgumentException";class b extends S{}b.kind="IllegalArgumentException";class le{constructor(e){if(this.binarizer=e,e===null)throw new b("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,n){return this.binarizer.getBlackRow(e,n)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,n,r,s){const o=this.binarizer.getLuminanceSource().crop(e,n,r,s);return new le(this.binarizer.createBinarizer(o))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new le(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new le(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class ge extends S{static getChecksumInstance(){return new ge}}ge.kind="ChecksumException";class ue{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class Q{static arraycopy(e,n,r,s,o){for(;o--;)r[s++]=e[n++]}static currentTimeMillis(){return Date.now()}}class q extends S{}q.kind="IndexOutOfBoundsException";class Fe extends q{constructor(e=void 0,n=void 0){super(n),this.index=e,this.message=n}}Fe.kind="ArrayIndexOutOfBoundsException";class Se{static fill(e,n){for(let r=0,s=e.length;r<s;r++)e[r]=n}static fillWithin(e,n,r,s){Se.rangeCheck(e.length,n,r);for(let o=n;o<r;o++)e[o]=s}static rangeCheck(e,n,r){if(n>r)throw new b("fromIndex("+n+") > toIndex("+r+")");if(n<0)throw new Fe(n);if(r>e)throw new Fe(r)}static asList(...e){return e}static create(e,n,r){return Array.from({length:e}).map(o=>Array.from({length:n}).fill(r))}static createInt32Array(e,n,r){return Array.from({length:e}).map(o=>Int32Array.from({length:n}).fill(r))}static equals(e,n){if(!e||!n||!e.length||!n.length||e.length!==n.length)return!1;for(let r=0,s=e.length;r<s;r++)if(e[r]!==n[r])return!1;return!0}static hashCode(e){if(e===null)return 0;let n=1;for(const r of e)n=31*n+r;return n}static fillUint8Array(e,n){for(let r=0;r!==e.length;r++)e[r]=n}static copyOf(e,n){return e.slice(0,n)}static copyOfUint8Array(e,n){if(e.length<=n){const r=new Uint8Array(n);return r.set(e),r}return e.slice(0,n)}static copyOfRange(e,n,r){const s=r-n,o=new Int32Array(s);return Q.arraycopy(e,n,o,0,s),o}static binarySearch(e,n,r){r===void 0&&(r=Se.numberComparator);let s=0,o=e.length-1;for(;s<=o;){const a=o+s>>1,u=r(n,e[a]);if(u>0)s=a+1;else if(u<0)o=a-1;else return a}return-s-1}static numberComparator(e,n){return e-n}}class de{static numberOfTrailingZeros(e){let n;if(e===0)return 32;let r=31;return n=e<<16,n!==0&&(r-=16,e=n),n=e<<8,n!==0&&(r-=8,e=n),n=e<<4,n!==0&&(r-=4,e=n),n=e<<2,n!==0&&(r-=2,e=n),r-(e<<1>>>31)}static numberOfLeadingZeros(e){if(e===0)return 32;let n=1;return e>>>16||(n+=16,e<<=16),e>>>24||(n+=8,e<<=8),e>>>28||(n+=4,e<<=4),e>>>30||(n+=2,e<<=2),n-=e>>>31,n}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63}static truncDivision(e,n){return Math.trunc(e/n)}static parseInt(e,n=void 0){return parseInt(e,n)}}de.MIN_VALUE_32_BITS=-2147483648,de.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ne{constructor(e,n){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,n==null?this.bits=Ne.makeArray(e):this.bits=n)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>this.bits.length*32){const n=Ne.makeArray(e);Q.arraycopy(this.bits,0,n,0,this.bits.length),this.bits=n}}get(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0}set(e){this.bits[Math.floor(e/32)]|=1<<(e&31)}flip(e){this.bits[Math.floor(e/32)]^=1<<(e&31)}getNextSet(e){const n=this.size;if(e>=n)return n;const r=this.bits;let s=Math.floor(e/32),o=r[s];o&=~((1<<(e&31))-1);const a=r.length;for(;o===0;){if(++s===a)return n;o=r[s]}const u=s*32+de.numberOfTrailingZeros(o);return u>n?n:u}getNextUnset(e){const n=this.size;if(e>=n)return n;const r=this.bits;let s=Math.floor(e/32),o=~r[s];o&=~((1<<(e&31))-1);const a=r.length;for(;o===0;){if(++s===a)return n;o=~r[s]}const u=s*32+de.numberOfTrailingZeros(o);return u>n?n:u}setBulk(e,n){this.bits[Math.floor(e/32)]=n}setRange(e,n){if(n<e||e<0||n>this.size)throw new b;if(n===e)return;n--;const r=Math.floor(e/32),s=Math.floor(n/32),o=this.bits;for(let a=r;a<=s;a++){const u=a>r?0:e&31,p=(2<<(a<s?31:n&31))-(1<<u);o[a]|=p}}clear(){const e=this.bits.length,n=this.bits;for(let r=0;r<e;r++)n[r]=0}isRange(e,n,r){if(n<e||e<0||n>this.size)throw new b;if(n===e)return!0;n--;const s=Math.floor(e/32),o=Math.floor(n/32),a=this.bits;for(let u=s;u<=o;u++){const g=u>s?0:e&31,C=(2<<(u<o?31:n&31))-(1<<g)&4294967295;if((a[u]&C)!==(r?C:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(e,n){if(n<0||n>32)throw new b("Num bits must be between 0 and 32");this.ensureCapacity(this.size+n);for(let r=n;r>0;r--)this.appendBit((e>>r-1&1)===1)}appendBitArray(e){const n=e.size;this.ensureCapacity(this.size+n);for(let r=0;r<n;r++)this.appendBit(e.get(r))}xor(e){if(this.size!==e.size)throw new b("Sizes don't match");const n=this.bits;for(let r=0,s=n.length;r<s;r++)n[r]^=e.bits[r]}toBytes(e,n,r,s){for(let o=0;o<s;o++){let a=0;for(let u=0;u<8;u++)this.get(e)&&(a|=1<<7-u),e++;n[r+o]=a}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),n=Math.floor((this.size-1)/32),r=n+1,s=this.bits;for(let o=0;o<r;o++){let a=s[o];a=a>>1&1431655765|(a&1431655765)<<1,a=a>>2&858993459|(a&858993459)<<2,a=a>>4&252645135|(a&252645135)<<4,a=a>>8&16711935|(a&16711935)<<8,a=a>>16&65535|(a&65535)<<16,e[n-o]=a}if(this.size!==r*32){const o=r*32-this.size;let a=e[0]>>>o;for(let u=1;u<r;u++){const g=e[u];a|=g<<32-o,e[u-1]=a,a=g>>>o}e[r-1]=a}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof Ne))return!1;const n=e;return this.size===n.size&&Se.equals(this.bits,n.bits)}hashCode(){return 31*this.size+Se.hashCode(this.bits)}toString(){let e="";for(let n=0,r=this.size;n<r;n++)n&7||(e+=" "),e+=this.get(n)?"X":".";return e}clone(){return new Ne(this.size,this.bits.slice())}}var nt;(function(A){A[A.OTHER=0]="OTHER",A[A.PURE_BARCODE=1]="PURE_BARCODE",A[A.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",A[A.TRY_HARDER=3]="TRY_HARDER",A[A.CHARACTER_SET=4]="CHARACTER_SET",A[A.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",A[A.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",A[A.ASSUME_GS1=7]="ASSUME_GS1",A[A.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",A[A.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",A[A.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(nt||(nt={}));var De=nt;class $ extends S{static getFormatInstance(){return new $}}$.kind="FormatException";var Ue;(function(A){A[A.Cp437=0]="Cp437",A[A.ISO8859_1=1]="ISO8859_1",A[A.ISO8859_2=2]="ISO8859_2",A[A.ISO8859_3=3]="ISO8859_3",A[A.ISO8859_4=4]="ISO8859_4",A[A.ISO8859_5=5]="ISO8859_5",A[A.ISO8859_6=6]="ISO8859_6",A[A.ISO8859_7=7]="ISO8859_7",A[A.ISO8859_8=8]="ISO8859_8",A[A.ISO8859_9=9]="ISO8859_9",A[A.ISO8859_10=10]="ISO8859_10",A[A.ISO8859_11=11]="ISO8859_11",A[A.ISO8859_13=12]="ISO8859_13",A[A.ISO8859_14=13]="ISO8859_14",A[A.ISO8859_15=14]="ISO8859_15",A[A.ISO8859_16=15]="ISO8859_16",A[A.SJIS=16]="SJIS",A[A.Cp1250=17]="Cp1250",A[A.Cp1251=18]="Cp1251",A[A.Cp1252=19]="Cp1252",A[A.Cp1256=20]="Cp1256",A[A.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",A[A.UTF8=22]="UTF8",A[A.ASCII=23]="ASCII",A[A.Big5=24]="Big5",A[A.GB18030=25]="GB18030",A[A.EUC_KR=26]="EUC_KR"})(Ue||(Ue={}));class re{constructor(e,n,r,...s){this.valueIdentifier=e,this.name=r,typeof n=="number"?this.values=Int32Array.from([n]):this.values=n,this.otherEncodingNames=s,re.VALUE_IDENTIFIER_TO_ECI.set(e,this),re.NAME_TO_ECI.set(r,this);const o=this.values;for(let a=0,u=o.length;a!==u;a++){const g=o[a];re.VALUES_TO_ECI.set(g,this)}for(const a of s)re.NAME_TO_ECI.set(a,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new $("incorect value");const n=re.VALUES_TO_ECI.get(e);if(n===void 0)throw new $("incorect value");return n}static getCharacterSetECIByName(e){const n=re.NAME_TO_ECI.get(e);if(n===void 0)throw new $("incorect value");return n}equals(e){if(!(e instanceof re))return!1;const n=e;return this.getName()===n.getName()}}re.VALUE_IDENTIFIER_TO_ECI=new Map,re.VALUES_TO_ECI=new Map,re.NAME_TO_ECI=new Map,re.Cp437=new re(Ue.Cp437,Int32Array.from([0,2]),"Cp437"),re.ISO8859_1=new re(Ue.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),re.ISO8859_2=new re(Ue.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),re.ISO8859_3=new re(Ue.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),re.ISO8859_4=new re(Ue.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),re.ISO8859_5=new re(Ue.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),re.ISO8859_6=new re(Ue.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),re.ISO8859_7=new re(Ue.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),re.ISO8859_8=new re(Ue.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),re.ISO8859_9=new re(Ue.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),re.ISO8859_10=new re(Ue.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),re.ISO8859_11=new re(Ue.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),re.ISO8859_13=new re(Ue.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),re.ISO8859_14=new re(Ue.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),re.ISO8859_15=new re(Ue.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),re.ISO8859_16=new re(Ue.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),re.SJIS=new re(Ue.SJIS,20,"SJIS","Shift_JIS"),re.Cp1250=new re(Ue.Cp1250,21,"Cp1250","windows-1250"),re.Cp1251=new re(Ue.Cp1251,22,"Cp1251","windows-1251"),re.Cp1252=new re(Ue.Cp1252,23,"Cp1252","windows-1252"),re.Cp1256=new re(Ue.Cp1256,24,"Cp1256","windows-1256"),re.UnicodeBigUnmarked=new re(Ue.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),re.UTF8=new re(Ue.UTF8,26,"UTF8","UTF-8"),re.ASCII=new re(Ue.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),re.Big5=new re(Ue.Big5,28,"Big5"),re.GB18030=new re(Ue.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),re.EUC_KR=new re(Ue.EUC_KR,30,"EUC_KR","EUC-KR");class mn extends S{}mn.kind="UnsupportedOperationException";class kt{static decode(e,n){const r=this.encodingName(n);return this.customDecoder?this.customDecoder(e,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(e,r):new TextDecoder(r).decode(e)}static shouldDecodeOnFallback(e){return!kt.isBrowser()&&e==="ISO-8859-1"}static encode(e,n){const r=this.encodingName(n);return this.customEncoder?this.customEncoder(e,r):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(e){return typeof e=="string"?e:e.getName()}static encodingCharacterSet(e){return e instanceof re?e:re.getCharacterSetECIByName(e)}static decodeFallback(e,n){const r=this.encodingCharacterSet(n);if(kt.isDecodeFallbackSupported(r)){let s="";for(let o=0,a=e.length;o<a;o++){let u=e[o].toString(16);u.length<2&&(u="0"+u),s+="%"+u}return decodeURIComponent(s)}if(r.equals(re.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new mn(`Encoding ${this.encodingName(n)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(re.UTF8)||e.equals(re.ISO8859_1)||e.equals(re.ASCII)}static encodeFallback(e){const r=btoa(unescape(encodeURIComponent(e))).split(""),s=[];for(let o=0;o<r.length;o++)s.push(r[o].charCodeAt(0));return new Uint8Array(s)}}class Oe{static castAsNonUtf8Char(e,n=null){const r=n?n.getName():this.ISO88591;return kt.decode(new Uint8Array([e]),r)}static guessEncoding(e,n){if(n!=null&&n.get(De.CHARACTER_SET)!==void 0)return n.get(De.CHARACTER_SET).toString();const r=e.length;let s=!0,o=!0,a=!0,u=0,g=0,p=0,C=0,I=0,N=0,O=0,L=0,P=0,z=0,W=0;const se=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191;for(let oe=0;oe<r&&(s||o||a);oe++){const te=e[oe]&255;a&&(u>0?te&128?u--:a=!1:te&128&&(te&64?(u++,te&32?(u++,te&16?(u++,te&8?a=!1:C++):p++):g++):a=!1)),s&&(te>127&&te<160?s=!1:te>159&&(te<192||te===215||te===247)&&W++),o&&(I>0?te<64||te===127||te>252?o=!1:I--:te===128||te===160||te>239?o=!1:te>160&&te<224?(N++,L=0,O++,O>P&&(P=O)):te>127?(I++,O=0,L++,L>z&&(z=L)):(O=0,L=0))}return a&&u>0&&(a=!1),o&&I>0&&(o=!1),a&&(se||g+p+C>0)?Oe.UTF8:o&&(Oe.ASSUME_SHIFT_JIS||P>=3||z>=3)?Oe.SHIFT_JIS:s&&o?P===2&&N===2||W*10>=r?Oe.SHIFT_JIS:Oe.ISO88591:s?Oe.ISO88591:o?Oe.SHIFT_JIS:a?Oe.UTF8:Oe.PLATFORM_DEFAULT_ENCODING}static format(e,...n){let r=-1;function s(a,u,g,p,C,I){if(a==="%%")return"%";if(n[++r]===void 0)return;a=p?parseInt(p.substr(1)):void 0;let N=C?parseInt(C.substr(1)):void 0,O;switch(I){case"s":O=n[r];break;case"c":O=n[r][0];break;case"f":O=parseFloat(n[r]).toFixed(a);break;case"p":O=parseFloat(n[r]).toPrecision(a);break;case"e":O=parseFloat(n[r]).toExponential(a);break;case"x":O=parseInt(n[r]).toString(N||16);break;case"d":O=parseFloat(parseInt(n[r],N||10).toPrecision(a)).toFixed(0);break}O=typeof O=="object"?JSON.stringify(O):(+O).toString(N);let L=parseInt(g),P=g&&g[0]+""=="0"?"0":" ";for(;O.length<L;)O=u!==void 0?O+P:P+O;return O}let o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,s)}static getBytes(e,n){return kt.encode(e,n)}static getCharCode(e,n=0){return e.charCodeAt(n)}static getCharAt(e){return String.fromCharCode(e)}}Oe.SHIFT_JIS=re.SJIS.getName(),Oe.GB2312="GB2312",Oe.ISO88591=re.ISO8859_1.getName(),Oe.EUC_JP="EUC_JP",Oe.UTF8=re.UTF8.getName(),Oe.PLATFORM_DEFAULT_ENCODING=Oe.UTF8,Oe.ASSUME_SHIFT_JIS=!1;class We{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=Oe.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,n,r){for(let s=n;n<n+r;s++)this.append(e[s]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+1)}substring(e,n){return this.value.substring(e,n)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+n.length)}}class ft{constructor(e,n,r,s){if(this.width=e,this.height=n,this.rowSize=r,this.bits=s,n==null&&(n=e),this.height=n,e<1||n<1)throw new b("Both dimensions must be greater than 0");r==null&&(r=Math.floor((e+31)/32)),this.rowSize=r,s==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const n=e.length,r=e[0].length,s=new ft(r,n);for(let o=0;o<n;o++){const a=e[o];for(let u=0;u<r;u++)a[u]&&s.set(u,o)}return s}static parseFromString(e,n,r){if(e===null)throw new b("stringRepresentation cannot be null");const s=new Array(e.length);let o=0,a=0,u=-1,g=0,p=0;for(;p<e.length;)if(e.charAt(p)===`
`||e.charAt(p)==="\r"){if(o>a){if(u===-1)u=o-a;else if(o-a!==u)throw new b("row lengths do not match");a=o,g++}p++}else if(e.substring(p,p+n.length)===n)p+=n.length,s[o]=!0,o++;else if(e.substring(p,p+r.length)===r)p+=r.length,s[o]=!1,o++;else throw new b("illegal character encountered: "+e.substring(p));if(o>a){if(u===-1)u=o-a;else if(o-a!==u)throw new b("row lengths do not match");g++}const C=new ft(u,g);for(let I=0;I<o;I++)s[I]&&C.set(Math.floor(I%u),Math.floor(I/u));return C}get(e,n){const r=n*this.rowSize+Math.floor(e/32);return(this.bits[r]>>>(e&31)&1)!==0}set(e,n){const r=n*this.rowSize+Math.floor(e/32);this.bits[r]|=1<<(e&31)&4294967295}unset(e,n){const r=n*this.rowSize+Math.floor(e/32);this.bits[r]&=~(1<<(e&31)&4294967295)}flip(e,n){const r=n*this.rowSize+Math.floor(e/32);this.bits[r]^=1<<(e&31)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new b("input matrix dimensions do not match");const n=new Ne(Math.floor(this.width/32)+1),r=this.rowSize,s=this.bits;for(let o=0,a=this.height;o<a;o++){const u=o*r,g=e.getRow(o,n).getBitArray();for(let p=0;p<r;p++)s[u+p]^=g[p]}}clear(){const e=this.bits,n=e.length;for(let r=0;r<n;r++)e[r]=0}setRegion(e,n,r,s){if(n<0||e<0)throw new b("Left and top must be nonnegative");if(s<1||r<1)throw new b("Height and width must be at least 1");const o=e+r,a=n+s;if(a>this.height||o>this.width)throw new b("The region must fit inside the matrix");const u=this.rowSize,g=this.bits;for(let p=n;p<a;p++){const C=p*u;for(let I=e;I<o;I++)g[C+Math.floor(I/32)]|=1<<(I&31)&4294967295}}getRow(e,n){n==null||n.getSize()<this.width?n=new Ne(this.width):n.clear();const r=this.rowSize,s=this.bits,o=e*r;for(let a=0;a<r;a++)n.setBulk(a*32,s[o+a]);return n}setRow(e,n){Q.arraycopy(n.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),n=this.getHeight();let r=new Ne(e),s=new Ne(e);for(let o=0,a=Math.floor((n+1)/2);o<a;o++)r=this.getRow(o,r),s=this.getRow(n-1-o,s),r.reverse(),s.reverse(),this.setRow(o,s),this.setRow(n-1-o,r)}getEnclosingRectangle(){const e=this.width,n=this.height,r=this.rowSize,s=this.bits;let o=e,a=n,u=-1,g=-1;for(let p=0;p<n;p++)for(let C=0;C<r;C++){const I=s[p*r+C];if(I!==0){if(p<a&&(a=p),p>g&&(g=p),C*32<o){let N=0;for(;!(I<<31-N&4294967295);)N++;C*32+N<o&&(o=C*32+N)}if(C*32+31>u){let N=31;for(;!(I>>>N);)N--;C*32+N>u&&(u=C*32+N)}}}return u<o||g<a?null:Int32Array.from([o,a,u-o+1,g-a+1])}getTopLeftOnBit(){const e=this.rowSize,n=this.bits;let r=0;for(;r<n.length&&n[r]===0;)r++;if(r===n.length)return null;const s=r/e;let o=r%e*32;const a=n[r];let u=0;for(;!(a<<31-u&4294967295);)u++;return o+=u,Int32Array.from([o,s])}getBottomRightOnBit(){const e=this.rowSize,n=this.bits;let r=n.length-1;for(;r>=0&&n[r]===0;)r--;if(r<0)return null;const s=Math.floor(r/e);let o=Math.floor(r%e)*32;const a=n[r];let u=31;for(;!(a>>>u);)u--;return o+=u,Int32Array.from([o,s])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof ft))return!1;const n=e;return this.width===n.width&&this.height===n.height&&this.rowSize===n.rowSize&&Se.equals(this.bits,n.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+Se.hashCode(this.bits),e}toString(e="X ",n="  ",r=`
`){return this.buildToString(e,n,r)}buildToString(e,n,r){let s=new We;for(let o=0,a=this.height;o<a;o++){for(let u=0,g=this.width;u<g;u++)s.append(this.get(u,o)?e:n);s.append(r)}return s.toString()}clone(){return new ft(this.width,this.height,this.rowSize,this.bits.slice())}}class Y extends S{static getNotFoundInstance(){return new Y}}Y.kind="NotFoundException";class it extends ue{constructor(e){super(e),this.luminances=it.EMPTY,this.buckets=new Int32Array(it.LUMINANCE_BUCKETS)}getBlackRow(e,n){const r=this.getLuminanceSource(),s=r.getWidth();n==null||n.getSize()<s?n=new Ne(s):n.clear(),this.initArrays(s);const o=r.getRow(e,this.luminances),a=this.buckets;for(let g=0;g<s;g++)a[(o[g]&255)>>it.LUMINANCE_SHIFT]++;const u=it.estimateBlackPoint(a);if(s<3)for(let g=0;g<s;g++)(o[g]&255)<u&&n.set(g);else{let g=o[0]&255,p=o[1]&255;for(let C=1;C<s-1;C++){const I=o[C+1]&255;(p*4-g-I)/2<u&&n.set(C),g=p,p=I}}return n}getBlackMatrix(){const e=this.getLuminanceSource(),n=e.getWidth(),r=e.getHeight(),s=new ft(n,r);this.initArrays(n);const o=this.buckets;for(let g=1;g<5;g++){const p=Math.floor(r*g/5),C=e.getRow(p,this.luminances),I=Math.floor(n*4/5);for(let N=Math.floor(n/5);N<I;N++){const O=C[N]&255;o[O>>it.LUMINANCE_SHIFT]++}}const a=it.estimateBlackPoint(o),u=e.getMatrix();for(let g=0;g<r;g++){const p=g*n;for(let C=0;C<n;C++)(u[p+C]&255)<a&&s.set(C,g)}return s}createBinarizer(e){return new it(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const n=this.buckets;for(let r=0;r<it.LUMINANCE_BUCKETS;r++)n[r]=0}static estimateBlackPoint(e){const n=e.length;let r=0,s=0,o=0;for(let C=0;C<n;C++)e[C]>o&&(s=C,o=e[C]),e[C]>r&&(r=e[C]);let a=0,u=0;for(let C=0;C<n;C++){const I=C-s,N=e[C]*I*I;N>u&&(a=C,u=N)}if(s>a){const C=s;s=a,a=C}if(a-s<=n/16)throw new Y;let g=a-1,p=-1;for(let C=a-1;C>s;C--){const I=C-s,N=I*I*(a-C)*(r-e[C]);N>p&&(g=C,p=N)}return g<<it.LUMINANCE_SHIFT}}it.LUMINANCE_BITS=5,it.LUMINANCE_SHIFT=8-it.LUMINANCE_BITS,it.LUMINANCE_BUCKETS=1<<it.LUMINANCE_BITS,it.EMPTY=Uint8ClampedArray.from([0]);class Ae extends it{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const e=this.getLuminanceSource(),n=e.getWidth(),r=e.getHeight();if(n>=Ae.MINIMUM_DIMENSION&&r>=Ae.MINIMUM_DIMENSION){const s=e.getMatrix();let o=n>>Ae.BLOCK_SIZE_POWER;n&Ae.BLOCK_SIZE_MASK&&o++;let a=r>>Ae.BLOCK_SIZE_POWER;r&Ae.BLOCK_SIZE_MASK&&a++;const u=Ae.calculateBlackPoints(s,o,a,n,r),g=new ft(n,r);Ae.calculateThresholdForBlock(s,o,a,n,r,u,g),this.matrix=g}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new Ae(e)}static calculateThresholdForBlock(e,n,r,s,o,a,u){const g=o-Ae.BLOCK_SIZE,p=s-Ae.BLOCK_SIZE;for(let C=0;C<r;C++){let I=C<<Ae.BLOCK_SIZE_POWER;I>g&&(I=g);const N=Ae.cap(C,2,r-3);for(let O=0;O<n;O++){let L=O<<Ae.BLOCK_SIZE_POWER;L>p&&(L=p);const P=Ae.cap(O,2,n-3);let z=0;for(let se=-2;se<=2;se++){const oe=a[N+se];z+=oe[P-2]+oe[P-1]+oe[P]+oe[P+1]+oe[P+2]}const W=z/25;Ae.thresholdBlock(e,L,I,W,s,u)}}}static cap(e,n,r){return e<n?n:e>r?r:e}static thresholdBlock(e,n,r,s,o,a){for(let u=0,g=r*o+n;u<Ae.BLOCK_SIZE;u++,g+=o)for(let p=0;p<Ae.BLOCK_SIZE;p++)(e[g+p]&255)<=s&&a.set(n+p,r+u)}static calculateBlackPoints(e,n,r,s,o){const a=o-Ae.BLOCK_SIZE,u=s-Ae.BLOCK_SIZE,g=new Array(r);for(let p=0;p<r;p++){g[p]=new Int32Array(n);let C=p<<Ae.BLOCK_SIZE_POWER;C>a&&(C=a);for(let I=0;I<n;I++){let N=I<<Ae.BLOCK_SIZE_POWER;N>u&&(N=u);let O=0,L=255,P=0;for(let W=0,se=C*s+N;W<Ae.BLOCK_SIZE;W++,se+=s){for(let oe=0;oe<Ae.BLOCK_SIZE;oe++){const te=e[se+oe]&255;O+=te,te<L&&(L=te),te>P&&(P=te)}if(P-L>Ae.MIN_DYNAMIC_RANGE)for(W++,se+=s;W<Ae.BLOCK_SIZE;W++,se+=s)for(let oe=0;oe<Ae.BLOCK_SIZE;oe++)O+=e[se+oe]&255}let z=O>>Ae.BLOCK_SIZE_POWER*2;if(P-L<=Ae.MIN_DYNAMIC_RANGE&&(z=L/2,p>0&&I>0)){const W=(g[p-1][I]+2*g[p][I-1]+g[p-1][I-1])/4;L<W&&(z=W)}g[p][I]=z}}return g}}Ae.BLOCK_SIZE_POWER=3,Ae.BLOCK_SIZE=1<<Ae.BLOCK_SIZE_POWER,Ae.BLOCK_SIZE_MASK=Ae.BLOCK_SIZE-1,Ae.MINIMUM_DIMENSION=Ae.BLOCK_SIZE*5,Ae.MIN_DYNAMIC_RANGE=24;class he{constructor(e,n){this.width=e,this.height=n}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,n,r,s){throw new mn("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new mn("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new mn("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let n=new We;for(let r=0;r<this.height;r++){const s=this.getRow(r,e);for(let o=0;o<this.width;o++){const a=s[o]&255;let u;a<64?u="#":a<128?u="+":a<192?u=".":u=" ",n.append(u)}n.append(`
`)}return n.toString()}}class ve extends he{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,n){const r=this.delegate.getRow(e,n),s=this.getWidth();for(let o=0;o<s;o++)r[o]=255-(r[o]&255);return r}getMatrix(){const e=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),r=new Uint8ClampedArray(n);for(let s=0;s<n;s++)r[s]=255-(e[s]&255);return r}isCropSupported(){return this.delegate.isCropSupported()}crop(e,n,r,s){return new ve(this.delegate.crop(e,n,r,s))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ve(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ve(this.delegate.rotateCounterClockwise45())}}class k extends he{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=k.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const n=e.getContext("2d").getImageData(0,0,e.width,e.height);return k.toGrayscaleBuffer(n.data,e.width,e.height)}static toGrayscaleBuffer(e,n,r){const s=new Uint8ClampedArray(n*r);for(let o=0,a=0,u=e.length;o<u;o+=4,a++){let g;if(e[o+3]===0)g=255;else{const C=e[o],I=e[o+1],N=e[o+2];g=306*C+601*I+117*N+512>>10}s[a]=g}return s}getRow(e,n){if(e<0||e>=this.getHeight())throw new b("Requested row is outside the image: "+e);const r=this.getWidth(),s=e*r;return n===null?n=this.buffer.slice(s,s+r):(n.length<r&&(n=new Uint8ClampedArray(r)),n.set(this.buffer.slice(s,s+r))),n}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,n,r,s){return super.crop(e,n,r,s),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const n=this.getTempCanvasElement(),r=n.getContext("2d"),s=e*k.DEGREE_TO_RADIANS,o=this.canvas.width,a=this.canvas.height,u=Math.ceil(Math.abs(Math.cos(s))*o+Math.abs(Math.sin(s))*a),g=Math.ceil(Math.abs(Math.sin(s))*o+Math.abs(Math.cos(s))*a);return n.width=u,n.height=g,r.translate(u/2,g/2),r.rotate(s),r.drawImage(this.canvas,o/-2,a/-2),this.buffer=k.makeBufferFromCanvasImageData(n),this}invert(){return new ve(this)}}k.DEGREE_TO_RADIANS=Math.PI/180;class J{constructor(e,n,r){this.deviceId=e,this.label=n,this.kind="videoinput",this.groupId=r||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var pe=(globalThis||Fa||self||window||void 0)&&(globalThis||Fa||self||window||void 0).__awaiter||function(A,e,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function u(C){try{p(r.next(C))}catch(I){a(I)}}function g(C){try{p(r.throw(C))}catch(I){a(I)}}function p(C){C.done?o(C.value):s(C.value).then(u,g)}p((r=r.apply(A,e||[])).next())})};class Ge{constructor(e,n=500,r){this.reader=e,this.timeBetweenScansMillis=n,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return pe(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),n=[];for(const r of e){const s=r.kind==="video"?"videoinput":r.kind;if(s!=="videoinput")continue;const o=r.deviceId||r.id,a=r.label||`Video device ${n.length+1}`,u=r.groupId,g={deviceId:o,label:a,kind:s,groupId:u};n.push(g)}return n})}getVideoInputDevices(){return pe(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(n=>new J(n.deviceId,n.label))})}findDeviceById(e){return pe(this,void 0,void 0,function*(){const n=yield this.listVideoInputDevices();return n?n.find(r=>r.deviceId===e):null})}decodeFromInputVideoDevice(e,n){return pe(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,n)})}decodeOnceFromVideoDevice(e,n){return pe(this,void 0,void 0,function*(){this.reset();let r;e?r={deviceId:{exact:e}}:r={facingMode:"environment"};const s={video:r};return yield this.decodeOnceFromConstraints(s,n)})}decodeOnceFromConstraints(e,n){return pe(this,void 0,void 0,function*(){const r=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(r,n)})}decodeOnceFromStream(e,n){return pe(this,void 0,void 0,function*(){this.reset();const r=yield this.attachStreamToVideo(e,n);return yield this.decodeOnce(r)})}decodeFromInputVideoDeviceContinuously(e,n,r){return pe(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,n,r)})}decodeFromVideoDevice(e,n,r){return pe(this,void 0,void 0,function*(){let s;e?s={deviceId:{exact:e}}:s={facingMode:"environment"};const o={video:s};return yield this.decodeFromConstraints(o,n,r)})}decodeFromConstraints(e,n,r){return pe(this,void 0,void 0,function*(){const s=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(s,n,r)})}decodeFromStream(e,n,r){return pe(this,void 0,void 0,function*(){this.reset();const s=yield this.attachStreamToVideo(e,n);return yield this.decodeContinuously(s,r)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,n){return pe(this,void 0,void 0,function*(){const r=this.prepareVideoElement(n);return this.addVideoSource(r,e),this.videoElement=r,this.stream=e,yield this.playVideoOnLoadAsync(r),r})}playVideoOnLoadAsync(e){return new Promise((n,r)=>this.playVideoOnLoad(e,()=>n()))}playVideoOnLoad(e,n){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",n),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return pe(this,void 0,void 0,function*(){if(this.isVideoPlaying(e)){console.warn("Trying to play video that is already playing.");return}try{yield e.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(e,n){const r=document.getElementById(e);if(!r)throw new D(`element with id '${e}' not found`);if(r.nodeName.toLowerCase()!==n.toLowerCase())throw new D(`element with id '${e}' must be an ${n} element`);return r}decodeFromImage(e,n){if(!e&&!n)throw new D("either imageElement with a src set or an url must be provided");return n&&!e?this.decodeFromImageUrl(n):this.decodeFromImageElement(e)}decodeFromVideo(e,n){if(!e&&!n)throw new D("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrl(n):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,n,r){if(e===void 0&&n===void 0)throw new D("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrlContinuously(n,r):this.decodeFromVideoElementContinuously(e,r)}decodeFromImageElement(e){if(!e)throw new D("An image element must be provided.");this.reset();const n=this.prepareImageElement(e);this.imageElement=n;let r;return this.isImageLoaded(n)?r=this.decodeOnce(n,!1,!0):r=this._decodeOnLoadImage(n),r}decodeFromVideoElement(e){const n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(n)}decodeFromVideoElementContinuously(e,n){const r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(r,n)}_decodeFromVideoElementSetup(e){if(!e)throw new D("A video element must be provided.");this.reset();const n=this.prepareVideoElement(e);return this.videoElement=n,n}decodeFromImageUrl(e){if(!e)throw new D("An URL must be provided.");this.reset();const n=this.prepareImageElement();this.imageElement=n;const r=this._decodeOnLoadImage(n);return n.src=e,r}decodeFromVideoUrl(e){if(!e)throw new D("An URL must be provided.");this.reset();const n=this.prepareVideoElement(),r=this.decodeFromVideoElement(n);return n.src=e,r}decodeFromVideoUrlContinuously(e,n){if(!e)throw new D("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),s=this.decodeFromVideoElementContinuously(r,n);return r.src=e,s}_decodeOnLoadImage(e){return new Promise((n,r)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(n,r),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return pe(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,n){return pe(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,n)})}isImageLoaded(e){return!(!e.complete||e.naturalWidth===0)}prepareImageElement(e){let n;return typeof e>"u"&&(n=document.createElement("img"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(n=e),n}prepareVideoElement(e){let n;return!e&&typeof document<"u"&&(n=document.createElement("video"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(n=e),n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n}decodeOnce(e,n=!0,r=!0){this._stopAsyncDecode=!1;const s=(o,a)=>{if(this._stopAsyncDecode){a(new Y("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const u=this.decode(e);o(u)}catch(u){const g=n&&u instanceof Y,C=(u instanceof ge||u instanceof $)&&r;if(g||C)return setTimeout(s,this._timeBetweenDecodingAttempts,o,a);a(u)}};return new Promise((o,a)=>s(o,a))}decodeContinuously(e,n){this._stopContinuousDecode=!1;const r=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const s=this.decode(e);n(s,null),setTimeout(r,this.timeBetweenScansMillis)}catch(s){n(null,s);const o=s instanceof ge||s instanceof $,a=s instanceof Y;(o||a)&&setTimeout(r,this._timeBetweenDecodingAttempts)}};r()}decode(e){const n=this.createBinaryBitmap(e);return this.decodeBitmap(n)}_isHTMLVideoElement(e){return e.videoWidth!==0}drawFrameOnCanvas(e,n,r){n||(n={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),r||(r=this.captureCanvasContext),r.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)}drawImageOnCanvas(e,n,r=this.captureCanvasContext){n||(n={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),r||(r=this.captureCanvasContext),r.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const n=this.getCaptureCanvas(e),r=new k(n),s=new Ae(r);return new le(s)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const r=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=r}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const n=this.createCaptureCanvas(e);this.captureCanvas=n}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const n=document.createElement("canvas");let r,s;return typeof e<"u"&&(e instanceof HTMLVideoElement?(r=e.videoWidth,s=e.videoHeight):e instanceof HTMLImageElement&&(r=e.naturalWidth||e.width,s=e.naturalHeight||e.height)),n.style.width=r+"px",n.style.height=s+"px",n.width=r,n.height=s,n}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,n){try{e.srcObject=n}catch{e.src=URL.createObjectURL(n)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")}}class Me{constructor(e,n,r=n==null?0:8*n.length,s,o,a=Q.currentTimeMillis()){this.text=e,this.rawBytes=n,this.numBits=r,this.resultPoints=s,this.format=o,this.timestamp=a,this.text=e,this.rawBytes=n,r==null?this.numBits=n==null?0:8*n.length:this.numBits=r,this.resultPoints=s,this.format=o,this.resultMetadata=null,a==null?this.timestamp=Q.currentTimeMillis():this.timestamp=a}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,n){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,n)}putAllMetadata(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const n=this.resultPoints;if(n===null)this.resultPoints=e;else if(e!==null&&e.length>0){const r=new Array(n.length+e.length);Q.arraycopy(n,0,r,0,n.length),Q.arraycopy(e,0,r,n.length,e.length),this.resultPoints=r}}getTimestamp(){return this.timestamp}toString(){return this.text}}var dt;(function(A){A[A.AZTEC=0]="AZTEC",A[A.CODABAR=1]="CODABAR",A[A.CODE_39=2]="CODE_39",A[A.CODE_93=3]="CODE_93",A[A.CODE_128=4]="CODE_128",A[A.DATA_MATRIX=5]="DATA_MATRIX",A[A.EAN_8=6]="EAN_8",A[A.EAN_13=7]="EAN_13",A[A.ITF=8]="ITF",A[A.MAXICODE=9]="MAXICODE",A[A.PDF_417=10]="PDF_417",A[A.QR_CODE=11]="QR_CODE",A[A.RSS_14=12]="RSS_14",A[A.RSS_EXPANDED=13]="RSS_EXPANDED",A[A.UPC_A=14]="UPC_A",A[A.UPC_E=15]="UPC_E",A[A.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(dt||(dt={}));var ce=dt,lt;(function(A){A[A.OTHER=0]="OTHER",A[A.ORIENTATION=1]="ORIENTATION",A[A.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",A[A.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",A[A.ISSUE_NUMBER=4]="ISSUE_NUMBER",A[A.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",A[A.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",A[A.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",A[A.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",A[A.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",A[A.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(lt||(lt={}));var Pe=lt;class Xt{constructor(e,n,r,s,o=-1,a=-1){this.rawBytes=e,this.text=n,this.byteSegments=r,this.ecLevel=s,this.structuredAppendSequenceNumber=o,this.structuredAppendParity=a,this.numBits=e==null?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ri{exp(e){return this.expTable[e]}log(e){if(e===0)throw new b;return this.logTable[e]}static addOrSubtract(e,n){return e^n}}class Kt{constructor(e,n){if(n.length===0)throw new b;this.field=e;const r=n.length;if(r>1&&n[0]===0){let s=1;for(;s<r&&n[s]===0;)s++;s===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-s),Q.arraycopy(n,s,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);const n=this.coefficients;let r;if(e===1){r=0;for(let a=0,u=n.length;a!==u;a++){const g=n[a];r=Ri.addOrSubtract(r,g)}return r}r=n[0];const s=n.length,o=this.field;for(let a=1;a<s;a++)r=Ri.addOrSubtract(o.multiply(e,r),n[a]);return r}addOrSubtract(e){if(!this.field.equals(e.field))throw new b("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let n=this.coefficients,r=e.coefficients;if(n.length>r.length){const a=n;n=r,r=a}let s=new Int32Array(r.length);const o=r.length-n.length;Q.arraycopy(r,0,s,0,o);for(let a=o;a<r.length;a++)s[a]=Ri.addOrSubtract(n[a-o],r[a]);return new Kt(this.field,s)}multiply(e){if(!this.field.equals(e.field))throw new b("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const n=this.coefficients,r=n.length,s=e.coefficients,o=s.length,a=new Int32Array(r+o-1),u=this.field;for(let g=0;g<r;g++){const p=n[g];for(let C=0;C<o;C++)a[g+C]=Ri.addOrSubtract(a[g+C],u.multiply(p,s[C]))}return new Kt(u,a)}multiplyScalar(e){if(e===0)return this.field.getZero();if(e===1)return this;const n=this.coefficients.length,r=this.field,s=new Int32Array(n),o=this.coefficients;for(let a=0;a<n;a++)s[a]=r.multiply(o[a],e);return new Kt(r,s)}multiplyByMonomial(e,n){if(e<0)throw new b;if(n===0)return this.field.getZero();const r=this.coefficients,s=r.length,o=new Int32Array(s+e),a=this.field;for(let u=0;u<s;u++)o[u]=a.multiply(r[u],n);return new Kt(a,o)}divide(e){if(!this.field.equals(e.field))throw new b("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new b("Divide by 0");const n=this.field;let r=n.getZero(),s=this;const o=e.getCoefficient(e.getDegree()),a=n.inverse(o);for(;s.getDegree()>=e.getDegree()&&!s.isZero();){const u=s.getDegree()-e.getDegree(),g=n.multiply(s.getCoefficient(s.getDegree()),a),p=e.multiplyByMonomial(u,g),C=n.buildMonomial(u,g);r=r.addOrSubtract(C),s=s.addOrSubtract(p)}return[r,s]}toString(){let e="";for(let n=this.getDegree();n>=0;n--){let r=this.getCoefficient(n);if(r!==0){if(r<0?(e+=" - ",r=-r):e.length>0&&(e+=" + "),n===0||r!==1){const s=this.field.log(r);s===0?e+="1":s===1?e+="a":(e+="a^",e+=s)}n!==0&&(n===1?e+="x":(e+="x^",e+=n))}}return e}}class Mi extends S{}Mi.kind="ArithmeticException";class et extends Ri{constructor(e,n,r){super(),this.primitive=e,this.size=n,this.generatorBase=r;const s=new Int32Array(n);let o=1;for(let u=0;u<n;u++)s[u]=o,o*=2,o>=n&&(o^=e,o&=n-1);this.expTable=s;const a=new Int32Array(n);for(let u=0;u<n-1;u++)a[s[u]]=u;this.logTable=a,this.zero=new Kt(this,Int32Array.from([0])),this.one=new Kt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,n){if(e<0)throw new b;if(n===0)return this.zero;const r=new Int32Array(e+1);return r[0]=n,new Kt(this,r)}inverse(e){if(e===0)throw new Mi;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+de.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}et.AZTEC_DATA_12=new et(4201,4096,1),et.AZTEC_DATA_10=new et(1033,1024,1),et.AZTEC_DATA_6=new et(67,64,1),et.AZTEC_PARAM=new et(19,16,1),et.QR_CODE_FIELD_256=new et(285,256,0),et.DATA_MATRIX_FIELD_256=new et(301,256,1),et.AZTEC_DATA_8=et.DATA_MATRIX_FIELD_256,et.MAXICODE_FIELD_64=et.AZTEC_DATA_6;class Nr extends S{}Nr.kind="ReedSolomonException";class jn extends S{}jn.kind="IllegalStateException";class ei{constructor(e){this.field=e}decode(e,n){const r=this.field,s=new Kt(r,e),o=new Int32Array(n);let a=!0;for(let O=0;O<n;O++){const L=s.evaluateAt(r.exp(O+r.getGeneratorBase()));o[o.length-1-O]=L,L!==0&&(a=!1)}if(a)return;const u=new Kt(r,o),g=this.runEuclideanAlgorithm(r.buildMonomial(n,1),u,n),p=g[0],C=g[1],I=this.findErrorLocations(p),N=this.findErrorMagnitudes(C,I);for(let O=0;O<I.length;O++){const L=e.length-1-r.log(I[O]);if(L<0)throw new Nr("Bad error location");e[L]=et.addOrSubtract(e[L],N[O])}}runEuclideanAlgorithm(e,n,r){if(e.getDegree()<n.getDegree()){const O=e;e=n,n=O}const s=this.field;let o=e,a=n,u=s.getZero(),g=s.getOne();for(;a.getDegree()>=(r/2|0);){let O=o,L=u;if(o=a,u=g,o.isZero())throw new Nr("r_{i-1} was zero");a=O;let P=s.getZero();const z=o.getCoefficient(o.getDegree()),W=s.inverse(z);for(;a.getDegree()>=o.getDegree()&&!a.isZero();){const se=a.getDegree()-o.getDegree(),oe=s.multiply(a.getCoefficient(a.getDegree()),W);P=P.addOrSubtract(s.buildMonomial(se,oe)),a=a.addOrSubtract(o.multiplyByMonomial(se,oe))}if(g=P.multiply(u).addOrSubtract(L),a.getDegree()>=o.getDegree())throw new jn("Division algorithm failed to reduce polynomial?")}const p=g.getCoefficient(0);if(p===0)throw new Nr("sigmaTilde(0) was zero");const C=s.inverse(p),I=g.multiplyScalar(C),N=a.multiplyScalar(C);return[I,N]}findErrorLocations(e){const n=e.getDegree();if(n===1)return Int32Array.from([e.getCoefficient(1)]);const r=new Int32Array(n);let s=0;const o=this.field;for(let a=1;a<o.getSize()&&s<n;a++)e.evaluateAt(a)===0&&(r[s]=o.inverse(a),s++);if(s!==n)throw new Nr("Error locator degree does not match number of roots");return r}findErrorMagnitudes(e,n){const r=n.length,s=new Int32Array(r),o=this.field;for(let a=0;a<r;a++){const u=o.inverse(n[a]);let g=1;for(let p=0;p<r;p++)if(a!==p){const C=o.multiply(n[p],u),I=C&1?C&-2:C|1;g=o.multiply(g,I)}s[a]=o.multiply(e.evaluateAt(u),o.inverse(g)),o.getGeneratorBase()!==0&&(s[a]=o.multiply(s[a],u))}return s}}var zt;(function(A){A[A.UPPER=0]="UPPER",A[A.LOWER=1]="LOWER",A[A.MIXED=2]="MIXED",A[A.DIGIT=3]="DIGIT",A[A.PUNCT=4]="PUNCT",A[A.BINARY=5]="BINARY"})(zt||(zt={}));class pt{decode(e){this.ddata=e;let n=e.getBits(),r=this.extractBits(n),s=this.correctBits(r),o=pt.convertBoolArrayToByteArray(s),a=pt.getEncodedData(s),u=new Xt(o,a,null,null);return u.setNumBits(s.length),u}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let n=e.length,r=zt.UPPER,s=zt.UPPER,o="",a=0;for(;a<n;)if(s===zt.BINARY){if(n-a<5)break;let u=pt.readCode(e,a,5);if(a+=5,u===0){if(n-a<11)break;u=pt.readCode(e,a,11)+31,a+=11}for(let g=0;g<u;g++){if(n-a<8){a=n;break}const p=pt.readCode(e,a,8);o+=Oe.castAsNonUtf8Char(p),a+=8}s=r}else{let u=s===zt.DIGIT?4:5;if(n-a<u)break;let g=pt.readCode(e,a,u);a+=u;let p=pt.getCharacter(s,g);p.startsWith("CTRL_")?(r=s,s=pt.getTable(p.charAt(5)),p.charAt(6)==="L"&&(r=s)):(o+=p,s=r)}return o}static getTable(e){switch(e){case"L":return zt.LOWER;case"P":return zt.PUNCT;case"M":return zt.MIXED;case"D":return zt.DIGIT;case"B":return zt.BINARY;case"U":default:return zt.UPPER}}static getCharacter(e,n){switch(e){case zt.UPPER:return pt.UPPER_TABLE[n];case zt.LOWER:return pt.LOWER_TABLE[n];case zt.MIXED:return pt.MIXED_TABLE[n];case zt.PUNCT:return pt.PUNCT_TABLE[n];case zt.DIGIT:return pt.DIGIT_TABLE[n];default:throw new jn("Bad table")}}correctBits(e){let n,r;this.ddata.getNbLayers()<=2?(r=6,n=et.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,n=et.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,n=et.AZTEC_DATA_10):(r=12,n=et.AZTEC_DATA_12);let s=this.ddata.getNbDatablocks(),o=e.length/r;if(o<s)throw new $;let a=e.length%r,u=new Int32Array(o);for(let N=0;N<o;N++,a+=r)u[N]=pt.readCode(e,a,r);try{new ei(n).decode(u,o-s)}catch(N){throw new $(N)}let g=(1<<r)-1,p=0;for(let N=0;N<s;N++){let O=u[N];if(O===0||O===g)throw new $;(O===1||O===g-1)&&p++}let C=new Array(s*r-p),I=0;for(let N=0;N<s;N++){let O=u[N];if(O===1||O===g-1)C.fill(O>1,I,I+r-1),I+=r-1;else for(let L=r-1;L>=0;--L)C[I++]=(O&1<<L)!==0}return C}extractBits(e){let n=this.ddata.isCompact(),r=this.ddata.getNbLayers(),s=(n?11:14)+r*4,o=new Int32Array(s),a=new Array(this.totalBitsInLayer(r,n));if(n)for(let u=0;u<o.length;u++)o[u]=u;else{let u=s+1+2*de.truncDivision(de.truncDivision(s,2)-1,15),g=s/2,p=de.truncDivision(u,2);for(let C=0;C<g;C++){let I=C+de.truncDivision(C,15);o[g-C-1]=p-I-1,o[g+C]=p+I+1}}for(let u=0,g=0;u<r;u++){let p=(r-u)*4+(n?9:12),C=u*2,I=s-1-C;for(let N=0;N<p;N++){let O=N*2;for(let L=0;L<2;L++)a[g+O+L]=e.get(o[C+L],o[C+N]),a[g+2*p+O+L]=e.get(o[C+N],o[I-L]),a[g+4*p+O+L]=e.get(o[I-L],o[I-N]),a[g+6*p+O+L]=e.get(o[I-N],o[C+L])}g+=p*8}return a}static readCode(e,n,r){let s=0;for(let o=n;o<n+r;o++)s<<=1,e[o]&&(s|=1);return s}static readByte(e,n){let r=e.length-n;return r>=8?pt.readCode(e,n,8):pt.readCode(e,n,r)<<8-r}static convertBoolArrayToByteArray(e){let n=new Uint8Array((e.length+7)/8);for(let r=0;r<n.length;r++)n[r]=pt.readByte(e,8*r);return n}totalBitsInLayer(e,n){return((n?88:112)+16*e)*e}}pt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],pt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],pt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],pt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],pt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class qe{constructor(){}static round(e){return e===NaN?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,n,r,s){const o=e-r,a=n-s;return Math.sqrt(o*o+a*a)}static sum(e){let n=0;for(let r=0,s=e.length;r!==s;r++){const o=e[r];n+=o}return n}}class vr{static floatToIntBits(e){return e}}vr.MAX_VALUE=Number.MAX_SAFE_INTEGER;class we{constructor(e,n){this.x=e,this.y=n}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof we){const n=e;return this.x===n.x&&this.y===n.y}return!1}hashCode(){return 31*vr.floatToIntBits(this.x)+vr.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const n=this.distance(e[0],e[1]),r=this.distance(e[1],e[2]),s=this.distance(e[0],e[2]);let o,a,u;if(r>=n&&r>=s?(a=e[0],o=e[1],u=e[2]):s>=r&&s>=n?(a=e[1],o=e[0],u=e[2]):(a=e[2],o=e[0],u=e[1]),this.crossProductZ(o,a,u)<0){const g=o;o=u,u=g}e[0]=o,e[1]=a,e[2]=u}static distance(e,n){return qe.distance(e.x,e.y,n.x,n.y)}static crossProductZ(e,n,r){const s=n.x,o=n.y;return(r.x-s)*(e.y-o)-(r.y-o)*(e.x-s)}}class ti{constructor(e,n){this.bits=e,this.points=n}getBits(){return this.bits}getPoints(){return this.points}}class Fs extends ti{constructor(e,n,r,s,o){super(e,n),this.compact=r,this.nbDatablocks=s,this.nbLayers=o}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class rr{constructor(e,n,r,s){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),n==null&&(n=rr.INIT_SIZE),r==null&&(r=e.getWidth()/2|0),s==null&&(s=e.getHeight()/2|0);const o=n/2|0;if(this.leftInit=r-o,this.rightInit=r+o,this.upInit=s-o,this.downInit=s+o,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Y}detect(){let e=this.leftInit,n=this.rightInit,r=this.upInit,s=this.downInit,o=!1,a=!0,u=!1,g=!1,p=!1,C=!1,I=!1;const N=this.width,O=this.height;for(;a;){a=!1;let L=!0;for(;(L||!g)&&n<N;)L=this.containsBlackPoint(r,s,n,!1),L?(n++,a=!0,g=!0):g||n++;if(n>=N){o=!0;break}let P=!0;for(;(P||!p)&&s<O;)P=this.containsBlackPoint(e,n,s,!0),P?(s++,a=!0,p=!0):p||s++;if(s>=O){o=!0;break}let z=!0;for(;(z||!C)&&e>=0;)z=this.containsBlackPoint(r,s,e,!1),z?(e--,a=!0,C=!0):C||e--;if(e<0){o=!0;break}let W=!0;for(;(W||!I)&&r>=0;)W=this.containsBlackPoint(e,n,r,!0),W?(r--,a=!0,I=!0):I||r--;if(r<0){o=!0;break}a&&(u=!0)}if(!o&&u){const L=n-e;let P=null;for(let oe=1;P===null&&oe<L;oe++)P=this.getBlackPointOnSegment(e,s-oe,e+oe,s);if(P==null)throw new Y;let z=null;for(let oe=1;z===null&&oe<L;oe++)z=this.getBlackPointOnSegment(e,r+oe,e+oe,r);if(z==null)throw new Y;let W=null;for(let oe=1;W===null&&oe<L;oe++)W=this.getBlackPointOnSegment(n,r+oe,n-oe,r);if(W==null)throw new Y;let se=null;for(let oe=1;se===null&&oe<L;oe++)se=this.getBlackPointOnSegment(n,s-oe,n-oe,s);if(se==null)throw new Y;return this.centerEdges(se,P,W,z)}else throw new Y}getBlackPointOnSegment(e,n,r,s){const o=qe.round(qe.distance(e,n,r,s)),a=(r-e)/o,u=(s-n)/o,g=this.image;for(let p=0;p<o;p++){const C=qe.round(e+p*a),I=qe.round(n+p*u);if(g.get(C,I))return new we(C,I)}return null}centerEdges(e,n,r,s){const o=e.getX(),a=e.getY(),u=n.getX(),g=n.getY(),p=r.getX(),C=r.getY(),I=s.getX(),N=s.getY(),O=rr.CORR;return o<this.width/2?[new we(I-O,N+O),new we(u+O,g+O),new we(p-O,C-O),new we(o+O,a-O)]:[new we(I+O,N+O),new we(u+O,g-O),new we(p-O,C+O),new we(o-O,a-O)]}containsBlackPoint(e,n,r,s){const o=this.image;if(s){for(let a=e;a<=n;a++)if(o.get(a,r))return!0}else for(let a=e;a<=n;a++)if(o.get(r,a))return!0;return!1}}rr.INIT_SIZE=10,rr.CORR=1;class os{static checkAndNudgePoints(e,n){const r=e.getWidth(),s=e.getHeight();let o=!0;for(let a=0;a<n.length&&o;a+=2){const u=Math.floor(n[a]),g=Math.floor(n[a+1]);if(u<-1||u>r||g<-1||g>s)throw new Y;o=!1,u===-1?(n[a]=0,o=!0):u===r&&(n[a]=r-1,o=!0),g===-1?(n[a+1]=0,o=!0):g===s&&(n[a+1]=s-1,o=!0)}o=!0;for(let a=n.length-2;a>=0&&o;a-=2){const u=Math.floor(n[a]),g=Math.floor(n[a+1]);if(u<-1||u>r||g<-1||g>s)throw new Y;o=!1,u===-1?(n[a]=0,o=!0):u===r&&(n[a]=r-1,o=!0),g===-1?(n[a+1]=0,o=!0):g===s&&(n[a+1]=s-1,o=!0)}}}class Rn{constructor(e,n,r,s,o,a,u,g,p){this.a11=e,this.a21=n,this.a31=r,this.a12=s,this.a22=o,this.a32=a,this.a13=u,this.a23=g,this.a33=p}static quadrilateralToQuadrilateral(e,n,r,s,o,a,u,g,p,C,I,N,O,L,P,z){const W=Rn.quadrilateralToSquare(e,n,r,s,o,a,u,g);return Rn.squareToQuadrilateral(p,C,I,N,O,L,P,z).times(W)}transformPoints(e){const n=e.length,r=this.a11,s=this.a12,o=this.a13,a=this.a21,u=this.a22,g=this.a23,p=this.a31,C=this.a32,I=this.a33;for(let N=0;N<n;N+=2){const O=e[N],L=e[N+1],P=o*O+g*L+I;e[N]=(r*O+a*L+p)/P,e[N+1]=(s*O+u*L+C)/P}}transformPointsWithValues(e,n){const r=this.a11,s=this.a12,o=this.a13,a=this.a21,u=this.a22,g=this.a23,p=this.a31,C=this.a32,I=this.a33,N=e.length;for(let O=0;O<N;O++){const L=e[O],P=n[O],z=o*L+g*P+I;e[O]=(r*L+a*P+p)/z,n[O]=(s*L+u*P+C)/z}}static squareToQuadrilateral(e,n,r,s,o,a,u,g){const p=e-r+o-u,C=n-s+a-g;if(p===0&&C===0)return new Rn(r-e,o-r,e,s-n,a-s,n,0,0,1);{const I=r-o,N=u-o,O=s-a,L=g-a,P=I*L-N*O,z=(p*L-N*C)/P,W=(I*C-p*O)/P;return new Rn(r-e+z*r,u-e+W*u,e,s-n+z*s,g-n+W*g,n,z,W,1)}}static quadrilateralToSquare(e,n,r,s,o,a,u,g){return Rn.squareToQuadrilateral(e,n,r,s,o,a,u,g).buildAdjoint()}buildAdjoint(){return new Rn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new Rn(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class as extends os{sampleGrid(e,n,r,s,o,a,u,g,p,C,I,N,O,L,P,z,W,se,oe){const te=Rn.quadrilateralToQuadrilateral(s,o,a,u,g,p,C,I,N,O,L,P,z,W,se,oe);return this.sampleGridWithTransform(e,n,r,te)}sampleGridWithTransform(e,n,r,s){if(n<=0||r<=0)throw new Y;const o=new ft(n,r),a=new Float32Array(2*n);for(let u=0;u<r;u++){const g=a.length,p=u+.5;for(let C=0;C<g;C+=2)a[C]=C/2+.5,a[C+1]=p;s.transformPoints(a),os.checkAndNudgePoints(e,a);try{for(let C=0;C<g;C+=2)e.get(Math.floor(a[C]),Math.floor(a[C+1]))&&o.set(C/2,u)}catch{throw new Y}}return o}}class Hn{static setGridSampler(e){Hn.gridSampler=e}static getInstance(){return Hn.gridSampler}}Hn.gridSampler=new as;class sn{constructor(e,n){this.x=e,this.y=n}toResultPoint(){return new we(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class ni{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let n=this.getMatrixCenter(),r=this.getBullsEyeCorners(n);if(e){let a=r[0];r[0]=r[2],r[2]=a}this.extractParameters(r);let s=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),o=this.getMatrixCornerPoints(r);return new Fs(s,o,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new Y;let n=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(e[0],e[1],n),this.sampleLine(e[1],e[2],n),this.sampleLine(e[2],e[3],n),this.sampleLine(e[3],e[0],n)]);this.shift=this.getRotation(r,n);let s=0;for(let a=0;a<4;a++){let u=r[(this.shift+a)%4];this.compact?(s<<=7,s+=u>>1&127):(s<<=10,s+=(u>>2&992)+(u>>1&31))}let o=this.getCorrectedParameterData(s,this.compact);this.compact?(this.nbLayers=(o>>6)+1,this.nbDataBlocks=(o&63)+1):(this.nbLayers=(o>>11)+1,this.nbDataBlocks=(o&2047)+1)}getRotation(e,n){let r=0;e.forEach((s,o,a)=>{let u=(s>>n-2<<1)+(s&1);r=(r<<3)+u}),r=((r&1)<<11)+(r>>1);for(let s=0;s<4;s++)if(de.bitCount(r^this.EXPECTED_CORNER_BITS[s])<=2)return s;throw new Y}getCorrectedParameterData(e,n){let r,s;n?(r=7,s=2):(r=10,s=4);let o=r-s,a=new Int32Array(r);for(let g=r-1;g>=0;--g)a[g]=e&15,e>>=4;try{new ei(et.AZTEC_PARAM).decode(a,o)}catch{throw new Y}let u=0;for(let g=0;g<s;g++)u=(u<<4)+a[g];return u}getBullsEyeCorners(e){let n=e,r=e,s=e,o=e,a=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let I=this.getFirstDifferent(n,a,1,-1),N=this.getFirstDifferent(r,a,1,1),O=this.getFirstDifferent(s,a,-1,1),L=this.getFirstDifferent(o,a,-1,-1);if(this.nbCenterLayers>2){let P=this.distancePoint(L,I)*this.nbCenterLayers/(this.distancePoint(o,n)*(this.nbCenterLayers+2));if(P<.75||P>1.25||!this.isWhiteOrBlackRectangle(I,N,O,L))break}n=I,r=N,s=O,o=L,a=!a}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Y;this.compact=this.nbCenterLayers===5;let u=new we(n.getX()+.5,n.getY()-.5),g=new we(r.getX()+.5,r.getY()+.5),p=new we(s.getX()-.5,s.getY()+.5),C=new we(o.getX()-.5,o.getY()-.5);return this.expandSquare([u,g,p,C],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,n,r,s;try{let u=new rr(this.image).detect();e=u[0],n=u[1],r=u[2],s=u[3]}catch{let g=this.image.getWidth()/2,p=this.image.getHeight()/2;e=this.getFirstDifferent(new sn(g+7,p-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new sn(g+7,p+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new sn(g-7,p+7),!1,-1,1).toResultPoint(),s=this.getFirstDifferent(new sn(g-7,p-7),!1,-1,-1).toResultPoint()}let o=qe.round((e.getX()+s.getX()+n.getX()+r.getX())/4),a=qe.round((e.getY()+s.getY()+n.getY()+r.getY())/4);try{let u=new rr(this.image,15,o,a).detect();e=u[0],n=u[1],r=u[2],s=u[3]}catch{e=this.getFirstDifferent(new sn(o+7,a-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new sn(o+7,a+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new sn(o-7,a+7),!1,-1,1).toResultPoint(),s=this.getFirstDifferent(new sn(o-7,a-7),!1,-1,-1).toResultPoint()}return o=qe.round((e.getX()+s.getX()+n.getX()+r.getX())/4),a=qe.round((e.getY()+s.getY()+n.getY()+r.getY())/4),new sn(o,a)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,n,r,s,o){let a=Hn.getInstance(),u=this.getDimension(),g=u/2-this.nbCenterLayers,p=u/2+this.nbCenterLayers;return a.sampleGrid(e,u,u,g,g,p,g,p,p,g,p,n.getX(),n.getY(),r.getX(),r.getY(),s.getX(),s.getY(),o.getX(),o.getY())}sampleLine(e,n,r){let s=0,o=this.distanceResultPoint(e,n),a=o/r,u=e.getX(),g=e.getY(),p=a*(n.getX()-e.getX())/o,C=a*(n.getY()-e.getY())/o;for(let I=0;I<r;I++)this.image.get(qe.round(u+I*p),qe.round(g+I*C))&&(s|=1<<r-I-1);return s}isWhiteOrBlackRectangle(e,n,r,s){let o=3;e=new sn(e.getX()-o,e.getY()+o),n=new sn(n.getX()-o,n.getY()-o),r=new sn(r.getX()+o,r.getY()-o),s=new sn(s.getX()+o,s.getY()+o);let a=this.getColor(s,e);if(a===0)return!1;let u=this.getColor(e,n);return u!==a||(u=this.getColor(n,r),u!==a)?!1:(u=this.getColor(r,s),u===a)}getColor(e,n){let r=this.distancePoint(e,n),s=(n.getX()-e.getX())/r,o=(n.getY()-e.getY())/r,a=0,u=e.getX(),g=e.getY(),p=this.image.get(e.getX(),e.getY()),C=Math.ceil(r);for(let N=0;N<C;N++)u+=s,g+=o,this.image.get(qe.round(u),qe.round(g))!==p&&a++;let I=a/r;return I>.1&&I<.9?0:I<=.1===p?1:-1}getFirstDifferent(e,n,r,s){let o=e.getX()+r,a=e.getY()+s;for(;this.isValid(o,a)&&this.image.get(o,a)===n;)o+=r,a+=s;for(o-=r,a-=s;this.isValid(o,a)&&this.image.get(o,a)===n;)o+=r;for(o-=r;this.isValid(o,a)&&this.image.get(o,a)===n;)a+=s;return a-=s,new sn(o,a)}expandSquare(e,n,r){let s=r/(2*n),o=e[0].getX()-e[2].getX(),a=e[0].getY()-e[2].getY(),u=(e[0].getX()+e[2].getX())/2,g=(e[0].getY()+e[2].getY())/2,p=new we(u+s*o,g+s*a),C=new we(u-s*o,g-s*a);o=e[1].getX()-e[3].getX(),a=e[1].getY()-e[3].getY(),u=(e[1].getX()+e[3].getX())/2,g=(e[1].getY()+e[3].getY())/2;let I=new we(u+s*o,g+s*a),N=new we(u-s*o,g-s*a);return[p,I,C,N]}isValid(e,n){return e>=0&&e<this.image.getWidth()&&n>0&&n<this.image.getHeight()}isValidPoint(e){let n=qe.round(e.getX()),r=qe.round(e.getY());return this.isValid(n,r)}distancePoint(e,n){return qe.distance(e.getX(),e.getY(),n.getX(),n.getY())}distanceResultPoint(e,n){return qe.distance(e.getX(),e.getY(),n.getX(),n.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(de.truncDivision(this.nbLayers-4,8)+1)+15}}class _r{decode(e,n=null){let r=null,s=new ni(e.getBlackMatrix()),o=null,a=null;try{let C=s.detectMirror(!1);o=C.getPoints(),this.reportFoundResultPoints(n,o),a=new pt().decode(C)}catch(C){r=C}if(a==null)try{let C=s.detectMirror(!0);o=C.getPoints(),this.reportFoundResultPoints(n,o),a=new pt().decode(C)}catch(C){throw r??C}let u=new Me(a.getText(),a.getRawBytes(),a.getNumBits(),o,ce.AZTEC,Q.currentTimeMillis()),g=a.getByteSegments();g!=null&&u.putMetadata(Pe.BYTE_SEGMENTS,g);let p=a.getECLevel();return p!=null&&u.putMetadata(Pe.ERROR_CORRECTION_LEVEL,p),u}reportFoundResultPoints(e,n){if(e!=null){let r=e.get(De.NEED_RESULT_POINT_CALLBACK);r!=null&&n.forEach((s,o,a)=>{r.foundPossibleResultPoint(s)})}}reset(){}}class $a extends Ge{constructor(e=500){super(new _r,e)}}class Mt{decode(e,n){try{return this.doDecode(e,n)}catch{if(n&&n.get(De.TRY_HARDER)===!0&&e.isRotateSupported()){const o=e.rotateCounterClockwise(),a=this.doDecode(o,n),u=a.getResultMetadata();let g=270;u!==null&&u.get(Pe.ORIENTATION)===!0&&(g=g+u.get(Pe.ORIENTATION)%360),a.putMetadata(Pe.ORIENTATION,g);const p=a.getResultPoints();if(p!==null){const C=o.getHeight();for(let I=0;I<p.length;I++)p[I]=new we(C-p[I].getY()-1,p[I].getX())}return a}else throw new Y}}reset(){}doDecode(e,n){const r=e.getWidth(),s=e.getHeight();let o=new Ne(r);const a=n&&n.get(De.TRY_HARDER)===!0,u=Math.max(1,s>>(a?8:5));let g;a?g=s:g=15;const p=Math.trunc(s/2);for(let C=0;C<g;C++){const I=Math.trunc((C+1)/2),N=(C&1)===0,O=p+u*(N?I:-I);if(O<0||O>=s)break;try{o=e.getBlackRow(O,o)}catch{continue}for(let L=0;L<2;L++){if(L===1&&(o.reverse(),n&&n.get(De.NEED_RESULT_POINT_CALLBACK)===!0)){const P=new Map;n.forEach((z,W)=>P.set(W,z)),P.delete(De.NEED_RESULT_POINT_CALLBACK),n=P}try{const P=this.decodeRow(O,o,n);if(L===1){P.putMetadata(Pe.ORIENTATION,180);const z=P.getResultPoints();z!==null&&(z[0]=new we(r-z[0].getX()-1,z[0].getY()),z[1]=new we(r-z[1].getX()-1,z[1].getY()))}return P}catch{}}}throw new Y}static recordPattern(e,n,r){const s=r.length;for(let p=0;p<s;p++)r[p]=0;const o=e.getSize();if(n>=o)throw new Y;let a=!e.get(n),u=0,g=n;for(;g<o;){if(e.get(g)!==a)r[u]++;else{if(++u===s)break;r[u]=1,a=!a}g++}if(!(u===s||u===s-1&&g===o))throw new Y}static recordPatternInReverse(e,n,r){let s=r.length,o=e.get(n);for(;n>0&&s>=0;)e.get(--n)!==o&&(s--,o=!o);if(s>=0)throw new Y;Mt.recordPattern(e,n+1,r)}static patternMatchVariance(e,n,r){const s=e.length;let o=0,a=0;for(let p=0;p<s;p++)o+=e[p],a+=n[p];if(o<a)return Number.POSITIVE_INFINITY;const u=o/a;r*=u;let g=0;for(let p=0;p<s;p++){const C=e[p],I=n[p]*u,N=C>I?C-I:I-C;if(N>r)return Number.POSITIVE_INFINITY;g+=N}return g/o}}class fe extends Mt{static findStartPattern(e){const n=e.getSize(),r=e.getNextSet(0);let s=0,o=Int32Array.from([0,0,0,0,0,0]),a=r,u=!1;const g=6;for(let p=r;p<n;p++)if(e.get(p)!==u)o[s]++;else{if(s===g-1){let C=fe.MAX_AVG_VARIANCE,I=-1;for(let N=fe.CODE_START_A;N<=fe.CODE_START_C;N++){const O=Mt.patternMatchVariance(o,fe.CODE_PATTERNS[N],fe.MAX_INDIVIDUAL_VARIANCE);O<C&&(C=O,I=N)}if(I>=0&&e.isRange(Math.max(0,a-(p-a)/2),a,!1))return Int32Array.from([a,p,I]);a+=o[0]+o[1],o=o.slice(2,o.length-1),o[s-1]=0,o[s]=0,s--}else s++;o[s]=1,u=!u}throw new Y}static decodeCode(e,n,r){Mt.recordPattern(e,r,n);let s=fe.MAX_AVG_VARIANCE,o=-1;for(let a=0;a<fe.CODE_PATTERNS.length;a++){const u=fe.CODE_PATTERNS[a],g=this.patternMatchVariance(n,u,fe.MAX_INDIVIDUAL_VARIANCE);g<s&&(s=g,o=a)}if(o>=0)return o;throw new Y}decodeRow(e,n,r){const s=r&&r.get(De.ASSUME_GS1)===!0,o=fe.findStartPattern(n),a=o[2];let u=0;const g=new Uint8Array(20);g[u++]=a;let p;switch(a){case fe.CODE_START_A:p=fe.CODE_CODE_A;break;case fe.CODE_START_B:p=fe.CODE_CODE_B;break;case fe.CODE_START_C:p=fe.CODE_CODE_C;break;default:throw new $}let C=!1,I=!1,N="",O=o[0],L=o[1];const P=Int32Array.from([0,0,0,0,0,0]);let z=0,W=0,se=a,oe=0,te=!0,Qe=!1,He=!1;for(;!C;){const wr=I;switch(I=!1,z=W,W=fe.decodeCode(n,P,L),g[u++]=W,W!==fe.CODE_STOP&&(te=!0),W!==fe.CODE_STOP&&(oe++,se+=oe*W),O=L,L+=P.reduce((hi,so)=>hi+so,0),W){case fe.CODE_START_A:case fe.CODE_START_B:case fe.CODE_START_C:throw new $}switch(p){case fe.CODE_CODE_A:if(W<64)He===Qe?N+=String.fromCharCode(32+W):N+=String.fromCharCode(32+W+128),He=!1;else if(W<96)He===Qe?N+=String.fromCharCode(W-64):N+=String.fromCharCode(W+64),He=!1;else switch(W!==fe.CODE_STOP&&(te=!1),W){case fe.CODE_FNC_1:s&&(N.length===0?N+="]C1":N+="");break;case fe.CODE_FNC_2:case fe.CODE_FNC_3:break;case fe.CODE_FNC_4_A:!Qe&&He?(Qe=!0,He=!1):Qe&&He?(Qe=!1,He=!1):He=!0;break;case fe.CODE_SHIFT:I=!0,p=fe.CODE_CODE_B;break;case fe.CODE_CODE_B:p=fe.CODE_CODE_B;break;case fe.CODE_CODE_C:p=fe.CODE_CODE_C;break;case fe.CODE_STOP:C=!0;break}break;case fe.CODE_CODE_B:if(W<96)He===Qe?N+=String.fromCharCode(32+W):N+=String.fromCharCode(32+W+128),He=!1;else switch(W!==fe.CODE_STOP&&(te=!1),W){case fe.CODE_FNC_1:s&&(N.length===0?N+="]C1":N+="");break;case fe.CODE_FNC_2:case fe.CODE_FNC_3:break;case fe.CODE_FNC_4_B:!Qe&&He?(Qe=!0,He=!1):Qe&&He?(Qe=!1,He=!1):He=!0;break;case fe.CODE_SHIFT:I=!0,p=fe.CODE_CODE_A;break;case fe.CODE_CODE_A:p=fe.CODE_CODE_A;break;case fe.CODE_CODE_C:p=fe.CODE_CODE_C;break;case fe.CODE_STOP:C=!0;break}break;case fe.CODE_CODE_C:if(W<100)W<10&&(N+="0"),N+=W;else switch(W!==fe.CODE_STOP&&(te=!1),W){case fe.CODE_FNC_1:s&&(N.length===0?N+="]C1":N+="");break;case fe.CODE_CODE_A:p=fe.CODE_CODE_A;break;case fe.CODE_CODE_B:p=fe.CODE_CODE_B;break;case fe.CODE_STOP:C=!0;break}break}wr&&(p=p===fe.CODE_CODE_A?fe.CODE_CODE_B:fe.CODE_CODE_A)}const Cn=L-O;if(L=n.getNextUnset(L),!n.isRange(L,Math.min(n.getSize(),L+(L-O)/2),!1))throw new Y;if(se-=oe*z,se%103!==z)throw new ge;const Qn=N.length;if(Qn===0)throw new Y;Qn>0&&te&&(p===fe.CODE_CODE_C?N=N.substring(0,Qn-2):N=N.substring(0,Qn-1));const Wt=(o[1]+o[0])/2,ct=O+Cn/2,Dt=g.length,gn=new Uint8Array(Dt);for(let wr=0;wr<Dt;wr++)gn[wr]=g[wr];const Wr=[new we(Wt,e),new we(ct,e)];return new Me(N,gn,0,Wr,ce.CODE_128,new Date().getTime())}}fe.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],fe.MAX_AVG_VARIANCE=.25,fe.MAX_INDIVIDUAL_VARIANCE=.7,fe.CODE_SHIFT=98,fe.CODE_CODE_C=99,fe.CODE_CODE_B=100,fe.CODE_CODE_A=101,fe.CODE_FNC_1=102,fe.CODE_FNC_2=97,fe.CODE_FNC_3=96,fe.CODE_FNC_4_A=101,fe.CODE_FNC_4_B=100,fe.CODE_START_A=103,fe.CODE_START_B=104,fe.CODE_START_C=105,fe.CODE_STOP=106;class jt extends Mt{constructor(e=!1,n=!1){super(),this.usingCheckDigit=e,this.extendedMode=n,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,n,r){let s=this.counters;s.fill(0),this.decodeRowResult="";let o=jt.findAsteriskPattern(n,s),a=n.getNextSet(o[1]),u=n.getSize(),g,p;do{jt.recordPattern(n,a,s);let P=jt.toNarrowWidePattern(s);if(P<0)throw new Y;g=jt.patternToChar(P),this.decodeRowResult+=g,p=a;for(let z of s)a+=z;a=n.getNextSet(a)}while(g!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let C=0;for(let P of s)C+=P;let I=a-p-C;if(a!==u&&I*2<C)throw new Y;if(this.usingCheckDigit){let P=this.decodeRowResult.length-1,z=0;for(let W=0;W<P;W++)z+=jt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(W));if(this.decodeRowResult.charAt(P)!==jt.ALPHABET_STRING.charAt(z%43))throw new ge;this.decodeRowResult=this.decodeRowResult.substring(0,P)}if(this.decodeRowResult.length===0)throw new Y;let N;this.extendedMode?N=jt.decodeExtended(this.decodeRowResult):N=this.decodeRowResult;let O=(o[1]+o[0])/2,L=p+C/2;return new Me(N,null,0,[new we(O,e),new we(L,e)],ce.CODE_39,new Date().getTime())}static findAsteriskPattern(e,n){let r=e.getSize(),s=e.getNextSet(0),o=0,a=s,u=!1,g=n.length;for(let p=s;p<r;p++)if(e.get(p)!==u)n[o]++;else{if(o===g-1){if(this.toNarrowWidePattern(n)===jt.ASTERISK_ENCODING&&e.isRange(Math.max(0,a-Math.floor((p-a)/2)),a,!1))return[a,p];a+=n[0]+n[1],n.copyWithin(0,2,2+o-1),n[o-1]=0,n[o]=0,o--}else o++;n[o]=1,u=!u}throw new Y}static toNarrowWidePattern(e){let n=e.length,r=0,s;do{let o=2147483647;for(let g of e)g<o&&g>r&&(o=g);r=o,s=0;let a=0,u=0;for(let g=0;g<n;g++){let p=e[g];p>r&&(u|=1<<n-1-g,s++,a+=p)}if(s===3){for(let g=0;g<n&&s>0;g++){let p=e[g];if(p>r&&(s--,p*2>=a))return-1}return u}}while(s>3);return-1}static patternToChar(e){for(let n=0;n<jt.CHARACTER_ENCODINGS.length;n++)if(jt.CHARACTER_ENCODINGS[n]===e)return jt.ALPHABET_STRING.charAt(n);if(e===jt.ASTERISK_ENCODING)return"*";throw new Y}static decodeExtended(e){let n=e.length,r="";for(let s=0;s<n;s++){let o=e.charAt(s);if(o==="+"||o==="$"||o==="%"||o==="/"){let a=e.charAt(s+1),u="\0";switch(o){case"+":if(a>="A"&&a<="Z")u=String.fromCharCode(a.charCodeAt(0)+32);else throw new $;break;case"$":if(a>="A"&&a<="Z")u=String.fromCharCode(a.charCodeAt(0)-64);else throw new $;break;case"%":if(a>="A"&&a<="E")u=String.fromCharCode(a.charCodeAt(0)-38);else if(a>="F"&&a<="J")u=String.fromCharCode(a.charCodeAt(0)-11);else if(a>="K"&&a<="O")u=String.fromCharCode(a.charCodeAt(0)+16);else if(a>="P"&&a<="T")u=String.fromCharCode(a.charCodeAt(0)+43);else if(a==="U")u="\0";else if(a==="V")u="@";else if(a==="W")u="`";else if(a==="X"||a==="Y"||a==="Z")u="";else throw new $;break;case"/":if(a>="A"&&a<="O")u=String.fromCharCode(a.charCodeAt(0)-32);else if(a==="Z")u=":";else throw new $;break}r+=u,s++}else r+=o}return r}}jt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",jt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],jt.ASTERISK_ENCODING=148;class ut extends Mt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,n,r){let s=this.decodeStart(n),o=this.decodeEnd(n),a=new We;ut.decodeMiddle(n,s[1],o[0],a);let u=a.toString(),g=null;r!=null&&(g=r.get(De.ALLOWED_LENGTHS)),g==null&&(g=ut.DEFAULT_ALLOWED_LENGTHS);let p=u.length,C=!1,I=0;for(let L of g){if(p===L){C=!0;break}L>I&&(I=L)}if(!C&&p>I&&(C=!0),!C)throw new $;const N=[new we(s[1],e),new we(o[0],e)];return new Me(u,null,0,N,ce.ITF,new Date().getTime())}static decodeMiddle(e,n,r,s){let o=new Int32Array(10),a=new Int32Array(5),u=new Int32Array(5);for(o.fill(0),a.fill(0),u.fill(0);n<r;){Mt.recordPattern(e,n,o);for(let p=0;p<5;p++){let C=2*p;a[p]=o[C],u[p]=o[C+1]}let g=ut.decodeDigit(a);s.append(g.toString()),g=this.decodeDigit(u),s.append(g.toString()),o.forEach(function(p){n+=p})}}decodeStart(e){let n=ut.skipWhiteSpace(e),r=ut.findGuardPattern(e,n,ut.START_PATTERN);return this.narrowLineWidth=(r[1]-r[0])/4,this.validateQuietZone(e,r[0]),r}validateQuietZone(e,n){let r=this.narrowLineWidth*10;r=r<n?r:n;for(let s=n-1;r>0&&s>=0&&!e.get(s);s--)r--;if(r!==0)throw new Y}static skipWhiteSpace(e){const n=e.getSize(),r=e.getNextSet(0);if(r===n)throw new Y;return r}decodeEnd(e){e.reverse();try{let n=ut.skipWhiteSpace(e),r;try{r=ut.findGuardPattern(e,n,ut.END_PATTERN_REVERSED[0])}catch(o){o instanceof Y&&(r=ut.findGuardPattern(e,n,ut.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,r[0]);let s=r[0];return r[0]=e.getSize()-r[1],r[1]=e.getSize()-s,r}finally{e.reverse()}}static findGuardPattern(e,n,r){let s=r.length,o=new Int32Array(s),a=e.getSize(),u=!1,g=0,p=n;o.fill(0);for(let C=n;C<a;C++)if(e.get(C)!==u)o[g]++;else{if(g===s-1){if(Mt.patternMatchVariance(o,r,ut.MAX_INDIVIDUAL_VARIANCE)<ut.MAX_AVG_VARIANCE)return[p,C];p+=o[0]+o[1],Q.arraycopy(o,2,o,0,g-1),o[g-1]=0,o[g]=0,g--}else g++;o[g]=1,u=!u}throw new Y}static decodeDigit(e){let n=ut.MAX_AVG_VARIANCE,r=-1,s=ut.PATTERNS.length;for(let o=0;o<s;o++){let a=ut.PATTERNS[o],u=Mt.patternMatchVariance(e,a,ut.MAX_INDIVIDUAL_VARIANCE);u<n?(n=u,r=o):u===n&&(r=-1)}if(r>=0)return r%10;throw new Y}}ut.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],ut.MAX_AVG_VARIANCE=.38,ut.MAX_INDIVIDUAL_VARIANCE=.5,ut.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],ut.START_PATTERN=Int32Array.from([1,1,1,1]),ut.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Ct extends Mt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let n=!1,r,s=0,o=Int32Array.from([0,0,0]);for(;!n;){o=Int32Array.from([0,0,0]),r=Ct.findGuardPattern(e,s,!1,this.START_END_PATTERN,o);let a=r[0];s=r[1];let u=a-(s-a);u>=0&&(n=e.isRange(u,a,!1))}return r}static checkChecksum(e){return Ct.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let n=e.length;if(n===0)return!1;let r=parseInt(e.charAt(n-1),10);return Ct.getStandardUPCEANChecksum(e.substring(0,n-1))===r}static getStandardUPCEANChecksum(e){let n=e.length,r=0;for(let s=n-1;s>=0;s-=2){let o=e.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new $;r+=o}r*=3;for(let s=n-2;s>=0;s-=2){let o=e.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new $;r+=o}return(1e3-r)%10}static decodeEnd(e,n){return Ct.findGuardPattern(e,n,!1,Ct.START_END_PATTERN,new Int32Array(Ct.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,n,r,s){return this.findGuardPattern(e,n,r,s,new Int32Array(s.length))}static findGuardPattern(e,n,r,s,o){let a=e.getSize();n=r?e.getNextUnset(n):e.getNextSet(n);let u=0,g=n,p=s.length,C=r;for(let I=n;I<a;I++)if(e.get(I)!==C)o[u]++;else{if(u===p-1){if(Mt.patternMatchVariance(o,s,Ct.MAX_INDIVIDUAL_VARIANCE)<Ct.MAX_AVG_VARIANCE)return Int32Array.from([g,I]);g+=o[0]+o[1];let N=o.slice(2,o.length-1);for(let O=0;O<u-1;O++)o[O]=N[O];o[u-1]=0,o[u]=0,u--}else u++;o[u]=1,C=!C}throw new Y}static decodeDigit(e,n,r,s){this.recordPattern(e,r,n);let o=this.MAX_AVG_VARIANCE,a=-1,u=s.length;for(let g=0;g<u;g++){let p=s[g],C=Mt.patternMatchVariance(n,p,Ct.MAX_INDIVIDUAL_VARIANCE);C<o&&(o=C,a=g)}if(a>=0)return a;throw new Y}}Ct.MAX_AVG_VARIANCE=.48,Ct.MAX_INDIVIDUAL_VARIANCE=.7,Ct.START_END_PATTERN=Int32Array.from([1,1,1]),Ct.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Ct.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ct.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Ur{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,n,r){let s=this.decodeRowStringBuffer,o=this.decodeMiddle(n,r,s),a=s.toString(),u=Ur.parseExtensionString(a),g=[new we((r[0]+r[1])/2,e),new we(o,e)],p=new Me(a,null,0,g,ce.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&p.putAllMetadata(u),p}decodeMiddle(e,n,r){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=e.getSize(),a=n[1],u=0;for(let p=0;p<5&&a<o;p++){let C=Ct.decodeDigit(e,s,a,Ct.L_AND_G_PATTERNS);r+=String.fromCharCode(48+C%10);for(let I of s)a+=I;C>=10&&(u|=1<<4-p),p!==4&&(a=e.getNextSet(a),a=e.getNextUnset(a))}if(r.length!==5)throw new Y;let g=this.determineCheckDigit(u);if(Ur.extensionChecksum(r.toString())!==g)throw new Y;return a}static extensionChecksum(e){let n=e.length,r=0;for(let s=n-2;s>=0;s-=2)r+=e.charAt(s).charCodeAt(0)-48;r*=3;for(let s=n-1;s>=0;s-=2)r+=e.charAt(s).charCodeAt(0)-48;return r*=3,r%10}determineCheckDigit(e){for(let n=0;n<10;n++)if(e===this.CHECK_DIGIT_ENCODINGS[n])return n;throw new Y}static parseExtensionString(e){if(e.length!==5)return null;let n=Ur.parseExtension5String(e);return n==null?null:new Map([[Pe.SUGGESTED_PRICE,n]])}static parseExtension5String(e){let n;switch(e.charAt(0)){case"0":n="£";break;case"5":n="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}n="";break;default:n="";break}let r=parseInt(e.substring(1)),s=(r/100).toString(),o=r%100,a=o<10?"0"+o:o.toString();return n+s+"."+a}}class Di{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,n,r){let s=this.decodeRowStringBuffer,o=this.decodeMiddle(n,r,s),a=s.toString(),u=Di.parseExtensionString(a),g=[new we((r[0]+r[1])/2,e),new we(o,e)],p=new Me(a,null,0,g,ce.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&p.putAllMetadata(u),p}decodeMiddle(e,n,r){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=e.getSize(),a=n[1],u=0;for(let g=0;g<2&&a<o;g++){let p=Ct.decodeDigit(e,s,a,Ct.L_AND_G_PATTERNS);r+=String.fromCharCode(48+p%10);for(let C of s)a+=C;p>=10&&(u|=1<<1-g),g!==1&&(a=e.getNextSet(a),a=e.getNextUnset(a))}if(r.length!==2)throw new Y;if(parseInt(r.toString())%4!==u)throw new Y;return a}static parseExtensionString(e){return e.length!==2?null:new Map([[Pe.ISSUE_NUMBER,parseInt(e)]])}}class ls{static decodeRow(e,n,r){let s=Ct.findGuardPattern(n,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Ur().decodeRow(e,n,s)}catch{return new Di().decodeRow(e,n,s)}}}ls.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Ke extends Ct{constructor(){super(),this.decodeRowStringBuffer="",Ke.L_AND_G_PATTERNS=Ke.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let n=Ke.L_PATTERNS[e-10],r=new Int32Array(n.length);for(let s=0;s<n.length;s++)r[s]=n[n.length-s-1];Ke.L_AND_G_PATTERNS[e]=r}}decodeRow(e,n,r){let s=Ke.findStartGuardPattern(n),o=r==null?null:r.get(De.NEED_RESULT_POINT_CALLBACK);if(o!=null){const te=new we((s[0]+s[1])/2,e);o.foundPossibleResultPoint(te)}let a=this.decodeMiddle(n,s,this.decodeRowStringBuffer),u=a.rowOffset,g=a.resultString;if(o!=null){const te=new we(u,e);o.foundPossibleResultPoint(te)}let p=this.decodeEnd(n,u);if(o!=null){const te=new we((p[0]+p[1])/2,e);o.foundPossibleResultPoint(te)}let C=p[1],I=C+(C-p[0]);if(I>=n.getSize()||!n.isRange(C,I,!1))throw new Y;let N=g.toString();if(N.length<8)throw new $;if(!Ke.checkChecksum(N))throw new ge;let O=(s[1]+s[0])/2,L=(p[1]+p[0])/2,P=this.getBarcodeFormat(),z=[new we(O,e),new we(L,e)],W=new Me(N,null,0,z,P,new Date().getTime()),se=0;try{let te=ls.decodeRow(e,n,p[1]);W.putMetadata(Pe.UPC_EAN_EXTENSION,te.getText()),W.putAllMetadata(te.getResultMetadata()),W.addResultPoints(te.getResultPoints()),se=te.getText().length}catch{}let oe=r==null?null:r.get(De.ALLOWED_EAN_EXTENSIONS);if(oe!=null){let te=!1;for(let Qe in oe)if(se.toString()===Qe){te=!0;break}if(!te)throw new Y}return W}decodeEnd(e,n){return Ke.findGuardPattern(e,n,!1,Ke.START_END_PATTERN,new Int32Array(Ke.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return Ke.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let n=e.length;if(n===0)return!1;let r=parseInt(e.charAt(n-1),10);return Ke.getStandardUPCEANChecksum(e.substring(0,n-1))===r}static getStandardUPCEANChecksum(e){let n=e.length,r=0;for(let s=n-1;s>=0;s-=2){let o=e.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new $;r+=o}r*=3;for(let s=n-2;s>=0;s-=2){let o=e.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new $;r+=o}return(1e3-r)%10}}class Mn extends Ke{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,n,r){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=e.getSize(),a=n[1],u=0;for(let p=0;p<6&&a<o;p++){let C=Ke.decodeDigit(e,s,a,Ke.L_AND_G_PATTERNS);r+=String.fromCharCode(48+C%10);for(let I of s)a+=I;C>=10&&(u|=1<<5-p)}r=Mn.determineFirstDigit(r,u),a=Ke.findGuardPattern(e,a,!0,Ke.MIDDLE_PATTERN,new Int32Array(Ke.MIDDLE_PATTERN.length).fill(0))[1];for(let p=0;p<6&&a<o;p++){let C=Ke.decodeDigit(e,s,a,Ke.L_PATTERNS);r+=String.fromCharCode(48+C);for(let I of s)a+=I}return{rowOffset:a,resultString:r}}getBarcodeFormat(){return ce.EAN_13}static determineFirstDigit(e,n){for(let r=0;r<10;r++)if(n===this.FIRST_DIGIT_ENCODINGS[r])return e=String.fromCharCode(48+r)+e,e;throw new Y}}Mn.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Us extends Ke{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,n,r){const s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=e.getSize(),a=n[1];for(let g=0;g<4&&a<o;g++){let p=Ke.decodeDigit(e,s,a,Ke.L_PATTERNS);r+=String.fromCharCode(48+p);for(let C of s)a+=C}a=Ke.findGuardPattern(e,a,!0,Ke.MIDDLE_PATTERN,new Int32Array(Ke.MIDDLE_PATTERN.length).fill(0))[1];for(let g=0;g<4&&a<o;g++){let p=Ke.decodeDigit(e,s,a,Ke.L_PATTERNS);r+=String.fromCharCode(48+p);for(let C of s)a+=C}return{rowOffset:a,resultString:r}}getBarcodeFormat(){return ce.EAN_8}}class zs extends Ke{constructor(){super(...arguments),this.ean13Reader=new Mn}getBarcodeFormat(){return ce.UPC_A}decode(e,n){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,n,r){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,n,r))}decodeMiddle(e,n,r){return this.ean13Reader.decodeMiddle(e,n,r)}maybeReturnResult(e){let n=e.getText();if(n.charAt(0)==="0"){let r=new Me(n.substring(1),null,null,e.getResultPoints(),ce.UPC_A);return e.getResultMetadata()!=null&&r.putAllMetadata(e.getResultMetadata()),r}else throw new Y}reset(){this.ean13Reader.reset()}}class Dn extends Ke{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,n,r){const s=this.decodeMiddleCounters.map(p=>p);s[0]=0,s[1]=0,s[2]=0,s[3]=0;const o=e.getSize();let a=n[1],u=0;for(let p=0;p<6&&a<o;p++){const C=Dn.decodeDigit(e,s,a,Dn.L_AND_G_PATTERNS);r+=String.fromCharCode(48+C%10);for(let I of s)a+=I;C>=10&&(u|=1<<5-p)}let g=Dn.determineNumSysAndCheckDigit(r,u);return{rowOffset:a,resultString:g}}decodeEnd(e,n){return Dn.findGuardPatternWithoutCounters(e,n,!0,Dn.MIDDLE_END_PATTERN)}checkChecksum(e){return Ke.checkChecksum(Dn.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,n){for(let r=0;r<=1;r++)for(let s=0;s<10;s++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[r][s]){let o=String.fromCharCode(48+r),a=String.fromCharCode(48+s);return o+e+a}throw Y.getNotFoundInstance()}getBarcodeFormat(){return ce.UPC_E}static convertUPCEtoUPCA(e){const n=e.slice(1,7).split("").map(o=>o.charCodeAt(0)),r=new We;r.append(e.charAt(0));let s=n[5];switch(s){case 0:case 1:case 2:r.appendChars(n,0,2),r.append(s),r.append("0000"),r.appendChars(n,2,3);break;case 3:r.appendChars(n,0,3),r.append("00000"),r.appendChars(n,3,2);break;case 4:r.appendChars(n,0,4),r.append("00000"),r.append(n[4]);break;default:r.appendChars(n,0,5),r.append("0000"),r.append(s);break}return e.length>=8&&r.append(e.charAt(7)),r.toString()}}Dn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Dn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class us extends Mt{constructor(e){super();let n=e==null?null:e.get(De.POSSIBLE_FORMATS),r=[];m(n)?(r.push(new Mn),r.push(new zs),r.push(new Us),r.push(new Dn)):(n.indexOf(ce.EAN_13)>-1&&r.push(new Mn),n.indexOf(ce.UPC_A)>-1&&r.push(new zs),n.indexOf(ce.EAN_8)>-1&&r.push(new Us),n.indexOf(ce.UPC_E)>-1&&r.push(new Dn)),this.readers=r}decodeRow(e,n,r){for(let s of this.readers)try{const o=s.decodeRow(e,n,r),a=o.getBarcodeFormat()===ce.EAN_13&&o.getText().charAt(0)==="0",u=r==null?null:r.get(De.POSSIBLE_FORMATS),g=u==null||u.includes(ce.UPC_A);if(a&&g){const p=o.getRawBytes(),C=new Me(o.getText().substring(1),p,p?p.length:null,o.getResultPoints(),ce.UPC_A);return C.putAllMetadata(o.getResultMetadata()),C}return o}catch{}throw new Y}reset(){for(let e of this.readers)e.reset()}}class qt extends Mt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,n){for(let r=0;r<n.length;r++)if(Mt.patternMatchVariance(e,n[r],qt.MAX_INDIVIDUAL_VARIANCE)<qt.MAX_AVG_VARIANCE)return r;throw new Y}static count(e){return qe.sum(new Int32Array(e))}static increment(e,n){let r=0,s=n[0];for(let o=1;o<e.length;o++)n[o]>s&&(s=n[o],r=o);e[r]++}static decrement(e,n){let r=0,s=n[0];for(let o=1;o<e.length;o++)n[o]<s&&(s=n[o],r=o);e[r]--}static isFinderPattern(e){let n=e[0]+e[1],r=n+e[2]+e[3],s=n/r;if(s>=qt.MIN_FINDER_PATTERN_RATIO&&s<=qt.MAX_FINDER_PATTERN_RATIO){let o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;for(let u of e)u>a&&(a=u),u<o&&(o=u);return a<10*o}return!1}}qt.MAX_AVG_VARIANCE=.2,qt.MAX_INDIVIDUAL_VARIANCE=.45,qt.MIN_FINDER_PATTERN_RATIO=9.5/12,qt.MAX_FINDER_PATTERN_RATIO=12.5/14;class Or{constructor(e,n){this.value=e,this.checksumPortion=n}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof Or))return!1;const n=e;return this.value===n.value&&this.checksumPortion===n.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class bi{constructor(e,n,r,s,o){this.value=e,this.startEnd=n,this.value=e,this.startEnd=n,this.resultPoints=new Array,this.resultPoints.push(new we(r,o)),this.resultPoints.push(new we(s,o))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof bi))return!1;const n=e;return this.value===n.value}hashCode(){return this.value}}class wn{constructor(){}static getRSSvalue(e,n,r){let s=0;for(let g of e)s+=g;let o=0,a=0,u=e.length;for(let g=0;g<u-1;g++){let p;for(p=1,a|=1<<g;p<e[g];p++,a&=~(1<<g)){let C=wn.combins(s-p-1,u-g-2);if(r&&a===0&&s-p-(u-g-1)>=u-g-1&&(C-=wn.combins(s-p-(u-g),u-g-2)),u-g-1>1){let I=0;for(let N=s-p-(u-g-2);N>n;N--)I+=wn.combins(s-p-N-1,u-g-3);C-=I*(u-1-g)}else s-p>n&&C--;o+=C}s-=p}return o}static combins(e,n){let r,s;e-n>n?(s=n,r=e-n):(s=e-n,r=n);let o=1,a=1;for(let u=e;u>r;u--)o*=u,a<=s&&(o/=a,a++);for(;a<=s;)o/=a,a++;return o}}class js{static buildBitArray(e){let n=e.length*2-1;e[e.length-1].getRightChar()==null&&(n-=1);let r=12*n,s=new Ne(r),o=0,u=e[0].getRightChar().getValue();for(let g=11;g>=0;--g)u&1<<g&&s.set(o),o++;for(let g=1;g<e.length;++g){let p=e[g],C=p.getLeftChar().getValue();for(let I=11;I>=0;--I)C&1<<I&&s.set(o),o++;if(p.getRightChar()!=null){let I=p.getRightChar().getValue();for(let N=11;N>=0;--N)I&1<<N&&s.set(o),o++}}return s}}class Vn{constructor(e,n){n?this.decodedInformation=null:(this.finished=e,this.decodedInformation=n)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Hs{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class Yt extends Hs{constructor(e,n){super(e),this.value=n}getValue(){return this.value}isFNC1(){return this.value===Yt.FNC1}}Yt.FNC1="$";class ir extends Hs{constructor(e,n,r){super(e),r?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=n}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class fn extends Hs{constructor(e,n,r){if(super(e),n<0||n>10||r<0||r>10)throw new $;this.firstDigit=n,this.secondDigit=r}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===fn.FNC1}isSecondDigitFNC1(){return this.secondDigit===fn.FNC1}isAnyFNC1(){return this.firstDigit===fn.FNC1||this.secondDigit===fn.FNC1}}fn.FNC1=10;class xe{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new Y;let n=e.substring(0,2);for(let o of xe.TWO_DIGIT_DATA_LENGTH)if(o[0]===n)return o[1]===xe.VARIABLE_LENGTH?xe.processVariableAI(2,o[2],e):xe.processFixedAI(2,o[1],e);if(e.length<3)throw new Y;let r=e.substring(0,3);for(let o of xe.THREE_DIGIT_DATA_LENGTH)if(o[0]===r)return o[1]===xe.VARIABLE_LENGTH?xe.processVariableAI(3,o[2],e):xe.processFixedAI(3,o[1],e);for(let o of xe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(o[0]===r)return o[1]===xe.VARIABLE_LENGTH?xe.processVariableAI(4,o[2],e):xe.processFixedAI(4,o[1],e);if(e.length<4)throw new Y;let s=e.substring(0,4);for(let o of xe.FOUR_DIGIT_DATA_LENGTH)if(o[0]===s)return o[1]===xe.VARIABLE_LENGTH?xe.processVariableAI(4,o[2],e):xe.processFixedAI(4,o[1],e);throw new Y}static processFixedAI(e,n,r){if(r.length<e)throw new Y;let s=r.substring(0,e);if(r.length<e+n)throw new Y;let o=r.substring(e,e+n),a=r.substring(e+n),u="("+s+")"+o,g=xe.parseFieldsInGeneralPurpose(a);return g==null?u:u+g}static processVariableAI(e,n,r){let s=r.substring(0,e),o;r.length<e+n?o=r.length:o=e+n;let a=r.substring(e,o),u=r.substring(o),g="("+s+")"+a,p=xe.parseFieldsInGeneralPurpose(u);return p==null?g:g+p}}xe.VARIABLE_LENGTH=[],xe.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",xe.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",xe.VARIABLE_LENGTH,20],["22",xe.VARIABLE_LENGTH,29],["30",xe.VARIABLE_LENGTH,8],["37",xe.VARIABLE_LENGTH,8],["90",xe.VARIABLE_LENGTH,30],["91",xe.VARIABLE_LENGTH,30],["92",xe.VARIABLE_LENGTH,30],["93",xe.VARIABLE_LENGTH,30],["94",xe.VARIABLE_LENGTH,30],["95",xe.VARIABLE_LENGTH,30],["96",xe.VARIABLE_LENGTH,30],["97",xe.VARIABLE_LENGTH,3],["98",xe.VARIABLE_LENGTH,30],["99",xe.VARIABLE_LENGTH,30]],xe.THREE_DIGIT_DATA_LENGTH=[["240",xe.VARIABLE_LENGTH,30],["241",xe.VARIABLE_LENGTH,30],["242",xe.VARIABLE_LENGTH,6],["250",xe.VARIABLE_LENGTH,30],["251",xe.VARIABLE_LENGTH,30],["253",xe.VARIABLE_LENGTH,17],["254",xe.VARIABLE_LENGTH,20],["400",xe.VARIABLE_LENGTH,30],["401",xe.VARIABLE_LENGTH,30],["402",17],["403",xe.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",xe.VARIABLE_LENGTH,20],["421",xe.VARIABLE_LENGTH,15],["422",3],["423",xe.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],xe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",xe.VARIABLE_LENGTH,15],["391",xe.VARIABLE_LENGTH,18],["392",xe.VARIABLE_LENGTH,15],["393",xe.VARIABLE_LENGTH,18],["703",xe.VARIABLE_LENGTH,30]],xe.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",xe.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",xe.VARIABLE_LENGTH,20],["8003",xe.VARIABLE_LENGTH,30],["8004",xe.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",xe.VARIABLE_LENGTH,30],["8008",xe.VARIABLE_LENGTH,12],["8018",18],["8020",xe.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",xe.VARIABLE_LENGTH,70],["8200",xe.VARIABLE_LENGTH,70]];class ri{constructor(e){this.buffer=new We,this.information=e}decodeAllCodes(e,n){let r=n,s=null;do{let o=this.decodeGeneralPurposeField(r,s),a=xe.parseFieldsInGeneralPurpose(o.getNewString());if(a!=null&&e.append(a),o.isRemaining()?s=""+o.getRemainingValue():s=null,r===o.getNewPosition())break;r=o.getNewPosition()}while(!0);return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let n=e;n<e+3;++n)if(this.information.get(n))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let o=this.extractNumericValueFromBitArray(e,4);return o===0?new fn(this.information.getSize(),fn.FNC1,fn.FNC1):new fn(this.information.getSize(),o-1,fn.FNC1)}let n=this.extractNumericValueFromBitArray(e,7),r=(n-8)/11,s=(n-8)%11;return new fn(e+7,r,s)}extractNumericValueFromBitArray(e,n){return ri.extractNumericValueFromBitArray(this.information,e,n)}static extractNumericValueFromBitArray(e,n,r){let s=0;for(let o=0;o<r;++o)e.get(n+o)&&(s|=1<<r-o-1);return s}decodeGeneralPurposeField(e,n){this.buffer.setLengthToZero(),n!=null&&this.buffer.append(n),this.current.setPosition(e);let r=this.parseBlocks();return r!=null&&r.isRemaining()?new ir(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new ir(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,n;do{let r=this.current.getPosition();if(this.current.isAlpha()?(n=this.parseAlphaBlock(),e=n.isFinished()):this.current.isIsoIec646()?(n=this.parseIsoIec646Block(),e=n.isFinished()):(n=this.parseNumericBlock(),e=n.isFinished()),!(r!==this.current.getPosition())&&!e)break}while(!e);return n.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let n;return e.isSecondDigitFNC1()?n=new ir(this.current.getPosition(),this.buffer.toString()):n=new ir(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Vn(!0,n)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let n=new ir(this.current.getPosition(),this.buffer.toString());return new Vn(!0,n)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Vn(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let n=new ir(this.current.getPosition(),this.buffer.toString());return new Vn(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Vn(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let n=new ir(this.current.getPosition(),this.buffer.toString());return new Vn(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Vn(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+7>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<116)return!0;if(e+8>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(e,8);return s>=232&&s<253}decodeIsoIec646(e){let n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new Yt(e+5,Yt.FNC1);if(n>=5&&n<15)return new Yt(e+5,"0"+(n-5));let r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<90)return new Yt(e+7,""+(r+1));if(r>=90&&r<116)return new Yt(e+7,""+(r+7));let s=this.extractNumericValueFromBitArray(e,8),o;switch(s){case 232:o="!";break;case 233:o='"';break;case 234:o="%";break;case 235:o="&";break;case 236:o="'";break;case 237:o="(";break;case 238:o=")";break;case 239:o="*";break;case 240:o="+";break;case 241:o=",";break;case 242:o="-";break;case 243:o=".";break;case 244:o="/";break;case 245:o=":";break;case 246:o=";";break;case 247:o="<";break;case 248:o="=";break;case 249:o=">";break;case 250:o="?";break;case 251:o="_";break;case 252:o=" ";break;default:throw new $}return new Yt(e+8,o)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+6>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,6);return r>=16&&r<63}decodeAlphanumeric(e){let n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new Yt(e+5,Yt.FNC1);if(n>=5&&n<15)return new Yt(e+5,"0"+(n-5));let r=this.extractNumericValueFromBitArray(e,6);if(r>=32&&r<58)return new Yt(e+6,""+(r+33));let s;switch(r){case 58:s="*";break;case 59:s=",";break;case 60:s="-";break;case 61:s=".";break;case 62:s="/";break;default:throw new jn("Decoding invalid alphanumeric value: "+r)}return new Yt(e+6,s)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let n=0;n<5&&n+e<this.information.getSize();++n)if(n===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+n))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let n=e;n<e+3;++n)if(this.information.get(n))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let n=0;n<4&&n+e<this.information.getSize();++n)if(this.information.get(e+n))return!1;return!0}}class Vs{constructor(e){this.information=e,this.generalDecoder=new ri(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class yn extends Vs{constructor(e){super(e)}encodeCompressedGtin(e,n){e.append("(01)");let r=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,n,r)}encodeCompressedGtinWithoutAI(e,n,r){for(let s=0;s<4;++s){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*s,10);o/100===0&&e.append("0"),o/10===0&&e.append("0"),e.append(o)}yn.appendCheckDigit(e,r)}static appendCheckDigit(e,n){let r=0;for(let s=0;s<13;s++){let o=e.charAt(s+n).charCodeAt(0)-48;r+=s&1?o:3*o}r=10-r%10,r===10&&(r=0),e.append(r)}}yn.GTIN_SIZE=40;class bn extends yn{constructor(e){super(e)}parseInformation(){let e=new We;e.append("(01)");let n=e.length(),r=this.getGeneralDecoder().extractNumericValueFromBitArray(bn.HEADER_SIZE,4);return e.append(r),this.encodeCompressedGtinWithoutAI(e,bn.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(e,bn.HEADER_SIZE+44)}}bn.HEADER_SIZE=4;class Li extends Vs{constructor(e){super(e)}parseInformation(){let e=new We;return this.getGeneralDecoder().decodeAllCodes(e,Li.HEADER_SIZE)}}Li.HEADER_SIZE=5;class ki extends yn{constructor(e){super(e)}encodeCompressedWeight(e,n,r){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(n,r);this.addWeightCode(e,s);let o=this.checkWeight(s),a=1e5;for(let u=0;u<5;++u)o/a===0&&e.append("0"),a/=10;e.append(o)}}class sr extends ki{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=sr.HEADER_SIZE+ki.GTIN_SIZE+sr.WEIGHT_SIZE)throw new Y;let e=new We;return this.encodeCompressedGtin(e,sr.HEADER_SIZE),this.encodeCompressedWeight(e,sr.HEADER_SIZE+ki.GTIN_SIZE,sr.WEIGHT_SIZE),e.toString()}}sr.HEADER_SIZE=5,sr.WEIGHT_SIZE=15;class Do extends sr{constructor(e){super(e)}addWeightCode(e,n){e.append("(3103)")}checkWeight(e){return e}}class bo extends sr{constructor(e){super(e)}addWeightCode(e,n){n<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class Wn extends yn{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Wn.HEADER_SIZE+yn.GTIN_SIZE)throw new Y;let e=new We;this.encodeCompressedGtin(e,Wn.HEADER_SIZE);let n=this.getGeneralDecoder().extractNumericValueFromBitArray(Wn.HEADER_SIZE+yn.GTIN_SIZE,Wn.LAST_DIGIT_SIZE);e.append("(392"),e.append(n),e.append(")");let r=this.getGeneralDecoder().decodeGeneralPurposeField(Wn.HEADER_SIZE+yn.GTIN_SIZE+Wn.LAST_DIGIT_SIZE,null);return e.append(r.getNewString()),e.toString()}}Wn.HEADER_SIZE=8,Wn.LAST_DIGIT_SIZE=2;class on extends yn{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<on.HEADER_SIZE+yn.GTIN_SIZE)throw new Y;let e=new We;this.encodeCompressedGtin(e,on.HEADER_SIZE);let n=this.getGeneralDecoder().extractNumericValueFromBitArray(on.HEADER_SIZE+yn.GTIN_SIZE,on.LAST_DIGIT_SIZE);e.append("(393"),e.append(n),e.append(")");let r=this.getGeneralDecoder().extractNumericValueFromBitArray(on.HEADER_SIZE+yn.GTIN_SIZE+on.LAST_DIGIT_SIZE,on.FIRST_THREE_DIGITS_SIZE);r/100==0&&e.append("0"),r/10==0&&e.append("0"),e.append(r);let s=this.getGeneralDecoder().decodeGeneralPurposeField(on.HEADER_SIZE+yn.GTIN_SIZE+on.LAST_DIGIT_SIZE+on.FIRST_THREE_DIGITS_SIZE,null);return e.append(s.getNewString()),e.toString()}}on.HEADER_SIZE=8,on.LAST_DIGIT_SIZE=2,on.FIRST_THREE_DIGITS_SIZE=10;class At extends ki{constructor(e,n,r){super(e),this.dateCode=r,this.firstAIdigits=n}parseInformation(){if(this.getInformation().getSize()!=At.HEADER_SIZE+At.GTIN_SIZE+At.WEIGHT_SIZE+At.DATE_SIZE)throw new Y;let e=new We;return this.encodeCompressedGtin(e,At.HEADER_SIZE),this.encodeCompressedWeight(e,At.HEADER_SIZE+At.GTIN_SIZE,At.WEIGHT_SIZE),this.encodeCompressedDate(e,At.HEADER_SIZE+At.GTIN_SIZE+At.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,n){let r=this.getGeneralDecoder().extractNumericValueFromBitArray(n,At.DATE_SIZE);if(r==38400)return;e.append("("),e.append(this.dateCode),e.append(")");let s=r%32;r/=32;let o=r%12+1;r/=12;let a=r;a/10==0&&e.append("0"),e.append(a),o/10==0&&e.append("0"),e.append(o),s/10==0&&e.append("0"),e.append(s)}addWeightCode(e,n){e.append("("),e.append(this.firstAIdigits),e.append(n/1e5),e.append(")")}checkWeight(e){return e%1e5}}At.HEADER_SIZE=8,At.WEIGHT_SIZE=20,At.DATE_SIZE=16;function Lo(A){try{if(A.get(1))return new bn(A);if(!A.get(2))return new Li(A);switch(ri.extractNumericValueFromBitArray(A,1,4)){case 4:return new Do(A);case 5:return new bo(A)}switch(ri.extractNumericValueFromBitArray(A,1,5)){case 12:return new Wn(A);case 13:return new on(A)}switch(ri.extractNumericValueFromBitArray(A,1,7)){case 56:return new At(A,"310","11");case 57:return new At(A,"320","11");case 58:return new At(A,"310","13");case 59:return new At(A,"320","13");case 60:return new At(A,"310","15");case 61:return new At(A,"320","15");case 62:return new At(A,"310","17");case 63:return new At(A,"320","17")}}catch(e){throw console.log(e),new jn("unknown decoder: "+A)}}class ht{constructor(e,n,r,s){this.leftchar=e,this.rightchar=n,this.finderpattern=r,this.maybeLast=s}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(e,n){return e instanceof ht?ht.equalsOrNull(e.leftchar,n.leftchar)&&ht.equalsOrNull(e.rightchar,n.rightchar)&&ht.equalsOrNull(e.finderpattern,n.finderpattern):!1}static equalsOrNull(e,n){return e===null?n===null:ht.equals(e,n)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Ws{constructor(e,n,r){this.pairs=e,this.rowNumber=n,this.wasReversed=r}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,n){return e instanceof Ws?this.checkEqualitity(e,n)&&e.wasReversed===n.wasReversed:!1}checkEqualitity(e,n){if(!e||!n)return;let r;return e.forEach((s,o)=>{n.forEach(a=>{s.getLeftChar().getValue()===a.getLeftChar().getValue()&&s.getRightChar().getValue()===a.getRightChar().getValue()&&s.getFinderPatter().getValue()===a.getFinderPatter().getValue()&&(r=!0)})}),r}}class K extends qt{constructor(e){super(...arguments),this.pairs=new Array(K.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=e===!0}decodeRow(e,n,r){this.pairs.length=0,this.startFromEven=!1;try{return K.constructResult(this.decodeRow2pairs(e,n))}catch(s){this.verbose&&console.log(s)}return this.pairs.length=0,this.startFromEven=!0,K.constructResult(this.decodeRow2pairs(e,n))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,n){let r=!1;for(;!r;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,e))}catch(o){if(o instanceof Y){if(!this.pairs.length)throw new Y;r=!0}}if(this.checkChecksum())return this.pairs;let s;if(this.rows.length?s=!0:s=!1,this.storeRow(e,!1),s){let o=this.checkRowsBoolean(!1);if(o!=null||(o=this.checkRowsBoolean(!0),o!=null))return o}throw new Y}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let n=null;try{n=this.checkRows(new Array,0)}catch(r){this.verbose&&console.log(r)}return e&&(this.rows=this.rows.reverse()),n}checkRows(e,n){for(let r=n;r<this.rows.length;r++){let s=this.rows[r];this.pairs.length=0;for(let a of e)this.pairs.push(a.getPairs());if(this.pairs.push(s.getPairs()),!K.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let o=new Array(e);o.push(s);try{return this.checkRows(o,r+1)}catch(a){this.verbose&&console.log(a)}}throw new Y}static isValidSequence(e){for(let n of K.FINDER_PATTERN_SEQUENCES){if(e.length>n.length)continue;let r=!0;for(let s=0;s<e.length;s++)if(e[s].getFinderPattern().getValue()!=n[s]){r=!1;break}if(r)return!0}return!1}storeRow(e,n){let r=0,s=!1,o=!1;for(;r<this.rows.length;){let a=this.rows[r];if(a.getRowNumber()>e){o=a.isEquivalent(this.pairs);break}s=a.isEquivalent(this.pairs),r++}o||s||K.isPartialRow(this.pairs,this.rows)||(this.rows.push(r,new Ws(this.pairs,e,n)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,n){for(let r of n)if(r.getPairs().length!==e.length){for(let s of r.getPairs())for(let o of e)if(ht.equals(s,o))break}}static isPartialRow(e,n){for(let r of n){let s=!0;for(let o of e){let a=!1;for(let u of r.getPairs())if(o.equals(u)){a=!0;break}if(!a){s=!1;break}}if(s)return!0}return!1}getRows(){return this.rows}static constructResult(e){let n=js.buildBitArray(e),s=Lo(n).parseInformation(),o=e[0].getFinderPattern().getResultPoints(),a=e[e.length-1].getFinderPattern().getResultPoints(),u=[o[0],o[1],a[0],a[1]];return new Me(s,null,null,u,ce.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),n=e.getLeftChar(),r=e.getRightChar();if(r==null)return!1;let s=r.getChecksumPortion(),o=2;for(let u=1;u<this.pairs.size();++u){let g=this.pairs.get(u);s+=g.getLeftChar().getChecksumPortion(),o++;let p=g.getRightChar();p!=null&&(s+=p.getChecksumPortion(),o++)}return s%=211,211*(o-4)+s==n.getValue()}static getNextSecondBar(e,n){let r;return e.get(n)?(r=e.getNextUnset(n),r=e.getNextSet(r)):(r=e.getNextSet(n),r=e.getNextUnset(r)),r}retrieveNextPair(e,n,r){let s=n.length%2==0;this.startFromEven&&(s=!s);let o,a=!0,u=-1;do this.findNextPair(e,n,u),o=this.parseFoundFinderPattern(e,r,s),o==null?u=K.getNextSecondBar(e,this.startEnd[0]):a=!1;while(a);let g=this.decodeDataCharacter(e,o,s,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new Y;let p;try{p=this.decodeDataCharacter(e,o,s,!1)}catch(C){p=null,this.verbose&&console.log(C)}return new ht(g,p,o,!0)}isEmptyPair(e){return e.length===0}findNextPair(e,n,r){let s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=e.getSize(),a;r>=0?a=r:this.isEmptyPair(n)?a=0:a=n[n.length-1].getFinderPattern().getStartEnd()[1];let u=n.length%2!=0;this.startFromEven&&(u=!u);let g=!1;for(;a<o&&(g=!e.get(a),!!g);)a++;let p=0,C=a;for(let I=a;I<o;I++)if(e.get(I)!=g)s[p]++;else{if(p==3){if(u&&K.reverseCounters(s),K.isFinderPattern(s)){this.startEnd[0]=C,this.startEnd[1]=I;return}u&&K.reverseCounters(s),C+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,p--}else p++;s[p]=1,g=!g}throw new Y}static reverseCounters(e){let n=e.length;for(let r=0;r<n/2;++r){let s=e[r];e[r]=e[n-r-1],e[n-r-1]=s}}parseFoundFinderPattern(e,n,r){let s,o,a;if(r){let p=this.startEnd[0]-1;for(;p>=0&&!e.get(p);)p--;p++,s=this.startEnd[0]-p,o=p,a=this.startEnd[1]}else o=this.startEnd[0],a=e.getNextUnset(this.startEnd[1]+1),s=a-this.startEnd[1];let u=this.getDecodeFinderCounters();Q.arraycopy(u,0,u,1,u.length-1),u[0]=s;let g;try{g=this.parseFinderValue(u,K.FINDER_PATTERNS)}catch{return null}return new bi(g,[o,a],o,a,n)}decodeDataCharacter(e,n,r,s){let o=this.getDataCharacterCounters();for(let ct=0;ct<o.length;ct++)o[ct]=0;if(s)K.recordPatternInReverse(e,n.getStartEnd()[0],o);else{K.recordPattern(e,n.getStartEnd()[1],o);for(let ct=0,Dt=o.length-1;ct<Dt;ct++,Dt--){let gn=o[ct];o[ct]=o[Dt],o[Dt]=gn}}let a=17,u=qe.sum(new Int32Array(o))/a,g=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(u-g)/g>.3)throw new Y;let p=this.getOddCounts(),C=this.getEvenCounts(),I=this.getOddRoundingErrors(),N=this.getEvenRoundingErrors();for(let ct=0;ct<o.length;ct++){let Dt=1*o[ct]/u,gn=Dt+.5;if(gn<1){if(Dt<.3)throw new Y;gn=1}else if(gn>8){if(Dt>8.7)throw new Y;gn=8}let Wr=ct/2;ct&1?(C[Wr]=gn,N[Wr]=Dt-gn):(p[Wr]=gn,I[Wr]=Dt-gn)}this.adjustOddEvenCounts(a);let O=4*n.getValue()+(r?0:2)+(s?0:1)-1,L=0,P=0;for(let ct=p.length-1;ct>=0;ct--){if(K.isNotA1left(n,r,s)){let Dt=K.WEIGHTS[O][2*ct];P+=p[ct]*Dt}L+=p[ct]}let z=0;for(let ct=C.length-1;ct>=0;ct--)if(K.isNotA1left(n,r,s)){let Dt=K.WEIGHTS[O][2*ct+1];z+=C[ct]*Dt}let W=P+z;if(L&1||L>13||L<4)throw new Y;let se=(13-L)/2,oe=K.SYMBOL_WIDEST[se],te=9-oe,Qe=wn.getRSSvalue(p,oe,!0),He=wn.getRSSvalue(C,te,!1),Cn=K.EVEN_TOTAL_SUBSET[se],Qn=K.GSUM[se],Wt=Qe*Cn+He+Qn;return new Or(Wt,W)}static isNotA1left(e,n,r){return!(e.getValue()==0&&n&&r)}adjustOddEvenCounts(e){let n=qe.sum(new Int32Array(this.getOddCounts())),r=qe.sum(new Int32Array(this.getEvenCounts())),s=!1,o=!1;n>13?o=!0:n<4&&(s=!0);let a=!1,u=!1;r>13?u=!0:r<4&&(a=!0);let g=n+r-e,p=(n&1)==1,C=(r&1)==0;if(g==1)if(p){if(C)throw new Y;o=!0}else{if(!C)throw new Y;u=!0}else if(g==-1)if(p){if(C)throw new Y;s=!0}else{if(!C)throw new Y;a=!0}else if(g==0){if(p){if(!C)throw new Y;n<r?(s=!0,u=!0):(o=!0,a=!0)}else if(C)throw new Y}else throw new Y;if(s){if(o)throw new Y;K.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&K.decrement(this.getOddCounts(),this.getOddRoundingErrors()),a){if(u)throw new Y;K.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&K.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}K.SYMBOL_WIDEST=[7,5,4,3,1],K.EVEN_TOTAL_SUBSET=[4,20,52,104,204],K.GSUM=[0,348,1388,2948,3988],K.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],K.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],K.FINDER_PAT_A=0,K.FINDER_PAT_B=1,K.FINDER_PAT_C=2,K.FINDER_PAT_D=3,K.FINDER_PAT_E=4,K.FINDER_PAT_F=5,K.FINDER_PATTERN_SEQUENCES=[[K.FINDER_PAT_A,K.FINDER_PAT_A],[K.FINDER_PAT_A,K.FINDER_PAT_B,K.FINDER_PAT_B],[K.FINDER_PAT_A,K.FINDER_PAT_C,K.FINDER_PAT_B,K.FINDER_PAT_D],[K.FINDER_PAT_A,K.FINDER_PAT_E,K.FINDER_PAT_B,K.FINDER_PAT_D,K.FINDER_PAT_C],[K.FINDER_PAT_A,K.FINDER_PAT_E,K.FINDER_PAT_B,K.FINDER_PAT_D,K.FINDER_PAT_D,K.FINDER_PAT_F],[K.FINDER_PAT_A,K.FINDER_PAT_E,K.FINDER_PAT_B,K.FINDER_PAT_D,K.FINDER_PAT_E,K.FINDER_PAT_F,K.FINDER_PAT_F],[K.FINDER_PAT_A,K.FINDER_PAT_A,K.FINDER_PAT_B,K.FINDER_PAT_B,K.FINDER_PAT_C,K.FINDER_PAT_C,K.FINDER_PAT_D,K.FINDER_PAT_D],[K.FINDER_PAT_A,K.FINDER_PAT_A,K.FINDER_PAT_B,K.FINDER_PAT_B,K.FINDER_PAT_C,K.FINDER_PAT_C,K.FINDER_PAT_D,K.FINDER_PAT_E,K.FINDER_PAT_E],[K.FINDER_PAT_A,K.FINDER_PAT_A,K.FINDER_PAT_B,K.FINDER_PAT_B,K.FINDER_PAT_C,K.FINDER_PAT_C,K.FINDER_PAT_D,K.FINDER_PAT_E,K.FINDER_PAT_F,K.FINDER_PAT_F],[K.FINDER_PAT_A,K.FINDER_PAT_A,K.FINDER_PAT_B,K.FINDER_PAT_B,K.FINDER_PAT_C,K.FINDER_PAT_D,K.FINDER_PAT_D,K.FINDER_PAT_E,K.FINDER_PAT_E,K.FINDER_PAT_F,K.FINDER_PAT_F]],K.MAX_PAIRS=11;class ko extends Or{constructor(e,n,r){super(e,n),this.count=0,this.finderPattern=r}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class yt extends qt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,n,r){const s=this.decodePair(n,!1,e,r);yt.addOrTally(this.possibleLeftPairs,s),n.reverse();let o=this.decodePair(n,!0,e,r);yt.addOrTally(this.possibleRightPairs,o),n.reverse();for(let a of this.possibleLeftPairs)if(a.getCount()>1){for(let u of this.possibleRightPairs)if(u.getCount()>1&&yt.checkChecksum(a,u))return yt.constructResult(a,u)}throw new Y}static addOrTally(e,n){if(n==null)return;let r=!1;for(let s of e)if(s.getValue()===n.getValue()){s.incrementCount(),r=!0;break}r||e.push(n)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,n){let r=4537077*e.getValue()+n.getValue(),s=new String(r).toString(),o=new We;for(let p=13-s.length;p>0;p--)o.append("0");o.append(s);let a=0;for(let p=0;p<13;p++){let C=o.charAt(p).charCodeAt(0)-48;a+=p&1?C:3*C}a=10-a%10,a===10&&(a=0),o.append(a.toString());let u=e.getFinderPattern().getResultPoints(),g=n.getFinderPattern().getResultPoints();return new Me(o.toString(),null,0,[u[0],u[1],g[0],g[1]],ce.RSS_14,new Date().getTime())}static checkChecksum(e,n){let r=(e.getChecksumPortion()+16*n.getChecksumPortion())%79,s=9*e.getFinderPattern().getValue()+n.getFinderPattern().getValue();return s>72&&s--,s>8&&s--,r===s}decodePair(e,n,r,s){try{let o=this.findFinderPattern(e,n),a=this.parseFoundFinderPattern(e,r,n,o),u=s==null?null:s.get(De.NEED_RESULT_POINT_CALLBACK);if(u!=null){let C=(o[0]+o[1])/2;n&&(C=e.getSize()-1-C),u.foundPossibleResultPoint(new we(C,r))}let g=this.decodeDataCharacter(e,a,!0),p=this.decodeDataCharacter(e,a,!1);return new ko(1597*g.getValue()+p.getValue(),g.getChecksumPortion()+4*p.getChecksumPortion(),a)}catch{return null}}decodeDataCharacter(e,n,r){let s=this.getDataCharacterCounters();for(let z=0;z<s.length;z++)s[z]=0;if(r)Mt.recordPatternInReverse(e,n.getStartEnd()[0],s);else{Mt.recordPattern(e,n.getStartEnd()[1]+1,s);for(let z=0,W=s.length-1;z<W;z++,W--){let se=s[z];s[z]=s[W],s[W]=se}}let o=r?16:15,a=qe.sum(new Int32Array(s))/o,u=this.getOddCounts(),g=this.getEvenCounts(),p=this.getOddRoundingErrors(),C=this.getEvenRoundingErrors();for(let z=0;z<s.length;z++){let W=s[z]/a,se=Math.floor(W+.5);se<1?se=1:se>8&&(se=8);let oe=Math.floor(z/2);z&1?(g[oe]=se,C[oe]=W-se):(u[oe]=se,p[oe]=W-se)}this.adjustOddEvenCounts(r,o);let I=0,N=0;for(let z=u.length-1;z>=0;z--)N*=9,N+=u[z],I+=u[z];let O=0,L=0;for(let z=g.length-1;z>=0;z--)O*=9,O+=g[z],L+=g[z];let P=N+3*O;if(r){if(I&1||I>12||I<4)throw new Y;let z=(12-I)/2,W=yt.OUTSIDE_ODD_WIDEST[z],se=9-W,oe=wn.getRSSvalue(u,W,!1),te=wn.getRSSvalue(g,se,!0),Qe=yt.OUTSIDE_EVEN_TOTAL_SUBSET[z],He=yt.OUTSIDE_GSUM[z];return new Or(oe*Qe+te+He,P)}else{if(L&1||L>10||L<4)throw new Y;let z=(10-L)/2,W=yt.INSIDE_ODD_WIDEST[z],se=9-W,oe=wn.getRSSvalue(u,W,!0),te=wn.getRSSvalue(g,se,!1),Qe=yt.INSIDE_ODD_TOTAL_SUBSET[z],He=yt.INSIDE_GSUM[z];return new Or(te*Qe+oe+He,P)}}findFinderPattern(e,n){let r=this.getDecodeFinderCounters();r[0]=0,r[1]=0,r[2]=0,r[3]=0;let s=e.getSize(),o=!1,a=0;for(;a<s&&(o=!e.get(a),n!==o);)a++;let u=0,g=a;for(let p=a;p<s;p++)if(e.get(p)!==o)r[u]++;else{if(u===3){if(qt.isFinderPattern(r))return[g,p];g+=r[0]+r[1],r[0]=r[2],r[1]=r[3],r[2]=0,r[3]=0,u--}else u++;r[u]=1,o=!o}throw new Y}parseFoundFinderPattern(e,n,r,s){let o=e.get(s[0]),a=s[0]-1;for(;a>=0&&o!==e.get(a);)a--;a++;const u=s[0]-a,g=this.getDecodeFinderCounters(),p=new Int32Array(g.length);Q.arraycopy(g,0,p,1,g.length-1),p[0]=u;const C=this.parseFinderValue(p,yt.FINDER_PATTERNS);let I=a,N=s[1];return r&&(I=e.getSize()-1-I,N=e.getSize()-1-N),new bi(C,[a,s[1]],I,N,n)}adjustOddEvenCounts(e,n){let r=qe.sum(new Int32Array(this.getOddCounts())),s=qe.sum(new Int32Array(this.getEvenCounts())),o=!1,a=!1,u=!1,g=!1;e?(r>12?a=!0:r<4&&(o=!0),s>12?g=!0:s<4&&(u=!0)):(r>11?a=!0:r<5&&(o=!0),s>10?g=!0:s<4&&(u=!0));let p=r+s-n,C=(r&1)===(e?1:0),I=(s&1)===1;if(p===1)if(C){if(I)throw new Y;a=!0}else{if(!I)throw new Y;g=!0}else if(p===-1)if(C){if(I)throw new Y;o=!0}else{if(!I)throw new Y;u=!0}else if(p===0){if(C){if(!I)throw new Y;r<s?(o=!0,g=!0):(a=!0,u=!0)}else if(I)throw new Y}else throw new Y;if(o){if(a)throw new Y;qt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(a&&qt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(g)throw new Y;qt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}g&&qt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}yt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],yt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],yt.OUTSIDE_GSUM=[0,161,961,2015,2715],yt.INSIDE_GSUM=[0,336,1036,1516],yt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],yt.INSIDE_ODD_WIDEST=[2,4,6,8],yt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class ii extends Mt{constructor(e,n){super(),this.readers=[],this.verbose=n===!0;const r=e?e.get(De.POSSIBLE_FORMATS):null,s=e&&e.get(De.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;r?((r.includes(ce.EAN_13)||r.includes(ce.UPC_A)||r.includes(ce.EAN_8)||r.includes(ce.UPC_E))&&this.readers.push(new us(e)),r.includes(ce.CODE_39)&&this.readers.push(new jt(s)),r.includes(ce.CODE_128)&&this.readers.push(new fe),r.includes(ce.ITF)&&this.readers.push(new ut),r.includes(ce.RSS_14)&&this.readers.push(new yt),r.includes(ce.RSS_EXPANDED)&&this.readers.push(new K(this.verbose))):(this.readers.push(new us(e)),this.readers.push(new jt),this.readers.push(new us(e)),this.readers.push(new fe),this.readers.push(new ut),this.readers.push(new yt),this.readers.push(new K(this.verbose)))}decodeRow(e,n,r){for(let s=0;s<this.readers.length;s++)try{return this.readers[s].decodeRow(e,n,r)}catch{}throw new Y}reset(){this.readers.forEach(e=>e.reset())}}class Bo extends Ge{constructor(e=500,n){super(new ii(n),e,n)}}class rt{constructor(e,n,r){this.ecCodewords=e,this.ecBlocks=[n],r&&this.ecBlocks.push(r)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Xe{constructor(e,n){this.count=e,this.dataCodewords=n}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Je{constructor(e,n,r,s,o,a){this.versionNumber=e,this.symbolSizeRows=n,this.symbolSizeColumns=r,this.dataRegionSizeRows=s,this.dataRegionSizeColumns=o,this.ecBlocks=a;let u=0;const g=a.getECCodewords(),p=a.getECBlocks();for(let C of p)u+=C.getCount()*(C.getDataCodewords()+g);this.totalCodewords=u}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,n){if(e&1||n&1)throw new $;for(let r of Je.VERSIONS)if(r.symbolSizeRows===e&&r.symbolSizeColumns===n)return r;throw new $}toString(){return""+this.versionNumber}static buildVersions(){return[new Je(1,10,10,8,8,new rt(5,new Xe(1,3))),new Je(2,12,12,10,10,new rt(7,new Xe(1,5))),new Je(3,14,14,12,12,new rt(10,new Xe(1,8))),new Je(4,16,16,14,14,new rt(12,new Xe(1,12))),new Je(5,18,18,16,16,new rt(14,new Xe(1,18))),new Je(6,20,20,18,18,new rt(18,new Xe(1,22))),new Je(7,22,22,20,20,new rt(20,new Xe(1,30))),new Je(8,24,24,22,22,new rt(24,new Xe(1,36))),new Je(9,26,26,24,24,new rt(28,new Xe(1,44))),new Je(10,32,32,14,14,new rt(36,new Xe(1,62))),new Je(11,36,36,16,16,new rt(42,new Xe(1,86))),new Je(12,40,40,18,18,new rt(48,new Xe(1,114))),new Je(13,44,44,20,20,new rt(56,new Xe(1,144))),new Je(14,48,48,22,22,new rt(68,new Xe(1,174))),new Je(15,52,52,24,24,new rt(42,new Xe(2,102))),new Je(16,64,64,14,14,new rt(56,new Xe(2,140))),new Je(17,72,72,16,16,new rt(36,new Xe(4,92))),new Je(18,80,80,18,18,new rt(48,new Xe(4,114))),new Je(19,88,88,20,20,new rt(56,new Xe(4,144))),new Je(20,96,96,22,22,new rt(68,new Xe(4,174))),new Je(21,104,104,24,24,new rt(56,new Xe(6,136))),new Je(22,120,120,18,18,new rt(68,new Xe(6,175))),new Je(23,132,132,20,20,new rt(62,new Xe(8,163))),new Je(24,144,144,22,22,new rt(62,new Xe(8,156),new Xe(2,155))),new Je(25,8,18,6,16,new rt(7,new Xe(1,5))),new Je(26,8,32,6,14,new rt(11,new Xe(1,10))),new Je(27,12,26,10,24,new rt(14,new Xe(1,16))),new Je(28,12,36,10,16,new rt(18,new Xe(1,22))),new Je(29,16,36,14,16,new rt(24,new Xe(1,32))),new Je(30,16,48,14,22,new rt(28,new Xe(1,49)))]}}Je.VERSIONS=Je.buildVersions();class vn{constructor(e){const n=e.getHeight();if(n<8||n>144||n&1)throw new $;this.version=vn.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new ft(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const n=e.getHeight(),r=e.getWidth();return Je.getVersionForDimensions(n,r)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let n=0,r=4,s=0;const o=this.mappingBitMatrix.getHeight(),a=this.mappingBitMatrix.getWidth();let u=!1,g=!1,p=!1,C=!1;do if(r===o&&s===0&&!u)e[n++]=this.readCorner1(o,a)&255,r-=2,s+=2,u=!0;else if(r===o-2&&s===0&&a&3&&!g)e[n++]=this.readCorner2(o,a)&255,r-=2,s+=2,g=!0;else if(r===o+4&&s===2&&!(a&7)&&!p)e[n++]=this.readCorner3(o,a)&255,r-=2,s+=2,p=!0;else if(r===o-2&&s===0&&(a&7)===4&&!C)e[n++]=this.readCorner4(o,a)&255,r-=2,s+=2,C=!0;else{do r<o&&s>=0&&!this.readMappingMatrix.get(s,r)&&(e[n++]=this.readUtah(r,s,o,a)&255),r-=2,s+=2;while(r>=0&&s<a);r+=1,s+=3;do r>=0&&s<a&&!this.readMappingMatrix.get(s,r)&&(e[n++]=this.readUtah(r,s,o,a)&255),r+=2,s-=2;while(r<o&&s>=0);r+=3,s+=1}while(r<o||s<a);if(n!==this.version.getTotalCodewords())throw new $;return e}readModule(e,n,r,s){return e<0&&(e+=r,n+=4-(r+4&7)),n<0&&(n+=s,e+=4-(s+4&7)),this.readMappingMatrix.set(n,e),this.mappingBitMatrix.get(n,e)}readUtah(e,n,r,s){let o=0;return this.readModule(e-2,n-2,r,s)&&(o|=1),o<<=1,this.readModule(e-2,n-1,r,s)&&(o|=1),o<<=1,this.readModule(e-1,n-2,r,s)&&(o|=1),o<<=1,this.readModule(e-1,n-1,r,s)&&(o|=1),o<<=1,this.readModule(e-1,n,r,s)&&(o|=1),o<<=1,this.readModule(e,n-2,r,s)&&(o|=1),o<<=1,this.readModule(e,n-1,r,s)&&(o|=1),o<<=1,this.readModule(e,n,r,s)&&(o|=1),o}readCorner1(e,n){let r=0;return this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,1,e,n)&&(r|=1),r<<=1,this.readModule(e-1,2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(2,n-1,e,n)&&(r|=1),r<<=1,this.readModule(3,n-1,e,n)&&(r|=1),r}readCorner2(e,n){let r=0;return this.readModule(e-3,0,e,n)&&(r|=1),r<<=1,this.readModule(e-2,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(0,n-4,e,n)&&(r|=1),r<<=1,this.readModule(0,n-3,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r}readCorner3(e,n){let r=0;return this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(0,n-3,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-3,e,n)&&(r|=1),r<<=1,this.readModule(1,n-2,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r}readCorner4(e,n){let r=0;return this.readModule(e-3,0,e,n)&&(r|=1),r<<=1,this.readModule(e-2,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(2,n-1,e,n)&&(r|=1),r<<=1,this.readModule(3,n-1,e,n)&&(r|=1),r}extractDataRegion(e){const n=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(e.getHeight()!==n)throw new b("Dimension of bitMatrix must match the version size");const s=this.version.getDataRegionSizeRows(),o=this.version.getDataRegionSizeColumns(),a=n/s|0,u=r/o|0,g=a*s,p=u*o,C=new ft(p,g);for(let I=0;I<a;++I){const N=I*s;for(let O=0;O<u;++O){const L=O*o;for(let P=0;P<s;++P){const z=I*(s+2)+1+P,W=N+P;for(let se=0;se<o;++se){const oe=O*(o+2)+1+se;if(e.get(oe,z)){const te=L+se;C.set(te,W)}}}}}return C}}class Gs{constructor(e,n){this.numDataCodewords=e,this.codewords=n}static getDataBlocks(e,n){const r=n.getECBlocks();let s=0;const o=r.getECBlocks();for(let P of o)s+=P.getCount();const a=new Array(s);let u=0;for(let P of o)for(let z=0;z<P.getCount();z++){const W=P.getDataCodewords(),se=r.getECCodewords()+W;a[u++]=new Gs(W,new Uint8Array(se))}const p=a[0].codewords.length-r.getECCodewords(),C=p-1;let I=0;for(let P=0;P<C;P++)for(let z=0;z<u;z++)a[z].codewords[P]=e[I++];const N=n.getVersionNumber()===24,O=N?8:u;for(let P=0;P<O;P++)a[P].codewords[p-1]=e[I++];const L=a[0].codewords.length;for(let P=p;P<L;P++)for(let z=0;z<u;z++){const W=N?(z+8)%u:z,se=N&&W>7?P-1:P;a[W].codewords[se]=e[I++]}if(I!==e.length)throw new b;return a}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Xs{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new b(""+e);let n=0,r=this.bitOffset,s=this.byteOffset;const o=this.bytes;if(r>0){const a=8-r,u=e<a?e:a,g=a-u,p=255>>8-u<<g;n=(o[s]&p)>>g,e-=u,r+=u,r===8&&(r=0,s++)}if(e>0){for(;e>=8;)n=n<<8|o[s]&255,s++,e-=8;if(e>0){const a=8-e,u=255>>a<<a;n=n<<e|(o[s]&u)>>a,r+=e}}return this.bitOffset=r,this.byteOffset=s,n}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Ht;(function(A){A[A.PAD_ENCODE=0]="PAD_ENCODE",A[A.ASCII_ENCODE=1]="ASCII_ENCODE",A[A.C40_ENCODE=2]="C40_ENCODE",A[A.TEXT_ENCODE=3]="TEXT_ENCODE",A[A.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",A[A.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",A[A.BASE256_ENCODE=6]="BASE256_ENCODE"})(Ht||(Ht={}));class Gn{static decode(e){const n=new Xs(e),r=new We,s=new We,o=new Array;let a=Ht.ASCII_ENCODE;do if(a===Ht.ASCII_ENCODE)a=this.decodeAsciiSegment(n,r,s);else{switch(a){case Ht.C40_ENCODE:this.decodeC40Segment(n,r);break;case Ht.TEXT_ENCODE:this.decodeTextSegment(n,r);break;case Ht.ANSIX12_ENCODE:this.decodeAnsiX12Segment(n,r);break;case Ht.EDIFACT_ENCODE:this.decodeEdifactSegment(n,r);break;case Ht.BASE256_ENCODE:this.decodeBase256Segment(n,r,o);break;default:throw new $}a=Ht.ASCII_ENCODE}while(a!==Ht.PAD_ENCODE&&n.available()>0);return s.length()>0&&r.append(s.toString()),new Xt(e,r.toString(),o.length===0?null:o,null)}static decodeAsciiSegment(e,n,r){let s=!1;do{let o=e.readBits(8);if(o===0)throw new $;if(o<=128)return s&&(o+=128),n.append(String.fromCharCode(o-1)),Ht.ASCII_ENCODE;if(o===129)return Ht.PAD_ENCODE;if(o<=229){const a=o-130;a<10&&n.append("0"),n.append(""+a)}else switch(o){case 230:return Ht.C40_ENCODE;case 231:return Ht.BASE256_ENCODE;case 232:n.append("");break;case 233:case 234:break;case 235:s=!0;break;case 236:n.append("[)>05"),r.insert(0,"");break;case 237:n.append("[)>06"),r.insert(0,"");break;case 238:return Ht.ANSIX12_ENCODE;case 239:return Ht.TEXT_ENCODE;case 240:return Ht.EDIFACT_ENCODE;case 241:break;default:if(o!==254||e.available()!==0)throw new $;break}}while(e.available()>0);return Ht.ASCII_ENCODE}static decodeC40Segment(e,n){let r=!1;const s=[];let o=0;do{if(e.available()===8)return;const a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),s);for(let u=0;u<3;u++){const g=s[u];switch(o){case 0:if(g<3)o=g+1;else if(g<this.C40_BASIC_SET_CHARS.length){const p=this.C40_BASIC_SET_CHARS[g];r?(n.append(String.fromCharCode(p.charCodeAt(0)+128)),r=!1):n.append(p)}else throw new $;break;case 1:r?(n.append(String.fromCharCode(g+128)),r=!1):n.append(String.fromCharCode(g)),o=0;break;case 2:if(g<this.C40_SHIFT2_SET_CHARS.length){const p=this.C40_SHIFT2_SET_CHARS[g];r?(n.append(String.fromCharCode(p.charCodeAt(0)+128)),r=!1):n.append(p)}else switch(g){case 27:n.append("");break;case 30:r=!0;break;default:throw new $}o=0;break;case 3:r?(n.append(String.fromCharCode(g+224)),r=!1):n.append(String.fromCharCode(g+96)),o=0;break;default:throw new $}}}while(e.available()>0)}static decodeTextSegment(e,n){let r=!1,s=[],o=0;do{if(e.available()===8)return;const a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),s);for(let u=0;u<3;u++){const g=s[u];switch(o){case 0:if(g<3)o=g+1;else if(g<this.TEXT_BASIC_SET_CHARS.length){const p=this.TEXT_BASIC_SET_CHARS[g];r?(n.append(String.fromCharCode(p.charCodeAt(0)+128)),r=!1):n.append(p)}else throw new $;break;case 1:r?(n.append(String.fromCharCode(g+128)),r=!1):n.append(String.fromCharCode(g)),o=0;break;case 2:if(g<this.TEXT_SHIFT2_SET_CHARS.length){const p=this.TEXT_SHIFT2_SET_CHARS[g];r?(n.append(String.fromCharCode(p.charCodeAt(0)+128)),r=!1):n.append(p)}else switch(g){case 27:n.append("");break;case 30:r=!0;break;default:throw new $}o=0;break;case 3:if(g<this.TEXT_SHIFT3_SET_CHARS.length){const p=this.TEXT_SHIFT3_SET_CHARS[g];r?(n.append(String.fromCharCode(p.charCodeAt(0)+128)),r=!1):n.append(p),o=0}else throw new $;break;default:throw new $}}}while(e.available()>0)}static decodeAnsiX12Segment(e,n){const r=[];do{if(e.available()===8)return;const s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),r);for(let o=0;o<3;o++){const a=r[o];switch(a){case 0:n.append("\r");break;case 1:n.append("*");break;case 2:n.append(">");break;case 3:n.append(" ");break;default:if(a<14)n.append(String.fromCharCode(a+44));else if(a<40)n.append(String.fromCharCode(a+51));else throw new $;break}}}while(e.available()>0)}static parseTwoBytes(e,n,r){let s=(e<<8)+n-1,o=Math.floor(s/1600);r[0]=o,s-=o*1600,o=Math.floor(s/40),r[1]=o,r[2]=s-o*40}static decodeEdifactSegment(e,n){do{if(e.available()<=16)return;for(let r=0;r<4;r++){let s=e.readBits(6);if(s===31){const o=8-e.getBitOffset();o!==8&&e.readBits(o);return}s&32||(s|=64),n.append(String.fromCharCode(s))}}while(e.available()>0)}static decodeBase256Segment(e,n,r){let s=1+e.getByteOffset();const o=this.unrandomize255State(e.readBits(8),s++);let a;if(o===0?a=e.available()/8|0:o<250?a=o:a=250*(o-249)+this.unrandomize255State(e.readBits(8),s++),a<0)throw new $;const u=new Uint8Array(a);for(let g=0;g<a;g++){if(e.available()<8)throw new $;u[g]=this.unrandomize255State(e.readBits(8),s++)}r.push(u);try{n.append(kt.decode(u,Oe.ISO88591))}catch(g){throw new jn("Platform does not support required encoding: "+g.message)}}static unrandomize255State(e,n){const r=149*n%255+1,s=e-r;return s>=0?s:s+256}}Gn.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Gn.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Gn.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Gn.TEXT_SHIFT2_SET_CHARS=Gn.C40_SHIFT2_SET_CHARS,Gn.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class cs{constructor(){this.rsDecoder=new ei(et.DATA_MATRIX_FIELD_256)}decode(e){const n=new vn(e),r=n.getVersion(),s=n.readCodewords(),o=Gs.getDataBlocks(s,r);let a=0;for(let p of o)a+=p.getNumDataCodewords();const u=new Uint8Array(a),g=o.length;for(let p=0;p<g;p++){const C=o[p],I=C.getCodewords(),N=C.getNumDataCodewords();this.correctErrors(I,N);for(let O=0;O<N;O++)u[O*g+p]=I[O]}return Gn.decode(u)}correctErrors(e,n){const r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-n)}catch{throw new ge}for(let s=0;s<n;s++)e[s]=r[s]}}class Et{constructor(e){this.image=e,this.rectangleDetector=new rr(this.image)}detect(){const e=this.rectangleDetector.detect();let n=this.detectSolid1(e);if(n=this.detectSolid2(n),n[3]=this.correctTopRight(n),!n[3])throw new Y;n=this.shiftToModuleCenter(n);const r=n[0],s=n[1],o=n[2],a=n[3];let u=this.transitionsBetween(r,a)+1,g=this.transitionsBetween(o,a)+1;(u&1)===1&&(u+=1),(g&1)===1&&(g+=1),4*u<7*g&&4*g<7*u&&(u=g=Math.max(u,g));let p=Et.sampleGrid(this.image,r,s,o,a,u,g);return new ti(p,[r,s,o,a])}static shiftPoint(e,n,r){let s=(n.getX()-e.getX())/(r+1),o=(n.getY()-e.getY())/(r+1);return new we(e.getX()+s,e.getY()+o)}static moveAway(e,n,r){let s=e.getX(),o=e.getY();return s<n?s-=1:s+=1,o<r?o-=1:o+=1,new we(s,o)}detectSolid1(e){let n=e[0],r=e[1],s=e[3],o=e[2],a=this.transitionsBetween(n,r),u=this.transitionsBetween(r,s),g=this.transitionsBetween(s,o),p=this.transitionsBetween(o,n),C=a,I=[o,n,r,s];return C>u&&(C=u,I[0]=n,I[1]=r,I[2]=s,I[3]=o),C>g&&(C=g,I[0]=r,I[1]=s,I[2]=o,I[3]=n),C>p&&(I[0]=s,I[1]=o,I[2]=n,I[3]=r),I}detectSolid2(e){let n=e[0],r=e[1],s=e[2],o=e[3],a=this.transitionsBetween(n,o),u=Et.shiftPoint(r,s,(a+1)*4),g=Et.shiftPoint(s,r,(a+1)*4),p=this.transitionsBetween(u,n),C=this.transitionsBetween(g,o);return p<C?(e[0]=n,e[1]=r,e[2]=s,e[3]=o):(e[0]=r,e[1]=s,e[2]=o,e[3]=n),e}correctTopRight(e){let n=e[0],r=e[1],s=e[2],o=e[3],a=this.transitionsBetween(n,o),u=this.transitionsBetween(r,o),g=Et.shiftPoint(n,r,(u+1)*4),p=Et.shiftPoint(s,r,(a+1)*4);a=this.transitionsBetween(g,o),u=this.transitionsBetween(p,o);let C=new we(o.getX()+(s.getX()-r.getX())/(a+1),o.getY()+(s.getY()-r.getY())/(a+1)),I=new we(o.getX()+(n.getX()-r.getX())/(u+1),o.getY()+(n.getY()-r.getY())/(u+1));if(!this.isValid(C))return this.isValid(I)?I:null;if(!this.isValid(I))return C;let N=this.transitionsBetween(g,C)+this.transitionsBetween(p,C),O=this.transitionsBetween(g,I)+this.transitionsBetween(p,I);return N>O?C:I}shiftToModuleCenter(e){let n=e[0],r=e[1],s=e[2],o=e[3],a=this.transitionsBetween(n,o)+1,u=this.transitionsBetween(s,o)+1,g=Et.shiftPoint(n,r,u*4),p=Et.shiftPoint(s,r,a*4);a=this.transitionsBetween(g,o)+1,u=this.transitionsBetween(p,o)+1,(a&1)===1&&(a+=1),(u&1)===1&&(u+=1);let C=(n.getX()+r.getX()+s.getX()+o.getX())/4,I=(n.getY()+r.getY()+s.getY()+o.getY())/4;n=Et.moveAway(n,C,I),r=Et.moveAway(r,C,I),s=Et.moveAway(s,C,I),o=Et.moveAway(o,C,I);let N,O;return g=Et.shiftPoint(n,r,u*4),g=Et.shiftPoint(g,o,a*4),N=Et.shiftPoint(r,n,u*4),N=Et.shiftPoint(N,s,a*4),p=Et.shiftPoint(s,o,u*4),p=Et.shiftPoint(p,r,a*4),O=Et.shiftPoint(o,s,u*4),O=Et.shiftPoint(O,n,a*4),[g,N,p,O]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,n,r,s,o,a,u){return Hn.getInstance().sampleGrid(e,a,u,.5,.5,a-.5,.5,a-.5,u-.5,.5,u-.5,n.getX(),n.getY(),o.getX(),o.getY(),s.getX(),s.getY(),r.getX(),r.getY())}transitionsBetween(e,n){let r=Math.trunc(e.getX()),s=Math.trunc(e.getY()),o=Math.trunc(n.getX()),a=Math.trunc(n.getY()),u=Math.abs(a-s)>Math.abs(o-r);if(u){let P=r;r=s,s=P,P=o,o=a,a=P}let g=Math.abs(o-r),p=Math.abs(a-s),C=-g/2,I=s<a?1:-1,N=r<o?1:-1,O=0,L=this.image.get(u?s:r,u?r:s);for(let P=r,z=s;P!==o;P+=N){let W=this.image.get(u?z:P,u?P:z);if(W!==L&&(O++,L=W),C+=p,C>0){if(z===a)break;z+=I,C-=g}}return O}}class Xn{constructor(){this.decoder=new cs}decode(e,n=null){let r,s;if(n!=null&&n.has(De.PURE_BARCODE)){const p=Xn.extractPureBits(e.getBlackMatrix());r=this.decoder.decode(p),s=Xn.NO_POINTS}else{const p=new Et(e.getBlackMatrix()).detect();r=this.decoder.decode(p.getBits()),s=p.getPoints()}const o=r.getRawBytes(),a=new Me(r.getText(),o,8*o.length,s,ce.DATA_MATRIX,Q.currentTimeMillis()),u=r.getByteSegments();u!=null&&a.putMetadata(Pe.BYTE_SEGMENTS,u);const g=r.getECLevel();return g!=null&&a.putMetadata(Pe.ERROR_CORRECTION_LEVEL,g),a}reset(){}static extractPureBits(e){const n=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(n==null||r==null)throw new Y;const s=this.moduleSize(n,e);let o=n[1];const a=r[1];let u=n[0];const p=(r[0]-u+1)/s,C=(a-o+1)/s;if(p<=0||C<=0)throw new Y;const I=s/2;o+=I,u+=I;const N=new ft(p,C);for(let O=0;O<C;O++){const L=o+O*s;for(let P=0;P<p;P++)e.get(u+P*s,L)&&N.set(P,O)}return N}static moduleSize(e,n){const r=n.getWidth();let s=e[0];const o=e[1];for(;s<r&&n.get(s,o);)s++;if(s===r)throw new Y;const a=s-e[0];if(a===0)throw new Y;return a}}Xn.NO_POINTS=[];class el extends Ge{constructor(e=500){super(new Xn,e)}}var si;(function(A){A[A.L=0]="L",A[A.M=1]="M",A[A.Q=2]="Q",A[A.H=3]="H"})(si||(si={}));class gt{constructor(e,n,r){this.value=e,this.stringValue=n,this.bits=r,gt.FOR_BITS.set(r,this),gt.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return gt.L;case"M":return gt.M;case"Q":return gt.Q;case"H":return gt.H;default:throw new D(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof gt))return!1;const n=e;return this.value===n.value}static forBits(e){if(e<0||e>=gt.FOR_BITS.size)throw new b;return gt.FOR_BITS.get(e)}}gt.FOR_BITS=new Map,gt.FOR_VALUE=new Map,gt.L=new gt(si.L,"L",1),gt.M=new gt(si.M,"M",0),gt.Q=new gt(si.Q,"Q",3),gt.H=new gt(si.H,"H",2);class Jt{constructor(e){this.errorCorrectionLevel=gt.forBits(e>>3&3),this.dataMask=e&7}static numBitsDiffering(e,n){return de.bitCount(e^n)}static decodeFormatInformation(e,n){const r=Jt.doDecodeFormatInformation(e,n);return r!==null?r:Jt.doDecodeFormatInformation(e^Jt.FORMAT_INFO_MASK_QR,n^Jt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,n){let r=Number.MAX_SAFE_INTEGER,s=0;for(const o of Jt.FORMAT_INFO_DECODE_LOOKUP){const a=o[0];if(a===e||a===n)return new Jt(o[1]);let u=Jt.numBitsDiffering(e,a);u<r&&(s=o[1],r=u),e!==n&&(u=Jt.numBitsDiffering(n,a),u<r&&(s=o[1],r=u))}return r<=3?new Jt(s):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof Jt))return!1;const n=e;return this.errorCorrectionLevel===n.errorCorrectionLevel&&this.dataMask===n.dataMask}}Jt.FORMAT_INFO_MASK_QR=21522,Jt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class j{constructor(e,...n){this.ecCodewordsPerBlock=e,this.ecBlocks=n}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const n=this.ecBlocks;for(const r of n)e+=r.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class _{constructor(e,n){this.count=e,this.dataCodewords=n}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class _e{constructor(e,n,...r){this.versionNumber=e,this.alignmentPatternCenters=n,this.ecBlocks=r;let s=0;const o=r[0].getECCodewordsPerBlock(),a=r[0].getECBlocks();for(const u of a)s+=u.getCount()*(u.getDataCodewords()+o);this.totalCodewords=s}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new $;try{return this.getVersionForNumber((e-17)/4)}catch{throw new $}}static getVersionForNumber(e){if(e<1||e>40)throw new b;return _e.VERSIONS[e-1]}static decodeVersionInformation(e){let n=Number.MAX_SAFE_INTEGER,r=0;for(let s=0;s<_e.VERSION_DECODE_INFO.length;s++){const o=_e.VERSION_DECODE_INFO[s];if(o===e)return _e.getVersionForNumber(s+7);const a=Jt.numBitsDiffering(e,o);a<n&&(r=s+7,n=a)}return n<=3?_e.getVersionForNumber(r):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),n=new ft(e);n.setRegion(0,0,9,9),n.setRegion(e-8,0,8,9),n.setRegion(0,e-8,9,8);const r=this.alignmentPatternCenters.length;for(let s=0;s<r;s++){const o=this.alignmentPatternCenters[s]-2;for(let a=0;a<r;a++)s===0&&(a===0||a===r-1)||s===r-1&&a===0||n.setRegion(this.alignmentPatternCenters[a]-2,o,5,5)}return n.setRegion(6,9,1,e-17),n.setRegion(9,6,e-17,1),this.versionNumber>6&&(n.setRegion(e-11,0,3,6),n.setRegion(0,e-11,6,3)),n}toString(){return""+this.versionNumber}}_e.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),_e.VERSIONS=[new _e(1,new Int32Array(0),new j(7,new _(1,19)),new j(10,new _(1,16)),new j(13,new _(1,13)),new j(17,new _(1,9))),new _e(2,Int32Array.from([6,18]),new j(10,new _(1,34)),new j(16,new _(1,28)),new j(22,new _(1,22)),new j(28,new _(1,16))),new _e(3,Int32Array.from([6,22]),new j(15,new _(1,55)),new j(26,new _(1,44)),new j(18,new _(2,17)),new j(22,new _(2,13))),new _e(4,Int32Array.from([6,26]),new j(20,new _(1,80)),new j(18,new _(2,32)),new j(26,new _(2,24)),new j(16,new _(4,9))),new _e(5,Int32Array.from([6,30]),new j(26,new _(1,108)),new j(24,new _(2,43)),new j(18,new _(2,15),new _(2,16)),new j(22,new _(2,11),new _(2,12))),new _e(6,Int32Array.from([6,34]),new j(18,new _(2,68)),new j(16,new _(4,27)),new j(24,new _(4,19)),new j(28,new _(4,15))),new _e(7,Int32Array.from([6,22,38]),new j(20,new _(2,78)),new j(18,new _(4,31)),new j(18,new _(2,14),new _(4,15)),new j(26,new _(4,13),new _(1,14))),new _e(8,Int32Array.from([6,24,42]),new j(24,new _(2,97)),new j(22,new _(2,38),new _(2,39)),new j(22,new _(4,18),new _(2,19)),new j(26,new _(4,14),new _(2,15))),new _e(9,Int32Array.from([6,26,46]),new j(30,new _(2,116)),new j(22,new _(3,36),new _(2,37)),new j(20,new _(4,16),new _(4,17)),new j(24,new _(4,12),new _(4,13))),new _e(10,Int32Array.from([6,28,50]),new j(18,new _(2,68),new _(2,69)),new j(26,new _(4,43),new _(1,44)),new j(24,new _(6,19),new _(2,20)),new j(28,new _(6,15),new _(2,16))),new _e(11,Int32Array.from([6,30,54]),new j(20,new _(4,81)),new j(30,new _(1,50),new _(4,51)),new j(28,new _(4,22),new _(4,23)),new j(24,new _(3,12),new _(8,13))),new _e(12,Int32Array.from([6,32,58]),new j(24,new _(2,92),new _(2,93)),new j(22,new _(6,36),new _(2,37)),new j(26,new _(4,20),new _(6,21)),new j(28,new _(7,14),new _(4,15))),new _e(13,Int32Array.from([6,34,62]),new j(26,new _(4,107)),new j(22,new _(8,37),new _(1,38)),new j(24,new _(8,20),new _(4,21)),new j(22,new _(12,11),new _(4,12))),new _e(14,Int32Array.from([6,26,46,66]),new j(30,new _(3,115),new _(1,116)),new j(24,new _(4,40),new _(5,41)),new j(20,new _(11,16),new _(5,17)),new j(24,new _(11,12),new _(5,13))),new _e(15,Int32Array.from([6,26,48,70]),new j(22,new _(5,87),new _(1,88)),new j(24,new _(5,41),new _(5,42)),new j(30,new _(5,24),new _(7,25)),new j(24,new _(11,12),new _(7,13))),new _e(16,Int32Array.from([6,26,50,74]),new j(24,new _(5,98),new _(1,99)),new j(28,new _(7,45),new _(3,46)),new j(24,new _(15,19),new _(2,20)),new j(30,new _(3,15),new _(13,16))),new _e(17,Int32Array.from([6,30,54,78]),new j(28,new _(1,107),new _(5,108)),new j(28,new _(10,46),new _(1,47)),new j(28,new _(1,22),new _(15,23)),new j(28,new _(2,14),new _(17,15))),new _e(18,Int32Array.from([6,30,56,82]),new j(30,new _(5,120),new _(1,121)),new j(26,new _(9,43),new _(4,44)),new j(28,new _(17,22),new _(1,23)),new j(28,new _(2,14),new _(19,15))),new _e(19,Int32Array.from([6,30,58,86]),new j(28,new _(3,113),new _(4,114)),new j(26,new _(3,44),new _(11,45)),new j(26,new _(17,21),new _(4,22)),new j(26,new _(9,13),new _(16,14))),new _e(20,Int32Array.from([6,34,62,90]),new j(28,new _(3,107),new _(5,108)),new j(26,new _(3,41),new _(13,42)),new j(30,new _(15,24),new _(5,25)),new j(28,new _(15,15),new _(10,16))),new _e(21,Int32Array.from([6,28,50,72,94]),new j(28,new _(4,116),new _(4,117)),new j(26,new _(17,42)),new j(28,new _(17,22),new _(6,23)),new j(30,new _(19,16),new _(6,17))),new _e(22,Int32Array.from([6,26,50,74,98]),new j(28,new _(2,111),new _(7,112)),new j(28,new _(17,46)),new j(30,new _(7,24),new _(16,25)),new j(24,new _(34,13))),new _e(23,Int32Array.from([6,30,54,78,102]),new j(30,new _(4,121),new _(5,122)),new j(28,new _(4,47),new _(14,48)),new j(30,new _(11,24),new _(14,25)),new j(30,new _(16,15),new _(14,16))),new _e(24,Int32Array.from([6,28,54,80,106]),new j(30,new _(6,117),new _(4,118)),new j(28,new _(6,45),new _(14,46)),new j(30,new _(11,24),new _(16,25)),new j(30,new _(30,16),new _(2,17))),new _e(25,Int32Array.from([6,32,58,84,110]),new j(26,new _(8,106),new _(4,107)),new j(28,new _(8,47),new _(13,48)),new j(30,new _(7,24),new _(22,25)),new j(30,new _(22,15),new _(13,16))),new _e(26,Int32Array.from([6,30,58,86,114]),new j(28,new _(10,114),new _(2,115)),new j(28,new _(19,46),new _(4,47)),new j(28,new _(28,22),new _(6,23)),new j(30,new _(33,16),new _(4,17))),new _e(27,Int32Array.from([6,34,62,90,118]),new j(30,new _(8,122),new _(4,123)),new j(28,new _(22,45),new _(3,46)),new j(30,new _(8,23),new _(26,24)),new j(30,new _(12,15),new _(28,16))),new _e(28,Int32Array.from([6,26,50,74,98,122]),new j(30,new _(3,117),new _(10,118)),new j(28,new _(3,45),new _(23,46)),new j(30,new _(4,24),new _(31,25)),new j(30,new _(11,15),new _(31,16))),new _e(29,Int32Array.from([6,30,54,78,102,126]),new j(30,new _(7,116),new _(7,117)),new j(28,new _(21,45),new _(7,46)),new j(30,new _(1,23),new _(37,24)),new j(30,new _(19,15),new _(26,16))),new _e(30,Int32Array.from([6,26,52,78,104,130]),new j(30,new _(5,115),new _(10,116)),new j(28,new _(19,47),new _(10,48)),new j(30,new _(15,24),new _(25,25)),new j(30,new _(23,15),new _(25,16))),new _e(31,Int32Array.from([6,30,56,82,108,134]),new j(30,new _(13,115),new _(3,116)),new j(28,new _(2,46),new _(29,47)),new j(30,new _(42,24),new _(1,25)),new j(30,new _(23,15),new _(28,16))),new _e(32,Int32Array.from([6,34,60,86,112,138]),new j(30,new _(17,115)),new j(28,new _(10,46),new _(23,47)),new j(30,new _(10,24),new _(35,25)),new j(30,new _(19,15),new _(35,16))),new _e(33,Int32Array.from([6,30,58,86,114,142]),new j(30,new _(17,115),new _(1,116)),new j(28,new _(14,46),new _(21,47)),new j(30,new _(29,24),new _(19,25)),new j(30,new _(11,15),new _(46,16))),new _e(34,Int32Array.from([6,34,62,90,118,146]),new j(30,new _(13,115),new _(6,116)),new j(28,new _(14,46),new _(23,47)),new j(30,new _(44,24),new _(7,25)),new j(30,new _(59,16),new _(1,17))),new _e(35,Int32Array.from([6,30,54,78,102,126,150]),new j(30,new _(12,121),new _(7,122)),new j(28,new _(12,47),new _(26,48)),new j(30,new _(39,24),new _(14,25)),new j(30,new _(22,15),new _(41,16))),new _e(36,Int32Array.from([6,24,50,76,102,128,154]),new j(30,new _(6,121),new _(14,122)),new j(28,new _(6,47),new _(34,48)),new j(30,new _(46,24),new _(10,25)),new j(30,new _(2,15),new _(64,16))),new _e(37,Int32Array.from([6,28,54,80,106,132,158]),new j(30,new _(17,122),new _(4,123)),new j(28,new _(29,46),new _(14,47)),new j(30,new _(49,24),new _(10,25)),new j(30,new _(24,15),new _(46,16))),new _e(38,Int32Array.from([6,32,58,84,110,136,162]),new j(30,new _(4,122),new _(18,123)),new j(28,new _(13,46),new _(32,47)),new j(30,new _(48,24),new _(14,25)),new j(30,new _(42,15),new _(32,16))),new _e(39,Int32Array.from([6,26,54,82,110,138,166]),new j(30,new _(20,117),new _(4,118)),new j(28,new _(40,47),new _(7,48)),new j(30,new _(43,24),new _(22,25)),new j(30,new _(10,15),new _(67,16))),new _e(40,Int32Array.from([6,30,58,86,114,142,170]),new j(30,new _(19,118),new _(6,119)),new j(28,new _(18,47),new _(31,48)),new j(30,new _(34,24),new _(34,25)),new j(30,new _(20,15),new _(61,16)))];var Bt;(function(A){A[A.DATA_MASK_000=0]="DATA_MASK_000",A[A.DATA_MASK_001=1]="DATA_MASK_001",A[A.DATA_MASK_010=2]="DATA_MASK_010",A[A.DATA_MASK_011=3]="DATA_MASK_011",A[A.DATA_MASK_100=4]="DATA_MASK_100",A[A.DATA_MASK_101=5]="DATA_MASK_101",A[A.DATA_MASK_110=6]="DATA_MASK_110",A[A.DATA_MASK_111=7]="DATA_MASK_111"})(Bt||(Bt={}));class Ye{constructor(e,n){this.value=e,this.isMasked=n}unmaskBitMatrix(e,n){for(let r=0;r<n;r++)for(let s=0;s<n;s++)this.isMasked(r,s)&&e.flip(s,r)}}Ye.values=new Map([[Bt.DATA_MASK_000,new Ye(Bt.DATA_MASK_000,(A,e)=>(A+e&1)===0)],[Bt.DATA_MASK_001,new Ye(Bt.DATA_MASK_001,(A,e)=>(A&1)===0)],[Bt.DATA_MASK_010,new Ye(Bt.DATA_MASK_010,(A,e)=>e%3===0)],[Bt.DATA_MASK_011,new Ye(Bt.DATA_MASK_011,(A,e)=>(A+e)%3===0)],[Bt.DATA_MASK_100,new Ye(Bt.DATA_MASK_100,(A,e)=>(Math.floor(A/2)+Math.floor(e/3)&1)===0)],[Bt.DATA_MASK_101,new Ye(Bt.DATA_MASK_101,(A,e)=>A*e%6===0)],[Bt.DATA_MASK_110,new Ye(Bt.DATA_MASK_110,(A,e)=>A*e%6<3)],[Bt.DATA_MASK_111,new Ye(Bt.DATA_MASK_111,(A,e)=>(A+e+A*e%3&1)===0)]]);class Po{constructor(e){const n=e.getHeight();if(n<21||(n&3)!==1)throw new $;this.bitMatrix=e}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let e=0;for(let o=0;o<6;o++)e=this.copyBit(o,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let o=5;o>=0;o--)e=this.copyBit(8,o,e);const n=this.bitMatrix.getHeight();let r=0;const s=n-7;for(let o=n-1;o>=s;o--)r=this.copyBit(8,o,r);for(let o=n-8;o<n;o++)r=this.copyBit(o,8,r);if(this.parsedFormatInfo=Jt.decodeFormatInformation(e,r),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new $}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const e=this.bitMatrix.getHeight(),n=Math.floor((e-17)/4);if(n<=6)return _e.getVersionForNumber(n);let r=0;const s=e-11;for(let a=5;a>=0;a--)for(let u=e-9;u>=s;u--)r=this.copyBit(u,a,r);let o=_e.decodeVersionInformation(r);if(o!==null&&o.getDimensionForVersion()===e)return this.parsedVersion=o,o;r=0;for(let a=5;a>=0;a--)for(let u=e-9;u>=s;u--)r=this.copyBit(a,u,r);if(o=_e.decodeVersionInformation(r),o!==null&&o.getDimensionForVersion()===e)return this.parsedVersion=o,o;throw new $}copyBit(e,n,r){return(this.isMirror?this.bitMatrix.get(n,e):this.bitMatrix.get(e,n))?r<<1|1:r<<1}readCodewords(){const e=this.readFormatInformation(),n=this.readVersion(),r=Ye.values.get(e.getDataMask()),s=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,s);const o=n.buildFunctionPattern();let a=!0;const u=new Uint8Array(n.getTotalCodewords());let g=0,p=0,C=0;for(let I=s-1;I>0;I-=2){I===6&&I--;for(let N=0;N<s;N++){const O=a?s-1-N:N;for(let L=0;L<2;L++)o.get(I-L,O)||(C++,p<<=1,this.bitMatrix.get(I-L,O)&&(p|=1),C===8&&(u[g++]=p,C=0,p=0))}a=!a}if(g!==n.getTotalCodewords())throw new $;return u}remask(){if(this.parsedFormatInfo===null)return;const e=Ye.values[this.parsedFormatInfo.getDataMask()],n=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,n)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let n=0,r=e.getWidth();n<r;n++)for(let s=n+1,o=e.getHeight();s<o;s++)e.get(n,s)!==e.get(s,n)&&(e.flip(s,n),e.flip(n,s))}}class fs{constructor(e,n){this.numDataCodewords=e,this.codewords=n}static getDataBlocks(e,n,r){if(e.length!==n.getTotalCodewords())throw new b;const s=n.getECBlocksForLevel(r);let o=0;const a=s.getECBlocks();for(const L of a)o+=L.getCount();const u=new Array(o);let g=0;for(const L of a)for(let P=0;P<L.getCount();P++){const z=L.getDataCodewords(),W=s.getECCodewordsPerBlock()+z;u[g++]=new fs(z,new Uint8Array(W))}const p=u[0].codewords.length;let C=u.length-1;for(;C>=0&&u[C].codewords.length!==p;)C--;C++;const I=p-s.getECCodewordsPerBlock();let N=0;for(let L=0;L<I;L++)for(let P=0;P<g;P++)u[P].codewords[L]=e[N++];for(let L=C;L<g;L++)u[L].codewords[I]=e[N++];const O=u[0].codewords.length;for(let L=I;L<O;L++)for(let P=0;P<g;P++){const z=P<C?L:L+1;u[P].codewords[z]=e[N++]}return u}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var En;(function(A){A[A.TERMINATOR=0]="TERMINATOR",A[A.NUMERIC=1]="NUMERIC",A[A.ALPHANUMERIC=2]="ALPHANUMERIC",A[A.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",A[A.BYTE=4]="BYTE",A[A.ECI=5]="ECI",A[A.KANJI=6]="KANJI",A[A.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",A[A.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",A[A.HANZI=9]="HANZI"})(En||(En={}));class Re{constructor(e,n,r,s){this.value=e,this.stringValue=n,this.characterCountBitsForVersions=r,this.bits=s,Re.FOR_BITS.set(s,this),Re.FOR_VALUE.set(e,this)}static forBits(e){const n=Re.FOR_BITS.get(e);if(n===void 0)throw new b;return n}getCharacterCountBits(e){const n=e.getVersionNumber();let r;return n<=9?r=0:n<=26?r=1:r=2,this.characterCountBitsForVersions[r]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof Re))return!1;const n=e;return this.value===n.value}toString(){return this.stringValue}}Re.FOR_BITS=new Map,Re.FOR_VALUE=new Map,Re.TERMINATOR=new Re(En.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Re.NUMERIC=new Re(En.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Re.ALPHANUMERIC=new Re(En.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Re.STRUCTURED_APPEND=new Re(En.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Re.BYTE=new Re(En.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Re.ECI=new Re(En.ECI,"ECI",Int32Array.from([0,0,0]),7),Re.KANJI=new Re(En.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Re.FNC1_FIRST_POSITION=new Re(En.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Re.FNC1_SECOND_POSITION=new Re(En.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Re.HANZI=new Re(En.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class St{static decode(e,n,r,s){const o=new Xs(e);let a=new We;const u=new Array;let g=-1,p=-1;try{let C=null,I=!1,N;do{if(o.available()<4)N=Re.TERMINATOR;else{const O=o.readBits(4);N=Re.forBits(O)}switch(N){case Re.TERMINATOR:break;case Re.FNC1_FIRST_POSITION:case Re.FNC1_SECOND_POSITION:I=!0;break;case Re.STRUCTURED_APPEND:if(o.available()<16)throw new $;g=o.readBits(8),p=o.readBits(8);break;case Re.ECI:const O=St.parseECIValue(o);if(C=re.getCharacterSetECIByValue(O),C===null)throw new $;break;case Re.HANZI:const L=o.readBits(4),P=o.readBits(N.getCharacterCountBits(n));L===St.GB2312_SUBSET&&St.decodeHanziSegment(o,a,P);break;default:const z=o.readBits(N.getCharacterCountBits(n));switch(N){case Re.NUMERIC:St.decodeNumericSegment(o,a,z);break;case Re.ALPHANUMERIC:St.decodeAlphanumericSegment(o,a,z,I);break;case Re.BYTE:St.decodeByteSegment(o,a,z,C,u,s);break;case Re.KANJI:St.decodeKanjiSegment(o,a,z);break;default:throw new $}break}}while(N!==Re.TERMINATOR)}catch{throw new $}return new Xt(e,a.toString(),u.length===0?null:u,r===null?null:r.toString(),g,p)}static decodeHanziSegment(e,n,r){if(r*13>e.available())throw new $;const s=new Uint8Array(2*r);let o=0;for(;r>0;){const a=e.readBits(13);let u=a/96<<8&4294967295|a%96;u<959?u+=41377:u+=42657,s[o]=u>>8&255,s[o+1]=u&255,o+=2,r--}try{n.append(kt.decode(s,Oe.GB2312))}catch(a){throw new $(a)}}static decodeKanjiSegment(e,n,r){if(r*13>e.available())throw new $;const s=new Uint8Array(2*r);let o=0;for(;r>0;){const a=e.readBits(13);let u=a/192<<8&4294967295|a%192;u<7936?u+=33088:u+=49472,s[o]=u>>8,s[o+1]=u,o+=2,r--}try{n.append(kt.decode(s,Oe.SHIFT_JIS))}catch(a){throw new $(a)}}static decodeByteSegment(e,n,r,s,o,a){if(8*r>e.available())throw new $;const u=new Uint8Array(r);for(let p=0;p<r;p++)u[p]=e.readBits(8);let g;s===null?g=Oe.guessEncoding(u,a):g=s.getName();try{n.append(kt.decode(u,g))}catch(p){throw new $(p)}o.push(u)}static toAlphaNumericChar(e){if(e>=St.ALPHANUMERIC_CHARS.length)throw new $;return St.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,n,r,s){const o=n.length();for(;r>1;){if(e.available()<11)throw new $;const a=e.readBits(11);n.append(St.toAlphaNumericChar(Math.floor(a/45))),n.append(St.toAlphaNumericChar(a%45)),r-=2}if(r===1){if(e.available()<6)throw new $;n.append(St.toAlphaNumericChar(e.readBits(6)))}if(s)for(let a=o;a<n.length();a++)n.charAt(a)==="%"&&(a<n.length()-1&&n.charAt(a+1)==="%"?n.deleteCharAt(a+1):n.setCharAt(a,""))}static decodeNumericSegment(e,n,r){for(;r>=3;){if(e.available()<10)throw new $;const s=e.readBits(10);if(s>=1e3)throw new $;n.append(St.toAlphaNumericChar(Math.floor(s/100))),n.append(St.toAlphaNumericChar(Math.floor(s/10)%10)),n.append(St.toAlphaNumericChar(s%10)),r-=3}if(r===2){if(e.available()<7)throw new $;const s=e.readBits(7);if(s>=100)throw new $;n.append(St.toAlphaNumericChar(Math.floor(s/10))),n.append(St.toAlphaNumericChar(s%10))}else if(r===1){if(e.available()<4)throw new $;const s=e.readBits(4);if(s>=10)throw new $;n.append(St.toAlphaNumericChar(s))}}static parseECIValue(e){const n=e.readBits(8);if(!(n&128))return n&127;if((n&192)===128){const r=e.readBits(8);return(n&63)<<8&4294967295|r}if((n&224)===192){const r=e.readBits(16);return(n&31)<<16&4294967295|r}throw new $}}St.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",St.GB2312_SUBSET=1;class Ys{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||e===null||e.length<3)return;const n=e[0];e[0]=e[2],e[2]=n}}class Zs{constructor(){this.rsDecoder=new ei(et.QR_CODE_FIELD_256)}decodeBooleanArray(e,n){return this.decodeBitMatrix(ft.parseFromBooleanArray(e),n)}decodeBitMatrix(e,n){const r=new Po(e);let s=null;try{return this.decodeBitMatrixParser(r,n)}catch(o){s=o}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();const o=this.decodeBitMatrixParser(r,n);return o.setOther(new Ys(!0)),o}catch(o){throw s!==null?s:o}}decodeBitMatrixParser(e,n){const r=e.readVersion(),s=e.readFormatInformation().getErrorCorrectionLevel(),o=e.readCodewords(),a=fs.getDataBlocks(o,r,s);let u=0;for(const C of a)u+=C.getNumDataCodewords();const g=new Uint8Array(u);let p=0;for(const C of a){const I=C.getCodewords(),N=C.getNumDataCodewords();this.correctErrors(I,N);for(let O=0;O<N;O++)g[p++]=I[O]}return St.decode(g,r,s,n)}correctErrors(e,n){const r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-n)}catch{throw new ge}for(let s=0;s<n;s++)e[s]=r[s]}}class oi extends we{constructor(e,n,r){super(e,n),this.estimatedModuleSize=r}aboutEquals(e,n,r){if(Math.abs(n-this.getY())<=e&&Math.abs(r-this.getX())<=e){const s=Math.abs(e-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1}combineEstimate(e,n,r){const s=(this.getX()+n)/2,o=(this.getY()+e)/2,a=(this.estimatedModuleSize+r)/2;return new oi(s,o,a)}}class Yn{constructor(e,n,r,s,o,a,u){this.image=e,this.startX=n,this.startY=r,this.width=s,this.height=o,this.moduleSize=a,this.resultPointCallback=u,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,n=this.height,r=this.width,s=e+r,o=this.startY+n/2,a=new Int32Array(3),u=this.image;for(let g=0;g<n;g++){const p=o+(g&1?-Math.floor((g+1)/2):Math.floor((g+1)/2));a[0]=0,a[1]=0,a[2]=0;let C=e;for(;C<s&&!u.get(C,p);)C++;let I=0;for(;C<s;){if(u.get(C,p))if(I===1)a[1]++;else if(I===2){if(this.foundPatternCross(a)){const N=this.handlePossibleCenter(a,p,C);if(N!==null)return N}a[0]=a[2],a[1]=1,a[2]=0,I=1}else a[++I]++;else I===1&&I++,a[I]++;C++}if(this.foundPatternCross(a)){const N=this.handlePossibleCenter(a,p,s);if(N!==null)return N}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Y}static centerFromEnd(e,n){return n-e[2]-e[1]/2}foundPatternCross(e){const n=this.moduleSize,r=n/2;for(let s=0;s<3;s++)if(Math.abs(n-e[s])>=r)return!1;return!0}crossCheckVertical(e,n,r,s){const o=this.image,a=o.getHeight(),u=this.crossCheckStateCount;u[0]=0,u[1]=0,u[2]=0;let g=e;for(;g>=0&&o.get(n,g)&&u[1]<=r;)u[1]++,g--;if(g<0||u[1]>r)return NaN;for(;g>=0&&!o.get(n,g)&&u[0]<=r;)u[0]++,g--;if(u[0]>r)return NaN;for(g=e+1;g<a&&o.get(n,g)&&u[1]<=r;)u[1]++,g++;if(g===a||u[1]>r)return NaN;for(;g<a&&!o.get(n,g)&&u[2]<=r;)u[2]++,g++;if(u[2]>r)return NaN;const p=u[0]+u[1]+u[2];return 5*Math.abs(p-s)>=2*s?NaN:this.foundPatternCross(u)?Yn.centerFromEnd(u,g):NaN}handlePossibleCenter(e,n,r){const s=e[0]+e[1]+e[2],o=Yn.centerFromEnd(e,r),a=this.crossCheckVertical(n,o,2*e[1],s);if(!isNaN(a)){const u=(e[0]+e[1]+e[2])/3;for(const p of this.possibleCenters)if(p.aboutEquals(u,a,o))return p.combineEstimate(a,o,u);const g=new oi(o,a,u);this.possibleCenters.push(g),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(g)}return null}}class or extends we{constructor(e,n,r,s){super(e,n),this.estimatedModuleSize=r,this.count=s,s===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,n,r){if(Math.abs(n-this.getY())<=e&&Math.abs(r-this.getX())<=e){const s=Math.abs(e-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1}combineEstimate(e,n,r){const s=this.count+1,o=(this.count*this.getX()+n)/s,a=(this.count*this.getY()+e)/s,u=(this.count*this.estimatedModuleSize+r)/s;return new or(o,a,u,s)}}class Rr{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Ot{constructor(e,n){this.image=e,this.resultPointCallback=n,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=n}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const n=e!=null&&e.get(De.TRY_HARDER)!==void 0,r=e!=null&&e.get(De.PURE_BARCODE)!==void 0,s=this.image,o=s.getHeight(),a=s.getWidth();let u=Math.floor(3*o/(4*Ot.MAX_MODULES));(u<Ot.MIN_SKIP||n)&&(u=Ot.MIN_SKIP);let g=!1;const p=new Int32Array(5);for(let I=u-1;I<o&&!g;I+=u){p[0]=0,p[1]=0,p[2]=0,p[3]=0,p[4]=0;let N=0;for(let O=0;O<a;O++)if(s.get(O,I))(N&1)===1&&N++,p[N]++;else if(N&1)p[N]++;else if(N===4)if(Ot.foundPatternCross(p)){if(this.handlePossibleCenter(p,I,O,r)===!0)if(u=2,this.hasSkipped===!0)g=this.haveMultiplyConfirmedCenters();else{const P=this.findRowSkip();P>p[2]&&(I+=P-p[2]-u,O=a-1)}else{p[0]=p[2],p[1]=p[3],p[2]=p[4],p[3]=1,p[4]=0,N=3;continue}N=0,p[0]=0,p[1]=0,p[2]=0,p[3]=0,p[4]=0}else p[0]=p[2],p[1]=p[3],p[2]=p[4],p[3]=1,p[4]=0,N=3;else p[++N]++;Ot.foundPatternCross(p)&&this.handlePossibleCenter(p,I,a,r)===!0&&(u=p[0],this.hasSkipped&&(g=this.haveMultiplyConfirmedCenters()))}const C=this.selectBestPatterns();return we.orderBestPatterns(C),new Rr(C)}static centerFromEnd(e,n){return n-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let n=0;for(let o=0;o<5;o++){const a=e[o];if(a===0)return!1;n+=a}if(n<7)return!1;const r=n/7,s=r/2;return Math.abs(r-e[0])<s&&Math.abs(r-e[1])<s&&Math.abs(3*r-e[2])<3*s&&Math.abs(r-e[3])<s&&Math.abs(r-e[4])<s}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,n,r,s){const o=this.getCrossCheckStateCount();let a=0;const u=this.image;for(;e>=a&&n>=a&&u.get(n-a,e-a);)o[2]++,a++;if(e<a||n<a)return!1;for(;e>=a&&n>=a&&!u.get(n-a,e-a)&&o[1]<=r;)o[1]++,a++;if(e<a||n<a||o[1]>r)return!1;for(;e>=a&&n>=a&&u.get(n-a,e-a)&&o[0]<=r;)o[0]++,a++;if(o[0]>r)return!1;const g=u.getHeight(),p=u.getWidth();for(a=1;e+a<g&&n+a<p&&u.get(n+a,e+a);)o[2]++,a++;if(e+a>=g||n+a>=p)return!1;for(;e+a<g&&n+a<p&&!u.get(n+a,e+a)&&o[3]<r;)o[3]++,a++;if(e+a>=g||n+a>=p||o[3]>=r)return!1;for(;e+a<g&&n+a<p&&u.get(n+a,e+a)&&o[4]<r;)o[4]++,a++;if(o[4]>=r)return!1;const C=o[0]+o[1]+o[2]+o[3]+o[4];return Math.abs(C-s)<2*s&&Ot.foundPatternCross(o)}crossCheckVertical(e,n,r,s){const o=this.image,a=o.getHeight(),u=this.getCrossCheckStateCount();let g=e;for(;g>=0&&o.get(n,g);)u[2]++,g--;if(g<0)return NaN;for(;g>=0&&!o.get(n,g)&&u[1]<=r;)u[1]++,g--;if(g<0||u[1]>r)return NaN;for(;g>=0&&o.get(n,g)&&u[0]<=r;)u[0]++,g--;if(u[0]>r)return NaN;for(g=e+1;g<a&&o.get(n,g);)u[2]++,g++;if(g===a)return NaN;for(;g<a&&!o.get(n,g)&&u[3]<r;)u[3]++,g++;if(g===a||u[3]>=r)return NaN;for(;g<a&&o.get(n,g)&&u[4]<r;)u[4]++,g++;if(u[4]>=r)return NaN;const p=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(p-s)>=2*s?NaN:Ot.foundPatternCross(u)?Ot.centerFromEnd(u,g):NaN}crossCheckHorizontal(e,n,r,s){const o=this.image,a=o.getWidth(),u=this.getCrossCheckStateCount();let g=e;for(;g>=0&&o.get(g,n);)u[2]++,g--;if(g<0)return NaN;for(;g>=0&&!o.get(g,n)&&u[1]<=r;)u[1]++,g--;if(g<0||u[1]>r)return NaN;for(;g>=0&&o.get(g,n)&&u[0]<=r;)u[0]++,g--;if(u[0]>r)return NaN;for(g=e+1;g<a&&o.get(g,n);)u[2]++,g++;if(g===a)return NaN;for(;g<a&&!o.get(g,n)&&u[3]<r;)u[3]++,g++;if(g===a||u[3]>=r)return NaN;for(;g<a&&o.get(g,n)&&u[4]<r;)u[4]++,g++;if(u[4]>=r)return NaN;const p=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(p-s)>=s?NaN:Ot.foundPatternCross(u)?Ot.centerFromEnd(u,g):NaN}handlePossibleCenter(e,n,r,s){const o=e[0]+e[1]+e[2]+e[3]+e[4];let a=Ot.centerFromEnd(e,r),u=this.crossCheckVertical(n,Math.floor(a),e[2],o);if(!isNaN(u)&&(a=this.crossCheckHorizontal(Math.floor(a),Math.floor(u),e[2],o),!isNaN(a)&&(!s||this.crossCheckDiagonal(Math.floor(u),Math.floor(a),e[2],o)))){const g=o/7;let p=!1;const C=this.possibleCenters;for(let I=0,N=C.length;I<N;I++){const O=C[I];if(O.aboutEquals(g,u,a)){C[I]=O.combineEstimate(u,a,g),p=!0;break}}if(!p){const I=new or(a,u,g);C.push(I),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(I)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let n=null;for(const r of this.possibleCenters)if(r.getCount()>=Ot.CENTER_QUORUM)if(n==null)n=r;else return this.hasSkipped=!0,Math.floor((Math.abs(n.getX()-r.getX())-Math.abs(n.getY()-r.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let e=0,n=0;const r=this.possibleCenters.length;for(const a of this.possibleCenters)a.getCount()>=Ot.CENTER_QUORUM&&(e++,n+=a.getEstimatedModuleSize());if(e<3)return!1;const s=n/r;let o=0;for(const a of this.possibleCenters)o+=Math.abs(a.getEstimatedModuleSize()-s);return o<=.05*n}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new Y;const n=this.possibleCenters;let r;if(e>3){let s=0,o=0;for(const g of this.possibleCenters){const p=g.getEstimatedModuleSize();s+=p,o+=p*p}r=s/e;let a=Math.sqrt(o/e-r*r);n.sort((g,p)=>{const C=Math.abs(p.getEstimatedModuleSize()-r),I=Math.abs(g.getEstimatedModuleSize()-r);return C<I?-1:C>I?1:0});const u=Math.max(.2*r,a);for(let g=0;g<n.length&&n.length>3;g++){const p=n[g];Math.abs(p.getEstimatedModuleSize()-r)>u&&(n.splice(g,1),g--)}}if(n.length>3){let s=0;for(const o of n)s+=o.getEstimatedModuleSize();r=s/n.length,n.sort((o,a)=>{if(a.getCount()===o.getCount()){const u=Math.abs(a.getEstimatedModuleSize()-r),g=Math.abs(o.getEstimatedModuleSize()-r);return u<g?1:u>g?-1:0}else return a.getCount()-o.getCount()}),n.splice(3)}return[n[0],n[1],n[2]]}}Ot.CENTER_QUORUM=2,Ot.MIN_SKIP=3,Ot.MAX_MODULES=57;class pr{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=e==null?null:e.get(De.NEED_RESULT_POINT_CALLBACK);const r=new Ot(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(r)}processFinderPatternInfo(e){const n=e.getTopLeft(),r=e.getTopRight(),s=e.getBottomLeft(),o=this.calculateModuleSize(n,r,s);if(o<1)throw new Y("No pattern found in proccess finder.");const a=pr.computeDimension(n,r,s,o),u=_e.getProvisionalVersionForDimension(a),g=u.getDimensionForVersion()-7;let p=null;if(u.getAlignmentPatternCenters().length>0){const O=r.getX()-n.getX()+s.getX(),L=r.getY()-n.getY()+s.getY(),P=1-3/g,z=Math.floor(n.getX()+P*(O-n.getX())),W=Math.floor(n.getY()+P*(L-n.getY()));for(let se=4;se<=16;se<<=1)try{p=this.findAlignmentInRegion(o,z,W,se);break}catch(oe){if(!(oe instanceof Y))throw oe}}const C=pr.createTransform(n,r,s,p,a),I=pr.sampleGrid(this.image,C,a);let N;return p===null?N=[s,n,r]:N=[s,n,r,p],new ti(I,N)}static createTransform(e,n,r,s,o){const a=o-3.5;let u,g,p,C;return s!==null?(u=s.getX(),g=s.getY(),p=a-3,C=p):(u=n.getX()-e.getX()+r.getX(),g=n.getY()-e.getY()+r.getY(),p=a,C=a),Rn.quadrilateralToQuadrilateral(3.5,3.5,a,3.5,p,C,3.5,a,e.getX(),e.getY(),n.getX(),n.getY(),u,g,r.getX(),r.getY())}static sampleGrid(e,n,r){return Hn.getInstance().sampleGridWithTransform(e,r,r,n)}static computeDimension(e,n,r,s){const o=qe.round(we.distance(e,n)/s),a=qe.round(we.distance(e,r)/s);let u=Math.floor((o+a)/2)+7;switch(u&3){case 0:u++;break;case 2:u--;break;case 3:throw new Y("Dimensions could be not found.")}return u}calculateModuleSize(e,n,r){return(this.calculateModuleSizeOneWay(e,n)+this.calculateModuleSizeOneWay(e,r))/2}calculateModuleSizeOneWay(e,n){const r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(n.getX()),Math.floor(n.getY())),s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(r)?s/7:isNaN(s)?r/7:(r+s)/14}sizeOfBlackWhiteBlackRunBothWays(e,n,r,s){let o=this.sizeOfBlackWhiteBlackRun(e,n,r,s),a=1,u=e-(r-e);u<0?(a=e/(e-u),u=0):u>=this.image.getWidth()&&(a=(this.image.getWidth()-1-e)/(u-e),u=this.image.getWidth()-1);let g=Math.floor(n-(s-n)*a);return a=1,g<0?(a=n/(n-g),g=0):g>=this.image.getHeight()&&(a=(this.image.getHeight()-1-n)/(g-n),g=this.image.getHeight()-1),u=Math.floor(e+(u-e)*a),o+=this.sizeOfBlackWhiteBlackRun(e,n,u,g),o-1}sizeOfBlackWhiteBlackRun(e,n,r,s){const o=Math.abs(s-n)>Math.abs(r-e);if(o){let O=e;e=n,n=O,O=r,r=s,s=O}const a=Math.abs(r-e),u=Math.abs(s-n);let g=-a/2;const p=e<r?1:-1,C=n<s?1:-1;let I=0;const N=r+p;for(let O=e,L=n;O!==N;O+=p){const P=o?L:O,z=o?O:L;if(I===1===this.image.get(P,z)){if(I===2)return qe.distance(O,L,e,n);I++}if(g+=u,g>0){if(L===s)break;L+=C,g-=a}}return I===2?qe.distance(r+p,s,e,n):NaN}findAlignmentInRegion(e,n,r,s){const o=Math.floor(s*e),a=Math.max(0,n-o),u=Math.min(this.image.getWidth()-1,n+o);if(u-a<e*3)throw new Y("Alignment top exceeds estimated module size.");const g=Math.max(0,r-o),p=Math.min(this.image.getHeight()-1,r+o);if(p-g<e*3)throw new Y("Alignment bottom exceeds estimated module size.");return new Yn(this.image,a,g,u-a,p-g,e,this.resultPointCallback).find()}}class dn{constructor(){this.decoder=new Zs}getDecoder(){return this.decoder}decode(e,n){let r,s;if(n!=null&&n.get(De.PURE_BARCODE)!==void 0){const g=dn.extractPureBits(e.getBlackMatrix());r=this.decoder.decodeBitMatrix(g,n),s=dn.NO_POINTS}else{const g=new pr(e.getBlackMatrix()).detect(n);r=this.decoder.decodeBitMatrix(g.getBits(),n),s=g.getPoints()}r.getOther()instanceof Ys&&r.getOther().applyMirroredCorrection(s);const o=new Me(r.getText(),r.getRawBytes(),void 0,s,ce.QR_CODE,void 0),a=r.getByteSegments();a!==null&&o.putMetadata(Pe.BYTE_SEGMENTS,a);const u=r.getECLevel();return u!==null&&o.putMetadata(Pe.ERROR_CORRECTION_LEVEL,u),r.hasStructuredAppend()&&(o.putMetadata(Pe.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),o.putMetadata(Pe.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),o}reset(){}static extractPureBits(e){const n=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(n===null||r===null)throw new Y;const s=this.moduleSize(n,e);let o=n[1],a=r[1],u=n[0],g=r[0];if(u>=g||o>=a)throw new Y;if(a-o!==g-u&&(g=u+(a-o),g>=e.getWidth()))throw new Y;const p=Math.round((g-u+1)/s),C=Math.round((a-o+1)/s);if(p<=0||C<=0)throw new Y;if(C!==p)throw new Y;const I=Math.floor(s/2);o+=I,u+=I;const N=u+Math.floor((p-1)*s)-g;if(N>0){if(N>I)throw new Y;u-=N}const O=o+Math.floor((C-1)*s)-a;if(O>0){if(O>I)throw new Y;o-=O}const L=new ft(p,C);for(let P=0;P<C;P++){const z=o+Math.floor(P*s);for(let W=0;W<p;W++)e.get(u+Math.floor(W*s),z)&&L.set(W,P)}return L}static moduleSize(e,n){const r=n.getHeight(),s=n.getWidth();let o=e[0],a=e[1],u=!0,g=0;for(;o<s&&a<r;){if(u!==n.get(o,a)){if(++g===5)break;u=!u}o++,a++}if(o===s||a===r)throw new Y;return(o-e[0])/7}}dn.NO_POINTS=new Array;class Be{PDF417Common(){}static getBitCountSum(e){return qe.sum(e)}static toIntArray(e){if(e==null||!e.length)return Be.EMPTY_INT_ARRAY;const n=new Int32Array(e.length);let r=0;for(const s of e)n[r++]=s;return n}static getCodeword(e){const n=Se.binarySearch(Be.SYMBOL_TABLE,e&262143);return n<0?-1:(Be.CODEWORD_TABLE[n]-1)%Be.NUMBER_OF_CODEWORDS}}Be.NUMBER_OF_CODEWORDS=929,Be.MAX_CODEWORDS_IN_BARCODE=Be.NUMBER_OF_CODEWORDS-1,Be.MIN_ROWS_IN_BARCODE=3,Be.MAX_ROWS_IN_BARCODE=90,Be.MODULES_IN_CODEWORD=17,Be.MODULES_IN_STOP_PATTERN=18,Be.BARS_IN_MODULE=8,Be.EMPTY_INT_ARRAY=new Int32Array([]),Be.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Be.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Fo{constructor(e,n){this.bits=e,this.points=n}getBits(){return this.bits}getPoints(){return this.points}}class je{static detectMultiple(e,n,r){let s=e.getBlackMatrix(),o=je.detect(r,s);return o.length||(s=s.clone(),s.rotate180(),o=je.detect(r,s)),new Fo(s,o)}static detect(e,n){const r=new Array;let s=0,o=0,a=!1;for(;s<n.getHeight();){const u=je.findVertices(n,s,o);if(u[0]==null&&u[3]==null){if(!a)break;a=!1,o=0;for(const g of r)g[1]!=null&&(s=Math.trunc(Math.max(s,g[1].getY()))),g[3]!=null&&(s=Math.max(s,Math.trunc(g[3].getY())));s+=je.ROW_STEP;continue}if(a=!0,r.push(u),!e)break;u[2]!=null?(o=Math.trunc(u[2].getX()),s=Math.trunc(u[2].getY())):(o=Math.trunc(u[4].getX()),s=Math.trunc(u[4].getY()))}return r}static findVertices(e,n,r){const s=e.getHeight(),o=e.getWidth(),a=new Array(8);return je.copyToResult(a,je.findRowsWithPattern(e,s,o,n,r,je.START_PATTERN),je.INDEXES_START_PATTERN),a[4]!=null&&(r=Math.trunc(a[4].getX()),n=Math.trunc(a[4].getY())),je.copyToResult(a,je.findRowsWithPattern(e,s,o,n,r,je.STOP_PATTERN),je.INDEXES_STOP_PATTERN),a}static copyToResult(e,n,r){for(let s=0;s<r.length;s++)e[r[s]]=n[s]}static findRowsWithPattern(e,n,r,s,o,a){const u=new Array(4);let g=!1;const p=new Int32Array(a.length);for(;s<n;s+=je.ROW_STEP){let I=je.findGuardPattern(e,o,s,r,!1,a,p);if(I!=null){for(;s>0;){const N=je.findGuardPattern(e,o,--s,r,!1,a,p);if(N!=null)I=N;else{s++;break}}u[0]=new we(I[0],s),u[1]=new we(I[1],s),g=!0;break}}let C=s+1;if(g){let I=0,N=Int32Array.from([Math.trunc(u[0].getX()),Math.trunc(u[1].getX())]);for(;C<n;C++){const O=je.findGuardPattern(e,N[0],C,r,!1,a,p);if(O!=null&&Math.abs(N[0]-O[0])<je.MAX_PATTERN_DRIFT&&Math.abs(N[1]-O[1])<je.MAX_PATTERN_DRIFT)N=O,I=0;else{if(I>je.SKIPPED_ROW_COUNT_MAX)break;I++}}C-=I+1,u[2]=new we(N[0],C),u[3]=new we(N[1],C)}return C-s<je.BARCODE_MIN_HEIGHT&&Se.fill(u,null),u}static findGuardPattern(e,n,r,s,o,a,u){Se.fillWithin(u,0,u.length,0);let g=n,p=0;for(;e.get(g,r)&&g>0&&p++<je.MAX_PIXEL_DRIFT;)g--;let C=g,I=0,N=a.length;for(let O=o;C<s;C++)if(e.get(C,r)!==O)u[I]++;else{if(I===N-1){if(je.patternMatchVariance(u,a,je.MAX_INDIVIDUAL_VARIANCE)<je.MAX_AVG_VARIANCE)return new Int32Array([g,C]);g+=u[0]+u[1],Q.arraycopy(u,2,u,0,I-1),u[I-1]=0,u[I]=0,I--}else I++;u[I]=1,O=!O}return I===N-1&&je.patternMatchVariance(u,a,je.MAX_INDIVIDUAL_VARIANCE)<je.MAX_AVG_VARIANCE?new Int32Array([g,C-1]):null}static patternMatchVariance(e,n,r){let s=e.length,o=0,a=0;for(let p=0;p<s;p++)o+=e[p],a+=n[p];if(o<a)return 1/0;let u=o/a;r*=u;let g=0;for(let p=0;p<s;p++){let C=e[p],I=n[p]*u,N=C>I?C-I:I-C;if(N>r)return 1/0;g+=N}return g/o}}je.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),je.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),je.MAX_AVG_VARIANCE=.42,je.MAX_INDIVIDUAL_VARIANCE=.8,je.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),je.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),je.MAX_PIXEL_DRIFT=3,je.MAX_PATTERN_DRIFT=5,je.SKIPPED_ROW_COUNT_MAX=25,je.ROW_STEP=5,je.BARCODE_MIN_HEIGHT=10;class $t{constructor(e,n){if(n.length===0)throw new b;this.field=e;let r=n.length;if(r>1&&n[0]===0){let s=1;for(;s<r&&n[s]===0;)s++;s===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-s),Q.arraycopy(n,s,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);if(e===1){let s=0;for(let o of this.coefficients)s=this.field.add(s,o);return s}let n=this.coefficients[0],r=this.coefficients.length;for(let s=1;s<r;s++)n=this.field.add(this.field.multiply(e,n),this.coefficients[s]);return n}add(e){if(!this.field.equals(e.field))throw new b("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let n=this.coefficients,r=e.coefficients;if(n.length>r.length){let a=n;n=r,r=a}let s=new Int32Array(r.length),o=r.length-n.length;Q.arraycopy(r,0,s,0,o);for(let a=o;a<r.length;a++)s[a]=this.field.add(n[a-o],r[a]);return new $t(this.field,s)}subtract(e){if(!this.field.equals(e.field))throw new b("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof $t?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new b("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new $t(this.field,new Int32Array([0]));let n=this.coefficients,r=n.length,s=e.coefficients,o=s.length,a=new Int32Array(r+o-1);for(let u=0;u<r;u++){let g=n[u];for(let p=0;p<o;p++)a[u+p]=this.field.add(a[u+p],this.field.multiply(g,s[p]))}return new $t(this.field,a)}negative(){let e=this.coefficients.length,n=new Int32Array(e);for(let r=0;r<e;r++)n[r]=this.field.subtract(0,this.coefficients[r]);return new $t(this.field,n)}multiplyScalar(e){if(e===0)return new $t(this.field,new Int32Array([0]));if(e===1)return this;let n=this.coefficients.length,r=new Int32Array(n);for(let s=0;s<n;s++)r[s]=this.field.multiply(this.coefficients[s],e);return new $t(this.field,r)}multiplyByMonomial(e,n){if(e<0)throw new b;if(n===0)return new $t(this.field,new Int32Array([0]));let r=this.coefficients.length,s=new Int32Array(r+e);for(let o=0;o<r;o++)s[o]=this.field.multiply(this.coefficients[o],n);return new $t(this.field,s)}toString(){let e=new We;for(let n=this.getDegree();n>=0;n--){let r=this.getCoefficient(n);r!==0&&(r<0?(e.append(" - "),r=-r):e.length()>0&&e.append(" + "),(n===0||r!==1)&&e.append(r),n!==0&&(n===1?e.append("x"):(e.append("x^"),e.append(n))))}return e.toString()}}class Uo{add(e,n){return(e+n)%this.modulus}subtract(e,n){return(this.modulus+e-n)%this.modulus}exp(e){return this.expTable[e]}log(e){if(e===0)throw new b;return this.logTable[e]}inverse(e){if(e===0)throw new Mi;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class ai extends Uo{constructor(e,n){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let r=1;for(let s=0;s<e;s++)this.expTable[s]=r,r=r*n%e;for(let s=0;s<e-1;s++)this.logTable[this.expTable[s]]=s;this.zero=new $t(this,new Int32Array([0])),this.one=new $t(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,n){if(e<0)throw new b;if(n===0)return this.zero;let r=new Int32Array(e+1);return r[0]=n,new $t(this,r)}}ai.PDF417_GF=new ai(Be.NUMBER_OF_CODEWORDS,3);class Qs{constructor(){this.field=ai.PDF417_GF}decode(e,n,r){let s=new $t(this.field,e),o=new Int32Array(n),a=!1;for(let L=n;L>0;L--){let P=s.evaluateAt(this.field.exp(L));o[n-L]=P,P!==0&&(a=!0)}if(!a)return 0;let u=this.field.getOne();if(r!=null)for(const L of r){let P=this.field.exp(e.length-1-L),z=new $t(this.field,new Int32Array([this.field.subtract(0,P),1]));u=u.multiply(z)}let g=new $t(this.field,o),p=this.runEuclideanAlgorithm(this.field.buildMonomial(n,1),g,n),C=p[0],I=p[1],N=this.findErrorLocations(C),O=this.findErrorMagnitudes(I,C,N);for(let L=0;L<N.length;L++){let P=e.length-1-this.field.log(N[L]);if(P<0)throw ge.getChecksumInstance();e[P]=this.field.subtract(e[P],O[L])}return N.length}runEuclideanAlgorithm(e,n,r){if(e.getDegree()<n.getDegree()){let N=e;e=n,n=N}let s=e,o=n,a=this.field.getZero(),u=this.field.getOne();for(;o.getDegree()>=Math.round(r/2);){let N=s,O=a;if(s=o,a=u,s.isZero())throw ge.getChecksumInstance();o=N;let L=this.field.getZero(),P=s.getCoefficient(s.getDegree()),z=this.field.inverse(P);for(;o.getDegree()>=s.getDegree()&&!o.isZero();){let W=o.getDegree()-s.getDegree(),se=this.field.multiply(o.getCoefficient(o.getDegree()),z);L=L.add(this.field.buildMonomial(W,se)),o=o.subtract(s.multiplyByMonomial(W,se))}u=L.multiply(a).subtract(O).negative()}let g=u.getCoefficient(0);if(g===0)throw ge.getChecksumInstance();let p=this.field.inverse(g),C=u.multiply(p),I=o.multiply(p);return[C,I]}findErrorLocations(e){let n=e.getDegree(),r=new Int32Array(n),s=0;for(let o=1;o<this.field.getSize()&&s<n;o++)e.evaluateAt(o)===0&&(r[s]=this.field.inverse(o),s++);if(s!==n)throw ge.getChecksumInstance();return r}findErrorMagnitudes(e,n,r){let s=n.getDegree(),o=new Int32Array(s);for(let p=1;p<=s;p++)o[s-p]=this.field.multiply(p,n.getCoefficient(p));let a=new $t(this.field,o),u=r.length,g=new Int32Array(u);for(let p=0;p<u;p++){let C=this.field.inverse(r[p]),I=this.field.subtract(0,e.evaluateAt(C)),N=this.field.inverse(a.evaluateAt(C));g[p]=this.field.multiply(I,N)}return g}}class zr{constructor(e,n,r,s,o){e instanceof zr?this.constructor_2(e):this.constructor_1(e,n,r,s,o)}constructor_1(e,n,r,s,o){const a=n==null||r==null,u=s==null||o==null;if(a&&u)throw new Y;a?(n=new we(0,s.getY()),r=new we(0,o.getY())):u&&(s=new we(e.getWidth()-1,n.getY()),o=new we(e.getWidth()-1,r.getY())),this.image=e,this.topLeft=n,this.bottomLeft=r,this.topRight=s,this.bottomRight=o,this.minX=Math.trunc(Math.min(n.getX(),r.getX())),this.maxX=Math.trunc(Math.max(s.getX(),o.getX())),this.minY=Math.trunc(Math.min(n.getY(),s.getY())),this.maxY=Math.trunc(Math.max(r.getY(),o.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,n){return e==null?n:n==null?e:new zr(e.image,e.topLeft,e.bottomLeft,n.topRight,n.bottomRight)}addMissingRows(e,n,r){let s=this.topLeft,o=this.bottomLeft,a=this.topRight,u=this.bottomRight;if(e>0){let g=r?this.topLeft:this.topRight,p=Math.trunc(g.getY()-e);p<0&&(p=0);let C=new we(g.getX(),p);r?s=C:a=C}if(n>0){let g=r?this.bottomLeft:this.bottomRight,p=Math.trunc(g.getY()+n);p>=this.image.getHeight()&&(p=this.image.getHeight()-1);let C=new we(g.getX(),p);r?o=C:u=C}return new zr(this.image,s,o,a,u)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Bi{constructor(e,n,r,s){this.columnCount=e,this.errorCorrectionLevel=s,this.rowCountUpperPart=n,this.rowCountLowerPart=r,this.rowCount=n+r}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class xr{constructor(){this.buffer=""}static form(e,n){let r=-1;function s(a,u,g,p,C,I){if(a==="%%")return"%";if(n[++r]===void 0)return;a=p?parseInt(p.substr(1)):void 0;let N=C?parseInt(C.substr(1)):void 0,O;switch(I){case"s":O=n[r];break;case"c":O=n[r][0];break;case"f":O=parseFloat(n[r]).toFixed(a);break;case"p":O=parseFloat(n[r]).toPrecision(a);break;case"e":O=parseFloat(n[r]).toExponential(a);break;case"x":O=parseInt(n[r]).toString(N||16);break;case"d":O=parseFloat(parseInt(n[r],N||10).toPrecision(a)).toFixed(0);break}O=typeof O=="object"?JSON.stringify(O):(+O).toString(N);let L=parseInt(g),P=g&&g[0]+""=="0"?"0":" ";for(;O.length<L;)O=u!==void 0?O+P:P+O;return O}let o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,s)}format(e,...n){this.buffer+=xr.form(e,n)}toString(){return this.buffer}}class ar{constructor(e){this.boundingBox=new zr(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let n=this.getCodeword(e);if(n!=null)return n;for(let r=1;r<ar.MAX_NEARBY_DISTANCE;r++){let s=this.imageRowToCodewordIndex(e)-r;if(s>=0&&(n=this.codewords[s],n!=null)||(s=this.imageRowToCodewordIndex(e)+r,s<this.codewords.length&&(n=this.codewords[s],n!=null)))return n}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,n){this.codewords[this.imageRowToCodewordIndex(e)]=n}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new xr;let n=0;for(const r of this.codewords){if(r==null){e.format("%3d:    |   %n",n++);continue}e.format("%3d: %3d|%3d%n",n++,r.getRowNumber(),r.getValue())}return e.toString()}}ar.MAX_NEARBY_DISTANCE=5;class Mr{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let n=this.values.get(e);n==null&&(n=0),n++,this.values.set(e,n)}getValue(){let e=-1,n=new Array;for(const[r,s]of this.values.entries()){const o={getKey:()=>r,getValue:()=>s};o.getValue()>e?(e=o.getValue(),n=[],n.push(o.getKey())):o.getValue()===e&&n.push(o.getKey())}return Be.toIntArray(n)}getConfidence(e){return this.values.get(e)}}class zo extends ar{constructor(e,n){super(e),this._isLeft=n}setRowNumbers(){for(let e of this.getCodewords())e!=null&&e.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,e);let r=this.getBoundingBox(),s=this._isLeft?r.getTopLeft():r.getTopRight(),o=this._isLeft?r.getBottomLeft():r.getBottomRight(),a=this.imageRowToCodewordIndex(Math.trunc(s.getY())),u=this.imageRowToCodewordIndex(Math.trunc(o.getY())),g=-1,p=1,C=0;for(let I=a;I<u;I++){if(n[I]==null)continue;let N=n[I],O=N.getRowNumber()-g;if(O===0)C++;else if(O===1)p=Math.max(p,C),C=1,g=N.getRowNumber();else if(O<0||N.getRowNumber()>=e.getRowCount()||O>I)n[I]=null;else{let L;p>2?L=(p-2)*O:L=O;let P=L>=I;for(let z=1;z<=L&&!P;z++)P=n[I-z]!=null;P?n[I]=null:(g=N.getRowNumber(),C=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(e==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let n=new Int32Array(e.getRowCount());for(let r of this.getCodewords())if(r!=null){let s=r.getRowNumber();if(s>=n.length)continue;n[s]++}return n}adjustIncompleteIndicatorColumnRowNumbers(e){let n=this.getBoundingBox(),r=this._isLeft?n.getTopLeft():n.getTopRight(),s=this._isLeft?n.getBottomLeft():n.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(r.getY())),a=this.imageRowToCodewordIndex(Math.trunc(s.getY())),u=this.getCodewords(),g=-1;for(let p=o;p<a;p++){if(u[p]==null)continue;let C=u[p];C.setRowNumberAsRowIndicatorColumn();let I=C.getRowNumber()-g;I===0||(I===1?g=C.getRowNumber():C.getRowNumber()>=e.getRowCount()?u[p]=null:g=C.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),n=new Mr,r=new Mr,s=new Mr,o=new Mr;for(let u of e){if(u==null)continue;u.setRowNumberAsRowIndicatorColumn();let g=u.getValue()%30,p=u.getRowNumber();switch(this._isLeft||(p+=2),p%3){case 0:r.setValue(g*3+1);break;case 1:o.setValue(g/3),s.setValue(g%3);break;case 2:n.setValue(g+1);break}}if(n.getValue().length===0||r.getValue().length===0||s.getValue().length===0||o.getValue().length===0||n.getValue()[0]<1||r.getValue()[0]+s.getValue()[0]<Be.MIN_ROWS_IN_BARCODE||r.getValue()[0]+s.getValue()[0]>Be.MAX_ROWS_IN_BARCODE)return null;let a=new Bi(n.getValue()[0],r.getValue()[0],s.getValue()[0],o.getValue()[0]);return this.removeIncorrectCodewords(e,a),a}removeIncorrectCodewords(e,n){for(let r=0;r<e.length;r++){let s=e[r];if(e[r]==null)continue;let o=s.getValue()%30,a=s.getRowNumber();if(a>n.getRowCount()){e[r]=null;continue}switch(this._isLeft||(a+=2),a%3){case 0:o*3+1!==n.getRowCountUpperPart()&&(e[r]=null);break;case 1:(Math.trunc(o/3)!==n.getErrorCorrectionLevel()||o%3!==n.getRowCountLowerPart())&&(e[r]=null);break;case 2:o+1!==n.getColumnCount()&&(e[r]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Pi{constructor(e,n){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=n,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e=Be.MAX_CODEWORDS_IN_BARCODE,n;do n=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<n);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(e===0)return 0;for(let n=1;n<this.barcodeColumnCount+1;n++){let r=this.detectionResultColumns[n].getCodewords();for(let s=0;s<r.length;s++)r[s]!=null&&(r[s].hasValidRowNumber()||this.adjustRowNumbers(n,s,r))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let e=this.detectionResultColumns[0].getCodewords(),n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<e.length;r++)if(e[r]!=null&&n[r]!=null&&e[r].getRowNumber()===n[r].getRowNumber())for(let s=1;s<=this.barcodeColumnCount;s++){let o=this.detectionResultColumns[s].getCodewords()[r];o!=null&&(o.setRowNumber(e[r].getRowNumber()),o.hasValidRowNumber()||(this.detectionResultColumns[s].getCodewords()[r]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let e=0,n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<n.length;r++){if(n[r]==null)continue;let s=n[r].getRowNumber(),o=0;for(let a=this.barcodeColumnCount+1;a>0&&o<this.ADJUST_ROW_NUMBER_SKIP;a--){let u=this.detectionResultColumns[a].getCodewords()[r];u!=null&&(o=Pi.adjustRowNumberIfValid(s,o,u),u.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let e=0,n=this.detectionResultColumns[0].getCodewords();for(let r=0;r<n.length;r++){if(n[r]==null)continue;let s=n[r].getRowNumber(),o=0;for(let a=1;a<this.barcodeColumnCount+1&&o<this.ADJUST_ROW_NUMBER_SKIP;a++){let u=this.detectionResultColumns[a].getCodewords()[r];u!=null&&(o=Pi.adjustRowNumberIfValid(s,o,u),u.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,n,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(e)?(r.setRowNumber(e),n=0):++n),n}adjustRowNumbers(e,n,r){if(!this.detectionResultColumns[e-1])return;let s=r[n],o=this.detectionResultColumns[e-1].getCodewords(),a=o;this.detectionResultColumns[e+1]!=null&&(a=this.detectionResultColumns[e+1].getCodewords());let u=new Array(14);u[2]=o[n],u[3]=a[n],n>0&&(u[0]=r[n-1],u[4]=o[n-1],u[5]=a[n-1]),n>1&&(u[8]=r[n-2],u[10]=o[n-2],u[11]=a[n-2]),n<r.length-1&&(u[1]=r[n+1],u[6]=o[n+1],u[7]=a[n+1]),n<r.length-2&&(u[9]=r[n+2],u[12]=o[n+2],u[13]=a[n+2]);for(let g of u)if(Pi.adjustRowNumber(s,g))return}static adjustRowNumber(e,n){return n==null?!1:n.hasValidRowNumber()&&n.getBucket()===e.getBucket()?(e.setRowNumber(n.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,n){this.detectionResultColumns[e]=n}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let n=new xr;for(let r=0;r<e.getCodewords().length;r++){n.format("CW %3d:",r);for(let s=0;s<this.barcodeColumnCount+2;s++){if(this.detectionResultColumns[s]==null){n.format("    |   ");continue}let o=this.detectionResultColumns[s].getCodewords()[r];if(o==null){n.format("    |   ");continue}n.format(" %3d|%3d",o.getRowNumber(),o.getValue())}n.format("%n")}return n.toString()}}class jr{constructor(e,n,r,s){this.rowNumber=jr.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(n),this.bucket=Math.trunc(r),this.value=Math.trunc(s)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==jr.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}jr.BARCODE_ROW_UNKNOWN=-1;class en{static initialize(){for(let e=0;e<Be.SYMBOL_TABLE.length;e++){let n=Be.SYMBOL_TABLE[e],r=n&1;for(let s=0;s<Be.BARS_IN_MODULE;s++){let o=0;for(;(n&1)===r;)o+=1,n>>=1;r=n&1,en.RATIOS_TABLE[e]||(en.RATIOS_TABLE[e]=new Array(Be.BARS_IN_MODULE)),en.RATIOS_TABLE[e][Be.BARS_IN_MODULE-s-1]=Math.fround(o/Be.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let n=en.getDecodedCodewordValue(en.sampleBitCounts(e));return n!==-1?n:en.getClosestDecodedValue(e)}static sampleBitCounts(e){let n=qe.sum(e),r=new Int32Array(Be.BARS_IN_MODULE),s=0,o=0;for(let a=0;a<Be.MODULES_IN_CODEWORD;a++){let u=n/(2*Be.MODULES_IN_CODEWORD)+a*n/Be.MODULES_IN_CODEWORD;o+e[s]<=u&&(o+=e[s],s++),r[s]++}return r}static getDecodedCodewordValue(e){let n=en.getBitValue(e);return Be.getCodeword(n)===-1?-1:n}static getBitValue(e){let n=0;for(let r=0;r<e.length;r++)for(let s=0;s<e[r];s++)n=n<<1|(r%2===0?1:0);return Math.trunc(n)}static getClosestDecodedValue(e){let n=qe.sum(e),r=new Array(Be.BARS_IN_MODULE);if(n>1)for(let a=0;a<r.length;a++)r[a]=Math.fround(e[a]/n);let s=vr.MAX_VALUE,o=-1;this.bSymbolTableReady||en.initialize();for(let a=0;a<en.RATIOS_TABLE.length;a++){let u=0,g=en.RATIOS_TABLE[a];for(let p=0;p<Be.BARS_IN_MODULE;p++){let C=Math.fround(g[p]-r[p]);if(u+=Math.fround(C*C),u>=s)break}u<s&&(s=u,o=Be.SYMBOL_TABLE[a])}return o}}en.bSymbolTableReady=!1,en.RATIOS_TABLE=new Array(Be.SYMBOL_TABLE.length).map(A=>new Array(Be.BARS_IN_MODULE));class ds{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class Ks{static parseLong(e,n=void 0){return parseInt(e,n)}}class mr extends S{}mr.kind="NullPointerException";class qs{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,n,r){if(e==null)throw new mr;if(n<0||n>e.length||r<0||n+r>e.length||n+r<0)throw new q;if(r===0)return;for(let s=0;s<r;s++)this.write(e[n+s])}flush(){}close(){}}class hs extends S{}class jo extends qs{constructor(e=32){if(super(),this.count=0,e<0)throw new b("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let r=this.buf.length<<1;if(r-e<0&&(r=e),r<0){if(e<0)throw new hs;r=de.MAX_VALUE}this.buf=Se.copyOfUint8Array(this.buf,r)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,n,r){if(n<0||n>e.length||r<0||n+r-e.length>0)throw new q;this.ensureCapacity(this.count+r),Q.arraycopy(e,n,this.buf,this.count,r),this.count+=r}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return Se.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?typeof e=="string"?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var st;(function(A){A[A.ALPHA=0]="ALPHA",A[A.LOWER=1]="LOWER",A[A.MIXED=2]="MIXED",A[A.PUNCT=3]="PUNCT",A[A.ALPHA_SHIFT=4]="ALPHA_SHIFT",A[A.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(st||(st={}));function Fi(){if(typeof window<"u")return window.BigInt||null;if(typeof Fa<"u")return Fa.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Ui;function Pt(A){if(typeof Ui>"u"&&(Ui=Fi()),Ui===null)throw new Error("BigInt is not supported!");return Ui(A)}function li(){let A=[];A[0]=Pt(1);let e=Pt(900);A[1]=e;for(let n=2;n<16;n++)A[n]=A[n-1]*e;return A}class G{static decode(e,n){let r=new We(""),s=re.ISO8859_1;r.enableDecoding(s);let o=1,a=e[o++],u=new ds;for(;o<e[0];){switch(a){case G.TEXT_COMPACTION_MODE_LATCH:o=G.textCompaction(e,o,r);break;case G.BYTE_COMPACTION_MODE_LATCH:case G.BYTE_COMPACTION_MODE_LATCH_6:o=G.byteCompaction(a,e,s,o,r);break;case G.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(e[o++]);break;case G.NUMERIC_COMPACTION_MODE_LATCH:o=G.numericCompaction(e,o,r);break;case G.ECI_CHARSET:re.getCharacterSetECIByValue(e[o++]);break;case G.ECI_GENERAL_PURPOSE:o+=2;break;case G.ECI_USER_DEFINED:o++;break;case G.BEGIN_MACRO_PDF417_CONTROL_BLOCK:o=G.decodeMacroBlock(e,o,u);break;case G.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case G.MACRO_PDF417_TERMINATOR:throw new $;default:o--,o=G.textCompaction(e,o,r);break}if(o<e.length)a=e[o++];else throw $.getFormatInstance()}if(r.length()===0)throw $.getFormatInstance();let g=new Xt(null,r.toString(),null,n);return g.setOther(u),g}static decodeMacroBlock(e,n,r){if(n+G.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw $.getFormatInstance();let s=new Int32Array(G.NUMBER_OF_SEQUENCE_CODEWORDS);for(let u=0;u<G.NUMBER_OF_SEQUENCE_CODEWORDS;u++,n++)s[u]=e[n];r.setSegmentIndex(de.parseInt(G.decodeBase900toBase10(s,G.NUMBER_OF_SEQUENCE_CODEWORDS)));let o=new We;n=G.textCompaction(e,n,o),r.setFileId(o.toString());let a=-1;for(e[n]===G.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(a=n+1);n<e[0];)switch(e[n]){case G.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(n++,e[n]){case G.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let u=new We;n=G.textCompaction(e,n+1,u),r.setFileName(u.toString());break;case G.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let g=new We;n=G.textCompaction(e,n+1,g),r.setSender(g.toString());break;case G.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let p=new We;n=G.textCompaction(e,n+1,p),r.setAddressee(p.toString());break;case G.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let C=new We;n=G.numericCompaction(e,n+1,C),r.setSegmentCount(de.parseInt(C.toString()));break;case G.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let I=new We;n=G.numericCompaction(e,n+1,I),r.setTimestamp(Ks.parseLong(I.toString()));break;case G.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let N=new We;n=G.numericCompaction(e,n+1,N),r.setChecksum(de.parseInt(N.toString()));break;case G.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let O=new We;n=G.numericCompaction(e,n+1,O),r.setFileSize(Ks.parseLong(O.toString()));break;default:throw $.getFormatInstance()}break;case G.MACRO_PDF417_TERMINATOR:n++,r.setLastSegment(!0);break;default:throw $.getFormatInstance()}if(a!==-1){let u=n-a;r.isLastSegment()&&u--,r.setOptionalData(Se.copyOfRange(e,a,a+u))}return n}static textCompaction(e,n,r){let s=new Int32Array((e[0]-n)*2),o=new Int32Array((e[0]-n)*2),a=0,u=!1;for(;n<e[0]&&!u;){let g=e[n++];if(g<G.TEXT_COMPACTION_MODE_LATCH)s[a]=g/30,s[a+1]=g%30,a+=2;else switch(g){case G.TEXT_COMPACTION_MODE_LATCH:s[a++]=G.TEXT_COMPACTION_MODE_LATCH;break;case G.BYTE_COMPACTION_MODE_LATCH:case G.BYTE_COMPACTION_MODE_LATCH_6:case G.NUMERIC_COMPACTION_MODE_LATCH:case G.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case G.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case G.MACRO_PDF417_TERMINATOR:n--,u=!0;break;case G.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s[a]=G.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,g=e[n++],o[a]=g,a++;break}}return G.decodeTextCompaction(s,o,a,r),n}static decodeTextCompaction(e,n,r,s){let o=st.ALPHA,a=st.ALPHA,u=0;for(;u<r;){let g=e[u],p="";switch(o){case st.ALPHA:if(g<26)p=String.fromCharCode(65+g);else switch(g){case 26:p=" ";break;case G.LL:o=st.LOWER;break;case G.ML:o=st.MIXED;break;case G.PS:a=o,o=st.PUNCT_SHIFT;break;case G.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(n[u]);break;case G.TEXT_COMPACTION_MODE_LATCH:o=st.ALPHA;break}break;case st.LOWER:if(g<26)p=String.fromCharCode(97+g);else switch(g){case 26:p=" ";break;case G.AS:a=o,o=st.ALPHA_SHIFT;break;case G.ML:o=st.MIXED;break;case G.PS:a=o,o=st.PUNCT_SHIFT;break;case G.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(n[u]);break;case G.TEXT_COMPACTION_MODE_LATCH:o=st.ALPHA;break}break;case st.MIXED:if(g<G.PL)p=G.MIXED_CHARS[g];else switch(g){case G.PL:o=st.PUNCT;break;case 26:p=" ";break;case G.LL:o=st.LOWER;break;case G.AL:o=st.ALPHA;break;case G.PS:a=o,o=st.PUNCT_SHIFT;break;case G.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(n[u]);break;case G.TEXT_COMPACTION_MODE_LATCH:o=st.ALPHA;break}break;case st.PUNCT:if(g<G.PAL)p=G.PUNCT_CHARS[g];else switch(g){case G.PAL:o=st.ALPHA;break;case G.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(n[u]);break;case G.TEXT_COMPACTION_MODE_LATCH:o=st.ALPHA;break}break;case st.ALPHA_SHIFT:if(o=a,g<26)p=String.fromCharCode(65+g);else switch(g){case 26:p=" ";break;case G.TEXT_COMPACTION_MODE_LATCH:o=st.ALPHA;break}break;case st.PUNCT_SHIFT:if(o=a,g<G.PAL)p=G.PUNCT_CHARS[g];else switch(g){case G.PAL:o=st.ALPHA;break;case G.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(n[u]);break;case G.TEXT_COMPACTION_MODE_LATCH:o=st.ALPHA;break}break}p!==""&&s.append(p),u++}}static byteCompaction(e,n,r,s,o){let a=new jo,u=0,g=0,p=!1;switch(e){case G.BYTE_COMPACTION_MODE_LATCH:let C=new Int32Array(6),I=n[s++];for(;s<n[0]&&!p;)switch(C[u++]=I,g=900*g+I,I=n[s++],I){case G.TEXT_COMPACTION_MODE_LATCH:case G.BYTE_COMPACTION_MODE_LATCH:case G.NUMERIC_COMPACTION_MODE_LATCH:case G.BYTE_COMPACTION_MODE_LATCH_6:case G.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case G.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case G.MACRO_PDF417_TERMINATOR:s--,p=!0;break;default:if(u%5===0&&u>0){for(let N=0;N<6;++N)a.write(Number(Pt(g)>>Pt(8*(5-N))));g=0,u=0}break}s===n[0]&&I<G.TEXT_COMPACTION_MODE_LATCH&&(C[u++]=I);for(let N=0;N<u;N++)a.write(C[N]);break;case G.BYTE_COMPACTION_MODE_LATCH_6:for(;s<n[0]&&!p;){let N=n[s++];if(N<G.TEXT_COMPACTION_MODE_LATCH)u++,g=900*g+N;else switch(N){case G.TEXT_COMPACTION_MODE_LATCH:case G.BYTE_COMPACTION_MODE_LATCH:case G.NUMERIC_COMPACTION_MODE_LATCH:case G.BYTE_COMPACTION_MODE_LATCH_6:case G.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case G.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case G.MACRO_PDF417_TERMINATOR:s--,p=!0;break}if(u%5===0&&u>0){for(let O=0;O<6;++O)a.write(Number(Pt(g)>>Pt(8*(5-O))));g=0,u=0}}break}return o.append(kt.decode(a.toByteArray(),r)),s}static numericCompaction(e,n,r){let s=0,o=!1,a=new Int32Array(G.MAX_NUMERIC_CODEWORDS);for(;n<e[0]&&!o;){let u=e[n++];if(n===e[0]&&(o=!0),u<G.TEXT_COMPACTION_MODE_LATCH)a[s]=u,s++;else switch(u){case G.TEXT_COMPACTION_MODE_LATCH:case G.BYTE_COMPACTION_MODE_LATCH:case G.BYTE_COMPACTION_MODE_LATCH_6:case G.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case G.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case G.MACRO_PDF417_TERMINATOR:n--,o=!0;break}(s%G.MAX_NUMERIC_CODEWORDS===0||u===G.NUMERIC_COMPACTION_MODE_LATCH||o)&&s>0&&(r.append(G.decodeBase900toBase10(a,s)),s=0)}return n}static decodeBase900toBase10(e,n){let r=Pt(0);for(let o=0;o<n;o++)r+=G.EXP900[n-o-1]*Pt(e[o]);let s=r.toString();if(s.charAt(0)!=="1")throw new $;return s.substring(1)}}G.TEXT_COMPACTION_MODE_LATCH=900,G.BYTE_COMPACTION_MODE_LATCH=901,G.NUMERIC_COMPACTION_MODE_LATCH=902,G.BYTE_COMPACTION_MODE_LATCH_6=924,G.ECI_USER_DEFINED=925,G.ECI_GENERAL_PURPOSE=926,G.ECI_CHARSET=927,G.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,G.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,G.MACRO_PDF417_TERMINATOR=922,G.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,G.MAX_NUMERIC_CODEWORDS=15,G.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,G.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,G.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,G.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,G.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,G.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,G.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,G.PL=25,G.LL=27,G.AS=27,G.ML=28,G.AL=28,G.PS=29,G.PAL=29,G.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,G.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",G.EXP900=Fi()?li():[],G.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Ve{constructor(){}static decode(e,n,r,s,o,a,u){let g=new zr(e,n,r,s,o),p=null,C=null,I;for(let L=!0;;L=!1){if(n!=null&&(p=Ve.getRowIndicatorColumn(e,g,n,!0,a,u)),s!=null&&(C=Ve.getRowIndicatorColumn(e,g,s,!1,a,u)),I=Ve.merge(p,C),I==null)throw Y.getNotFoundInstance();let P=I.getBoundingBox();if(L&&P!=null&&(P.getMinY()<g.getMinY()||P.getMaxY()>g.getMaxY()))g=P;else break}I.setBoundingBox(g);let N=I.getBarcodeColumnCount()+1;I.setDetectionResultColumn(0,p),I.setDetectionResultColumn(N,C);let O=p!=null;for(let L=1;L<=N;L++){let P=O?L:N-L;if(I.getDetectionResultColumn(P)!==void 0)continue;let z;P===0||P===N?z=new zo(g,P===0):z=new ar(g),I.setDetectionResultColumn(P,z);let W=-1,se=W;for(let oe=g.getMinY();oe<=g.getMaxY();oe++){if(W=Ve.getStartColumn(I,P,oe,O),W<0||W>g.getMaxX()){if(se===-1)continue;W=se}let te=Ve.detectCodeword(e,g.getMinX(),g.getMaxX(),O,W,oe,a,u);te!=null&&(z.setCodeword(oe,te),se=W,a=Math.min(a,te.getWidth()),u=Math.max(u,te.getWidth()))}}return Ve.createDecoderResult(I)}static merge(e,n){if(e==null&&n==null)return null;let r=Ve.getBarcodeMetadata(e,n);if(r==null)return null;let s=zr.merge(Ve.adjustBoundingBox(e),Ve.adjustBoundingBox(n));return new Pi(r,s)}static adjustBoundingBox(e){if(e==null)return null;let n=e.getRowHeights();if(n==null)return null;let r=Ve.getMax(n),s=0;for(let u of n)if(s+=r-u,u>0)break;let o=e.getCodewords();for(let u=0;s>0&&o[u]==null;u++)s--;let a=0;for(let u=n.length-1;u>=0&&(a+=r-n[u],!(n[u]>0));u--);for(let u=o.length-1;a>0&&o[u]==null;u--)a--;return e.getBoundingBox().addMissingRows(s,a,e.isLeft())}static getMax(e){let n=-1;for(let r of e)n=Math.max(n,r);return n}static getBarcodeMetadata(e,n){let r;if(e==null||(r=e.getBarcodeMetadata())==null)return n==null?null:n.getBarcodeMetadata();let s;return n==null||(s=n.getBarcodeMetadata())==null?r:r.getColumnCount()!==s.getColumnCount()&&r.getErrorCorrectionLevel()!==s.getErrorCorrectionLevel()&&r.getRowCount()!==s.getRowCount()?null:r}static getRowIndicatorColumn(e,n,r,s,o,a){let u=new zo(n,s);for(let g=0;g<2;g++){let p=g===0?1:-1,C=Math.trunc(Math.trunc(r.getX()));for(let I=Math.trunc(Math.trunc(r.getY()));I<=n.getMaxY()&&I>=n.getMinY();I+=p){let N=Ve.detectCodeword(e,0,e.getWidth(),s,C,I,o,a);N!=null&&(u.setCodeword(I,N),s?C=N.getStartX():C=N.getEndX())}}return u}static adjustCodewordCount(e,n){let r=n[0][1],s=r.getValue(),o=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-Ve.getNumberOfECCodeWords(e.getBarcodeECLevel());if(s.length===0){if(o<1||o>Be.MAX_CODEWORDS_IN_BARCODE)throw Y.getNotFoundInstance();r.setValue(o)}else s[0]!==o&&r.setValue(o)}static createDecoderResult(e){let n=Ve.createBarcodeMatrix(e);Ve.adjustCodewordCount(e,n);let r=new Array,s=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),o=[],a=new Array;for(let g=0;g<e.getBarcodeRowCount();g++)for(let p=0;p<e.getBarcodeColumnCount();p++){let C=n[g][p+1].getValue(),I=g*e.getBarcodeColumnCount()+p;C.length===0?r.push(I):C.length===1?s[I]=C[0]:(a.push(I),o.push(C))}let u=new Array(o.length);for(let g=0;g<u.length;g++)u[g]=o[g];return Ve.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),s,Be.toIntArray(r),Be.toIntArray(a),u)}static createDecoderResultFromAmbiguousValues(e,n,r,s,o){let a=new Int32Array(s.length),u=100;for(;u-- >0;){for(let g=0;g<a.length;g++)n[s[g]]=o[g][a[g]];try{return Ve.decodeCodewords(n,e,r)}catch(g){if(!(g instanceof ge))throw g}if(a.length===0)throw ge.getChecksumInstance();for(let g=0;g<a.length;g++)if(a[g]<o[g].length-1){a[g]++;break}else if(a[g]=0,g===a.length-1)throw ge.getChecksumInstance()}throw ge.getChecksumInstance()}static createBarcodeMatrix(e){let n=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let s=0;s<n.length;s++)for(let o=0;o<n[s].length;o++)n[s][o]=new Mr;let r=0;for(let s of e.getDetectionResultColumns()){if(s!=null){for(let o of s.getCodewords())if(o!=null){let a=o.getRowNumber();if(a>=0){if(a>=n.length)continue;n[a][r].setValue(o.getValue())}}}r++}return n}static isValidBarcodeColumn(e,n){return n>=0&&n<=e.getBarcodeColumnCount()+1}static getStartColumn(e,n,r,s){let o=s?1:-1,a=null;if(Ve.isValidBarcodeColumn(e,n-o)&&(a=e.getDetectionResultColumn(n-o).getCodeword(r)),a!=null)return s?a.getEndX():a.getStartX();if(a=e.getDetectionResultColumn(n).getCodewordNearby(r),a!=null)return s?a.getStartX():a.getEndX();if(Ve.isValidBarcodeColumn(e,n-o)&&(a=e.getDetectionResultColumn(n-o).getCodewordNearby(r)),a!=null)return s?a.getEndX():a.getStartX();let u=0;for(;Ve.isValidBarcodeColumn(e,n-o);){n-=o;for(let g of e.getDetectionResultColumn(n).getCodewords())if(g!=null)return(s?g.getEndX():g.getStartX())+o*u*(g.getEndX()-g.getStartX());u++}return s?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,n,r,s,o,a,u,g){o=Ve.adjustCodewordStartColumn(e,n,r,s,o,a);let p=Ve.getModuleBitCount(e,n,r,s,o,a);if(p==null)return null;let C,I=qe.sum(p);if(s)C=o+I;else{for(let L=0;L<p.length/2;L++){let P=p[L];p[L]=p[p.length-1-L],p[p.length-1-L]=P}C=o,o=C-I}if(!Ve.checkCodewordSkew(I,u,g))return null;let N=en.getDecodedValue(p),O=Be.getCodeword(N);return O===-1?null:new jr(o,C,Ve.getCodewordBucketNumber(N),O)}static getModuleBitCount(e,n,r,s,o,a){let u=o,g=new Int32Array(8),p=0,C=s?1:-1,I=s;for(;(s?u<r:u>=n)&&p<g.length;)e.get(u,a)===I?(g[p]++,u+=C):(p++,I=!I);return p===g.length||u===(s?r:n)&&p===g.length-1?g:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,n,r,s,o,a){let u=o,g=s?-1:1;for(let p=0;p<2;p++){for(;(s?u>=n:u<r)&&s===e.get(u,a);){if(Math.abs(o-u)>Ve.CODEWORD_SKEW_SIZE)return o;u+=g}g=-g,s=!s}return u}static checkCodewordSkew(e,n,r){return n-Ve.CODEWORD_SKEW_SIZE<=e&&e<=r+Ve.CODEWORD_SKEW_SIZE}static decodeCodewords(e,n,r){if(e.length===0)throw $.getFormatInstance();let s=1<<n+1,o=Ve.correctErrors(e,r,s);Ve.verifyCodewordCount(e,s);let a=G.decode(e,""+n);return a.setErrorsCorrected(o),a.setErasures(r.length),a}static correctErrors(e,n,r){if(n!=null&&n.length>r/2+Ve.MAX_ERRORS||r<0||r>Ve.MAX_EC_CODEWORDS)throw ge.getChecksumInstance();return Ve.errorCorrection.decode(e,r,n)}static verifyCodewordCount(e,n){if(e.length<4)throw $.getFormatInstance();let r=e[0];if(r>e.length)throw $.getFormatInstance();if(r===0)if(n<e.length)e[0]=e.length-n;else throw $.getFormatInstance()}static getBitCountForCodeword(e){let n=new Int32Array(8),r=0,s=n.length-1;for(;!((e&1)!==r&&(r=e&1,s--,s<0));)n[s]++,e>>=1;return n}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return Ve.getCodewordBucketNumber(Ve.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let n=new xr;for(let r=0;r<e.length;r++){n.format("Row %2d: ",r);for(let s=0;s<e[r].length;s++){let o=e[r][s];o.getValue().length===0?n.format("        ",null):n.format("%4d(%2d)",o.getValue()[0],o.getConfidence(o.getValue()[0]))}n.format("%n")}return n.toString()}}Ve.CODEWORD_SKEW_SIZE=2,Ve.MAX_ERRORS=3,Ve.MAX_EC_CODEWORDS=512,Ve.errorCorrection=new Qs;class tn{decode(e,n=null){let r=tn.decode(e,n,!1);if(r==null||r.length===0||r[0]==null)throw Y.getNotFoundInstance();return r[0]}decodeMultiple(e,n=null){try{return tn.decode(e,n,!0)}catch(r){throw r instanceof $||r instanceof ge?Y.getNotFoundInstance():r}}static decode(e,n,r){const s=new Array,o=je.detectMultiple(e,n,r);for(const a of o.getPoints()){const u=Ve.decode(o.getBits(),a[4],a[5],a[6],a[7],tn.getMinCodewordWidth(a),tn.getMaxCodewordWidth(a)),g=new Me(u.getText(),u.getRawBytes(),void 0,a,ce.PDF_417);g.putMetadata(Pe.ERROR_CORRECTION_LEVEL,u.getECLevel());const p=u.getOther();p!=null&&g.putMetadata(Pe.PDF417_EXTRA_METADATA,p),s.push(g)}return s.map(a=>a)}static getMaxWidth(e,n){return e==null||n==null?0:Math.trunc(Math.abs(e.getX()-n.getX()))}static getMinWidth(e,n){return e==null||n==null?de.MAX_VALUE:Math.trunc(Math.abs(e.getX()-n.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(tn.getMaxWidth(e[0],e[4]),tn.getMaxWidth(e[6],e[2])*Be.MODULES_IN_CODEWORD/Be.MODULES_IN_STOP_PATTERN),Math.max(tn.getMaxWidth(e[1],e[5]),tn.getMaxWidth(e[7],e[3])*Be.MODULES_IN_CODEWORD/Be.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(tn.getMinWidth(e[0],e[4]),tn.getMinWidth(e[6],e[2])*Be.MODULES_IN_CODEWORD/Be.MODULES_IN_STOP_PATTERN),Math.min(tn.getMinWidth(e[1],e[5]),tn.getMinWidth(e[7],e[3])*Be.MODULES_IN_CODEWORD/Be.MODULES_IN_STOP_PATTERN)))}reset(){}}class ui extends S{}ui.kind="ReaderException";class gs{constructor(e,n){this.verbose=e===!0,n&&this.setHints(n)}decode(e,n){return n&&this.setHints(n),this.decodeInternal(e)}decodeWithState(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const n=!m(e)&&e.get(De.TRY_HARDER)===!0,r=m(e)?null:e.get(De.POSSIBLE_FORMATS),s=new Array;if(!m(r)){const o=r.some(a=>a===ce.UPC_A||a===ce.UPC_E||a===ce.EAN_13||a===ce.EAN_8||a===ce.CODABAR||a===ce.CODE_39||a===ce.CODE_93||a===ce.CODE_128||a===ce.ITF||a===ce.RSS_14||a===ce.RSS_EXPANDED);o&&!n&&s.push(new ii(e,this.verbose)),r.includes(ce.QR_CODE)&&s.push(new dn),r.includes(ce.DATA_MATRIX)&&s.push(new Xn),r.includes(ce.AZTEC)&&s.push(new _r),r.includes(ce.PDF_417)&&s.push(new tn),o&&n&&s.push(new ii(e,this.verbose))}s.length===0&&(n||s.push(new ii(e,this.verbose)),s.push(new dn),s.push(new Xn),s.push(new _r),s.push(new tn),n&&s.push(new ii(e,this.verbose))),this.readers=s}reset(){if(this.readers!==null)for(const e of this.readers)e.reset()}decodeInternal(e){if(this.readers===null)throw new ui("No readers where selected, nothing can be read.");for(const n of this.readers)try{return n.decode(e,this.hints)}catch(r){if(r instanceof ui)continue}throw new Y("No MultiFormat Readers were able to detect the code.")}}class zi extends Ge{constructor(e=null,n=500){const r=new gs;r.setHints(e),super(r,n)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class ps extends Ge{constructor(e=500){super(new tn,e)}}class Ho extends Ge{constructor(e=500){super(new dn,e)}}var Js;(function(A){A[A.ERROR_CORRECTION=0]="ERROR_CORRECTION",A[A.CHARACTER_SET=1]="CHARACTER_SET",A[A.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",A[A.MIN_SIZE=3]="MIN_SIZE",A[A.MAX_SIZE=4]="MAX_SIZE",A[A.MARGIN=5]="MARGIN",A[A.PDF417_COMPACT=6]="PDF417_COMPACT",A[A.PDF417_COMPACTION=7]="PDF417_COMPACTION",A[A.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",A[A.AZTEC_LAYERS=9]="AZTEC_LAYERS",A[A.QR_VERSION=10]="QR_VERSION"})(Js||(Js={}));var Vt=Js;class $s{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new Kt(e,Int32Array.from([1])))}buildGenerator(e){const n=this.cachedGenerators;if(e>=n.length){let r=n[n.length-1];const s=this.field;for(let o=n.length;o<=e;o++){const a=r.multiply(new Kt(s,Int32Array.from([1,s.exp(o-1+s.getGeneratorBase())])));n.push(a),r=a}}return n[e]}encode(e,n){if(n===0)throw new b("No error correction bytes");const r=e.length-n;if(r<=0)throw new b("No data bytes provided");const s=this.buildGenerator(n),o=new Int32Array(r);Q.arraycopy(e,0,o,0,r);let a=new Kt(this.field,o);a=a.multiplyByMonomial(n,1);const g=a.divide(s)[1].getCoefficients(),p=n-g.length;for(let C=0;C<p;C++)e[r+C]=0;Q.arraycopy(g,0,e,r+p,g.length)}}class It{constructor(){}static applyMaskPenaltyRule1(e){return It.applyMaskPenaltyRule1Internal(e,!0)+It.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let n=0;const r=e.getArray(),s=e.getWidth(),o=e.getHeight();for(let a=0;a<o-1;a++){const u=r[a];for(let g=0;g<s-1;g++){const p=u[g];p===u[g+1]&&p===r[a+1][g]&&p===r[a+1][g+1]&&n++}}return It.N2*n}static applyMaskPenaltyRule3(e){let n=0;const r=e.getArray(),s=e.getWidth(),o=e.getHeight();for(let a=0;a<o;a++)for(let u=0;u<s;u++){const g=r[a];u+6<s&&g[u]===1&&g[u+1]===0&&g[u+2]===1&&g[u+3]===1&&g[u+4]===1&&g[u+5]===0&&g[u+6]===1&&(It.isWhiteHorizontal(g,u-4,u)||It.isWhiteHorizontal(g,u+7,u+11))&&n++,a+6<o&&r[a][u]===1&&r[a+1][u]===0&&r[a+2][u]===1&&r[a+3][u]===1&&r[a+4][u]===1&&r[a+5][u]===0&&r[a+6][u]===1&&(It.isWhiteVertical(r,u,a-4,a)||It.isWhiteVertical(r,u,a+7,a+11))&&n++}return n*It.N3}static isWhiteHorizontal(e,n,r){n=Math.max(n,0),r=Math.min(r,e.length);for(let s=n;s<r;s++)if(e[s]===1)return!1;return!0}static isWhiteVertical(e,n,r,s){r=Math.max(r,0),s=Math.min(s,e.length);for(let o=r;o<s;o++)if(e[o][n]===1)return!1;return!0}static applyMaskPenaltyRule4(e){let n=0;const r=e.getArray(),s=e.getWidth(),o=e.getHeight();for(let g=0;g<o;g++){const p=r[g];for(let C=0;C<s;C++)p[C]===1&&n++}const a=e.getHeight()*e.getWidth();return Math.floor(Math.abs(n*2-a)*10/a)*It.N4}static getDataMaskBit(e,n,r){let s,o;switch(e){case 0:s=r+n&1;break;case 1:s=r&1;break;case 2:s=n%3;break;case 3:s=(r+n)%3;break;case 4:s=Math.floor(r/2)+Math.floor(n/3)&1;break;case 5:o=r*n,s=(o&1)+o%3;break;case 6:o=r*n,s=(o&1)+o%3&1;break;case 7:o=r*n,s=o%3+(r+n&1)&1;break;default:throw new b("Invalid mask pattern: "+e)}return s===0}static applyMaskPenaltyRule1Internal(e,n){let r=0;const s=n?e.getHeight():e.getWidth(),o=n?e.getWidth():e.getHeight(),a=e.getArray();for(let u=0;u<s;u++){let g=0,p=-1;for(let C=0;C<o;C++){const I=n?a[u][C]:a[C][u];I===p?g++:(g>=5&&(r+=It.N1+(g-5)),g=1,p=I)}g>=5&&(r+=It.N1+(g-5))}return r}}It.N1=3,It.N2=3,It.N3=40,It.N4=10;class xs{constructor(e,n){this.width=e,this.height=n;const r=new Array(n);for(let s=0;s!==n;s++)r[s]=new Uint8Array(e);this.bytes=r}getHeight(){return this.height}getWidth(){return this.width}get(e,n){return this.bytes[n][e]}getArray(){return this.bytes}setNumber(e,n,r){this.bytes[n][e]=r}setBoolean(e,n,r){this.bytes[n][e]=r?1:0}clear(e){for(const n of this.bytes)Se.fill(n,e)}equals(e){if(!(e instanceof xs))return!1;const n=e;if(this.width!==n.width||this.height!==n.height)return!1;for(let r=0,s=this.height;r<s;++r){const o=this.bytes[r],a=n.bytes[r];for(let u=0,g=this.width;u<g;++u)if(o[u]!==a[u])return!1}return!0}toString(){const e=new We;for(let n=0,r=this.height;n<r;++n){const s=this.bytes[n];for(let o=0,a=this.width;o<a;++o)switch(s[o]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()}}class Hr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new We;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<Hr.NUM_MASK_PATTERNS}}Hr.NUM_MASK_PATTERNS=8;class xt extends S{}xt.kind="WriterException";class be{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,n,r,s,o){be.clearMatrix(o),be.embedBasicPatterns(r,o),be.embedTypeInfo(n,s,o),be.maybeEmbedVersionInfo(r,o),be.embedDataBits(e,s,o)}static embedBasicPatterns(e,n){be.embedPositionDetectionPatternsAndSeparators(n),be.embedDarkDotAtLeftBottomCorner(n),be.maybeEmbedPositionAdjustmentPatterns(e,n),be.embedTimingPatterns(n)}static embedTypeInfo(e,n,r){const s=new Ne;be.makeTypeInfoBits(e,n,s);for(let o=0,a=s.getSize();o<a;++o){const u=s.get(s.getSize()-1-o),g=be.TYPE_INFO_COORDINATES[o],p=g[0],C=g[1];if(r.setBoolean(p,C,u),o<8){const I=r.getWidth()-o-1;r.setBoolean(I,8,u)}else{const N=r.getHeight()-7+(o-8);r.setBoolean(8,N,u)}}}static maybeEmbedVersionInfo(e,n){if(e.getVersionNumber()<7)return;const r=new Ne;be.makeVersionInfoBits(e,r);let s=6*3-1;for(let o=0;o<6;++o)for(let a=0;a<3;++a){const u=r.get(s);s--,n.setBoolean(o,n.getHeight()-11+a,u),n.setBoolean(n.getHeight()-11+a,o,u)}}static embedDataBits(e,n,r){let s=0,o=-1,a=r.getWidth()-1,u=r.getHeight()-1;for(;a>0;){for(a===6&&(a-=1);u>=0&&u<r.getHeight();){for(let g=0;g<2;++g){const p=a-g;if(!be.isEmpty(r.get(p,u)))continue;let C;s<e.getSize()?(C=e.get(s),++s):C=!1,n!==255&&It.getDataMaskBit(n,p,u)&&(C=!C),r.setBoolean(p,u,C)}u+=o}o=-o,u+=o,a-=2}if(s!==e.getSize())throw new xt("Not all bits consumed: "+s+"/"+e.getSize())}static findMSBSet(e){return 32-de.numberOfLeadingZeros(e)}static calculateBCHCode(e,n){if(n===0)throw new b("0 polynomial");const r=be.findMSBSet(n);for(e<<=r-1;be.findMSBSet(e)>=r;)e^=n<<be.findMSBSet(e)-r;return e}static makeTypeInfoBits(e,n,r){if(!Hr.isValidMaskPattern(n))throw new xt("Invalid mask pattern");const s=e.getBits()<<3|n;r.appendBits(s,5);const o=be.calculateBCHCode(s,be.TYPE_INFO_POLY);r.appendBits(o,10);const a=new Ne;if(a.appendBits(be.TYPE_INFO_MASK_PATTERN,15),r.xor(a),r.getSize()!==15)throw new xt("should not happen but we got: "+r.getSize())}static makeVersionInfoBits(e,n){n.appendBits(e.getVersionNumber(),6);const r=be.calculateBCHCode(e.getVersionNumber(),be.VERSION_INFO_POLY);if(n.appendBits(r,12),n.getSize()!==18)throw new xt("should not happen but we got: "+n.getSize())}static isEmpty(e){return e===255}static embedTimingPatterns(e){for(let n=8;n<e.getWidth()-8;++n){const r=(n+1)%2;be.isEmpty(e.get(n,6))&&e.setNumber(n,6,r),be.isEmpty(e.get(6,n))&&e.setNumber(6,n,r)}}static embedDarkDotAtLeftBottomCorner(e){if(e.get(8,e.getHeight()-8)===0)throw new xt;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,n,r){for(let s=0;s<8;++s){if(!be.isEmpty(r.get(e+s,n)))throw new xt;r.setNumber(e+s,n,0)}}static embedVerticalSeparationPattern(e,n,r){for(let s=0;s<7;++s){if(!be.isEmpty(r.get(e,n+s)))throw new xt;r.setNumber(e,n+s,0)}}static embedPositionAdjustmentPattern(e,n,r){for(let s=0;s<5;++s){const o=be.POSITION_ADJUSTMENT_PATTERN[s];for(let a=0;a<5;++a)r.setNumber(e+a,n+s,o[a])}}static embedPositionDetectionPattern(e,n,r){for(let s=0;s<7;++s){const o=be.POSITION_DETECTION_PATTERN[s];for(let a=0;a<7;++a)r.setNumber(e+a,n+s,o[a])}}static embedPositionDetectionPatternsAndSeparators(e){const n=be.POSITION_DETECTION_PATTERN[0].length;be.embedPositionDetectionPattern(0,0,e),be.embedPositionDetectionPattern(e.getWidth()-n,0,e),be.embedPositionDetectionPattern(0,e.getWidth()-n,e);const r=8;be.embedHorizontalSeparationPattern(0,r-1,e),be.embedHorizontalSeparationPattern(e.getWidth()-r,r-1,e),be.embedHorizontalSeparationPattern(0,e.getWidth()-r,e);const s=7;be.embedVerticalSeparationPattern(s,0,e),be.embedVerticalSeparationPattern(e.getHeight()-s-1,0,e),be.embedVerticalSeparationPattern(s,e.getHeight()-s,e)}static maybeEmbedPositionAdjustmentPatterns(e,n){if(e.getVersionNumber()<2)return;const r=e.getVersionNumber()-1,s=be.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r];for(let o=0,a=s.length;o!==a;o++){const u=s[o];if(u>=0)for(let g=0;g!==a;g++){const p=s[g];p>=0&&be.isEmpty(n.get(p,u))&&be.embedPositionAdjustmentPattern(p-2,u-2,n)}}}}be.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),be.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),be.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),be.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),be.VERSION_INFO_POLY=7973,be.TYPE_INFO_POLY=1335,be.TYPE_INFO_MASK_PATTERN=21522;class tl{constructor(e,n){this.dataBytes=e,this.errorCorrectionBytes=n}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class wt{constructor(){}static calculateMaskPenalty(e){return It.applyMaskPenaltyRule1(e)+It.applyMaskPenaltyRule2(e)+It.applyMaskPenaltyRule3(e)+It.applyMaskPenaltyRule4(e)}static encode(e,n,r=null){let s=wt.DEFAULT_BYTE_MODE_ENCODING;const o=r!==null&&r.get(Vt.CHARACTER_SET)!==void 0;o&&(s=r.get(Vt.CHARACTER_SET).toString());const a=this.chooseMode(e,s),u=new Ne;if(a===Re.BYTE&&(o||wt.DEFAULT_BYTE_MODE_ENCODING!==s)){const oe=re.getCharacterSetECIByName(s);oe!==void 0&&this.appendECI(oe,u)}this.appendModeInfo(a,u);const g=new Ne;this.appendBytes(e,a,g,s);let p;if(r!==null&&r.get(Vt.QR_VERSION)!==void 0){const oe=Number.parseInt(r.get(Vt.QR_VERSION).toString(),10);p=_e.getVersionForNumber(oe);const te=this.calculateBitsNeeded(a,u,g,p);if(!this.willFit(te,p,n))throw new xt("Data too big for requested version")}else p=this.recommendVersion(n,a,u,g);const C=new Ne;C.appendBitArray(u);const I=a===Re.BYTE?g.getSizeInBytes():e.length;this.appendLengthInfo(I,p,a,C),C.appendBitArray(g);const N=p.getECBlocksForLevel(n),O=p.getTotalCodewords()-N.getTotalECCodewords();this.terminateBits(O,C);const L=this.interleaveWithECBytes(C,p.getTotalCodewords(),O,N.getNumBlocks()),P=new Hr;P.setECLevel(n),P.setMode(a),P.setVersion(p);const z=p.getDimensionForVersion(),W=new xs(z,z),se=this.chooseMaskPattern(L,n,p,W);return P.setMaskPattern(se),be.buildMatrix(L,n,p,se,W),P.setMatrix(W),P}static recommendVersion(e,n,r,s){const o=this.calculateBitsNeeded(n,r,s,_e.getVersionForNumber(1)),a=this.chooseVersion(o,e),u=this.calculateBitsNeeded(n,r,s,a);return this.chooseVersion(u,e)}static calculateBitsNeeded(e,n,r,s){return n.getSize()+e.getCharacterCountBits(s)+r.getSize()}static getAlphanumericCode(e){return e<wt.ALPHANUMERIC_TABLE.length?wt.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,n=null){if(re.SJIS.getName()===n&&this.isOnlyDoubleByteKanji(e))return Re.KANJI;let r=!1,s=!1;for(let o=0,a=e.length;o<a;++o){const u=e.charAt(o);if(wt.isDigit(u))r=!0;else if(this.getAlphanumericCode(u.charCodeAt(0))!==-1)s=!0;else return Re.BYTE}return s?Re.ALPHANUMERIC:r?Re.NUMERIC:Re.BYTE}static isOnlyDoubleByteKanji(e){let n;try{n=kt.encode(e,re.SJIS)}catch{return!1}const r=n.length;if(r%2!==0)return!1;for(let s=0;s<r;s+=2){const o=n[s]&255;if((o<129||o>159)&&(o<224||o>235))return!1}return!0}static chooseMaskPattern(e,n,r,s){let o=Number.MAX_SAFE_INTEGER,a=-1;for(let u=0;u<Hr.NUM_MASK_PATTERNS;u++){be.buildMatrix(e,n,r,u,s);let g=this.calculateMaskPenalty(s);g<o&&(o=g,a=u)}return a}static chooseVersion(e,n){for(let r=1;r<=40;r++){const s=_e.getVersionForNumber(r);if(wt.willFit(e,s,n))return s}throw new xt("Data too big")}static willFit(e,n,r){const s=n.getTotalCodewords(),a=n.getECBlocksForLevel(r).getTotalECCodewords(),u=s-a,g=(e+7)/8;return u>=g}static terminateBits(e,n){const r=e*8;if(n.getSize()>r)throw new xt("data bits cannot fit in the QR Code"+n.getSize()+" > "+r);for(let a=0;a<4&&n.getSize()<r;++a)n.appendBit(!1);const s=n.getSize()&7;if(s>0)for(let a=s;a<8;a++)n.appendBit(!1);const o=e-n.getSizeInBytes();for(let a=0;a<o;++a)n.appendBits(a&1?17:236,8);if(n.getSize()!==r)throw new xt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,n,r,s,o,a){if(s>=r)throw new xt("Block ID too large");const u=e%r,g=r-u,p=Math.floor(e/r),C=p+1,I=Math.floor(n/r),N=I+1,O=p-I,L=C-N;if(O!==L)throw new xt("EC bytes mismatch");if(r!==g+u)throw new xt("RS blocks mismatch");if(e!==(I+O)*g+(N+L)*u)throw new xt("Total bytes mismatch");s<g?(o[0]=I,a[0]=O):(o[0]=N,a[0]=L)}static interleaveWithECBytes(e,n,r,s){if(e.getSizeInBytes()!==r)throw new xt("Number of bits and data bytes does not match");let o=0,a=0,u=0;const g=new Array;for(let C=0;C<s;++C){const I=new Int32Array(1),N=new Int32Array(1);wt.getNumDataBytesAndNumECBytesForBlockID(n,r,s,C,I,N);const O=I[0],L=new Uint8Array(O);e.toBytes(8*o,L,0,O);const P=wt.generateECBytes(L,N[0]);g.push(new tl(L,P)),a=Math.max(a,O),u=Math.max(u,P.length),o+=I[0]}if(r!==o)throw new xt("Data bytes does not match offset");const p=new Ne;for(let C=0;C<a;++C)for(const I of g){const N=I.getDataBytes();C<N.length&&p.appendBits(N[C],8)}for(let C=0;C<u;++C)for(const I of g){const N=I.getErrorCorrectionBytes();C<N.length&&p.appendBits(N[C],8)}if(n!==p.getSizeInBytes())throw new xt("Interleaving error: "+n+" and "+p.getSizeInBytes()+" differ.");return p}static generateECBytes(e,n){const r=e.length,s=new Int32Array(r+n);for(let a=0;a<r;a++)s[a]=e[a]&255;new $s(et.QR_CODE_FIELD_256).encode(s,n);const o=new Uint8Array(n);for(let a=0;a<n;a++)o[a]=s[r+a];return o}static appendModeInfo(e,n){n.appendBits(e.getBits(),4)}static appendLengthInfo(e,n,r,s){const o=r.getCharacterCountBits(n);if(e>=1<<o)throw new xt(e+" is bigger than "+((1<<o)-1));s.appendBits(e,o)}static appendBytes(e,n,r,s){switch(n){case Re.NUMERIC:wt.appendNumericBytes(e,r);break;case Re.ALPHANUMERIC:wt.appendAlphanumericBytes(e,r);break;case Re.BYTE:wt.append8BitBytes(e,r,s);break;case Re.KANJI:wt.appendKanjiBytes(e,r);break;default:throw new xt("Invalid mode: "+n)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const n=wt.getDigit(e);return n>=0&&n<=9}static appendNumericBytes(e,n){const r=e.length;let s=0;for(;s<r;){const o=wt.getDigit(e.charAt(s));if(s+2<r){const a=wt.getDigit(e.charAt(s+1)),u=wt.getDigit(e.charAt(s+2));n.appendBits(o*100+a*10+u,10),s+=3}else if(s+1<r){const a=wt.getDigit(e.charAt(s+1));n.appendBits(o*10+a,7),s+=2}else n.appendBits(o,4),s++}}static appendAlphanumericBytes(e,n){const r=e.length;let s=0;for(;s<r;){const o=wt.getAlphanumericCode(e.charCodeAt(s));if(o===-1)throw new xt;if(s+1<r){const a=wt.getAlphanumericCode(e.charCodeAt(s+1));if(a===-1)throw new xt;n.appendBits(o*45+a,11),s+=2}else n.appendBits(o,6),s++}}static append8BitBytes(e,n,r){let s;try{s=kt.encode(e,r)}catch(o){throw new xt(o)}for(let o=0,a=s.length;o!==a;o++){const u=s[o];n.appendBits(u,8)}}static appendKanjiBytes(e,n){let r;try{r=kt.encode(e,re.SJIS)}catch(o){throw new xt(o)}const s=r.length;for(let o=0;o<s;o+=2){const a=r[o]&255,u=r[o+1]&255,g=a<<8&4294967295|u;let p=-1;if(g>=33088&&g<=40956?p=g-33088:g>=57408&&g<=60351&&(p=g-49472),p===-1)throw new xt("Invalid byte sequence");const C=(p>>8)*192+(p&255);n.appendBits(C,13)}}static appendECI(e,n){n.appendBits(Re.ECI.getBits(),4),n.appendBits(e.getValue(),8)}}wt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),wt.DEFAULT_BYTE_MODE_ENCODING=re.UTF8.getName();class Vr{write(e,n,r,s=null){if(e.length===0)throw new b("Found empty contents");if(n<0||r<0)throw new b("Requested dimensions are too small: "+n+"x"+r);let o=gt.L,a=Vr.QUIET_ZONE_SIZE;s!==null&&(s.get(Vt.ERROR_CORRECTION)!==void 0&&(o=gt.fromString(s.get(Vt.ERROR_CORRECTION).toString())),s.get(Vt.MARGIN)!==void 0&&(a=Number.parseInt(s.get(Vt.MARGIN).toString(),10)));const u=wt.encode(e,o,s);return this.renderResult(u,n,r,a)}writeToDom(e,n,r,s,o=null){typeof e=="string"&&(e=document.querySelector(e));const a=this.write(n,r,s,o);e&&e.appendChild(a)}renderResult(e,n,r,s){const o=e.getMatrix();if(o===null)throw new jn;const a=o.getWidth(),u=o.getHeight(),g=a+s*2,p=u+s*2,C=Math.max(n,g),I=Math.max(r,p),N=Math.min(Math.floor(C/g),Math.floor(I/p)),O=Math.floor((C-a*N)/2),L=Math.floor((I-u*N)/2),P=this.createSVGElement(C,I);for(let z=0,W=L;z<u;z++,W+=N)for(let se=0,oe=O;se<a;se++,oe+=N)if(o.get(se,z)===1){const te=this.createSvgRectElement(oe,W,N,N);P.appendChild(te)}return P}createSVGElement(e,n){const r=document.createElementNS(Vr.SVG_NS,"svg");return r.setAttributeNS(null,"height",e.toString()),r.setAttributeNS(null,"width",n.toString()),r}createSvgRectElement(e,n,r,s){const o=document.createElementNS(Vr.SVG_NS,"rect");return o.setAttributeNS(null,"x",e.toString()),o.setAttributeNS(null,"y",n.toString()),o.setAttributeNS(null,"height",r.toString()),o.setAttributeNS(null,"width",s.toString()),o.setAttributeNS(null,"fill","#000000"),o}}Vr.QUIET_ZONE_SIZE=4,Vr.SVG_NS="http://www.w3.org/2000/svg";class ci{encode(e,n,r,s,o){if(e.length===0)throw new b("Found empty contents");if(n!==ce.QR_CODE)throw new b("Can only encode QR_CODE, but got "+n);if(r<0||s<0)throw new b(`Requested dimensions are too small: ${r}x${s}`);let a=gt.L,u=ci.QUIET_ZONE_SIZE;o!==null&&(o.get(Vt.ERROR_CORRECTION)!==void 0&&(a=gt.fromString(o.get(Vt.ERROR_CORRECTION).toString())),o.get(Vt.MARGIN)!==void 0&&(u=Number.parseInt(o.get(Vt.MARGIN).toString(),10)));const g=wt.encode(e,a,o);return ci.renderResult(g,r,s,u)}static renderResult(e,n,r,s){const o=e.getMatrix();if(o===null)throw new jn;const a=o.getWidth(),u=o.getHeight(),g=a+s*2,p=u+s*2,C=Math.max(n,g),I=Math.max(r,p),N=Math.min(Math.floor(C/g),Math.floor(I/p)),O=Math.floor((C-a*N)/2),L=Math.floor((I-u*N)/2),P=new ft(C,I);for(let z=0,W=L;z<u;z++,W+=N)for(let se=0,oe=O;se<a;se++,oe+=N)o.get(se,z)===1&&P.setRegion(oe,W,N,N);return P}}ci.QUIET_ZONE_SIZE=4;class nl{encode(e,n,r,s,o){let a;switch(n){case ce.QR_CODE:a=new ci;break;default:throw new b("No encoder available for format "+n)}return a.encode(e,n,r,s,o)}}class lr extends he{constructor(e,n,r,s,o,a,u,g){if(super(a,u),this.yuvData=e,this.dataWidth=n,this.dataHeight=r,this.left=s,this.top=o,s+a>n||o+u>r)throw new b("Crop rectangle does not fit within image data.");g&&this.reverseHorizontal(a,u)}getRow(e,n){if(e<0||e>=this.getHeight())throw new b("Requested row is outside the image: "+e);const r=this.getWidth();(n==null||n.length<r)&&(n=new Uint8ClampedArray(r));const s=(e+this.top)*this.dataWidth+this.left;return Q.arraycopy(this.yuvData,s,n,0,r),n}getMatrix(){const e=this.getWidth(),n=this.getHeight();if(e===this.dataWidth&&n===this.dataHeight)return this.yuvData;const r=e*n,s=new Uint8ClampedArray(r);let o=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return Q.arraycopy(this.yuvData,o,s,0,r),s;for(let a=0;a<n;a++){const u=a*e;Q.arraycopy(this.yuvData,o,s,u,e),o+=this.dataWidth}return s}isCropSupported(){return!0}crop(e,n,r,s){return new lr(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+n,r,s,!1)}renderThumbnail(){const e=this.getWidth()/lr.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/lr.THUMBNAIL_SCALE_FACTOR,r=new Int32Array(e*n),s=this.yuvData;let o=this.top*this.dataWidth+this.left;for(let a=0;a<n;a++){const u=a*e;for(let g=0;g<e;g++){const p=s[o+g*lr.THUMBNAIL_SCALE_FACTOR]&255;r[u+g]=4278190080|p*65793}o+=this.dataWidth*lr.THUMBNAIL_SCALE_FACTOR}return r}getThumbnailWidth(){return this.getWidth()/lr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/lr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,n){const r=this.yuvData;for(let s=0,o=this.top*this.dataWidth+this.left;s<n;s++,o+=this.dataWidth){const a=o+e/2;for(let u=o,g=o+e-1;u<a;u++,g--){const p=r[u];r[u]=r[g],r[g]=p}}}invert(){return new ve(this)}}lr.THUMBNAIL_SCALE_FACTOR=2;class ji extends he{constructor(e,n,r,s,o,a,u){if(super(n,r),this.dataWidth=s,this.dataHeight=o,this.left=a,this.top=u,e.BYTES_PER_ELEMENT===4){const g=n*r,p=new Uint8ClampedArray(g);for(let C=0;C<g;C++){const I=e[C],N=I>>16&255,O=I>>7&510,L=I&255;p[C]=(N+O+L)/4&255}this.luminances=p}else this.luminances=e;if(s===void 0&&(this.dataWidth=n),o===void 0&&(this.dataHeight=r),a===void 0&&(this.left=0),u===void 0&&(this.top=0),this.left+n>this.dataWidth||this.top+r>this.dataHeight)throw new b("Crop rectangle does not fit within image data.")}getRow(e,n){if(e<0||e>=this.getHeight())throw new b("Requested row is outside the image: "+e);const r=this.getWidth();(n==null||n.length<r)&&(n=new Uint8ClampedArray(r));const s=(e+this.top)*this.dataWidth+this.left;return Q.arraycopy(this.luminances,s,n,0,r),n}getMatrix(){const e=this.getWidth(),n=this.getHeight();if(e===this.dataWidth&&n===this.dataHeight)return this.luminances;const r=e*n,s=new Uint8ClampedArray(r);let o=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return Q.arraycopy(this.luminances,o,s,0,r),s;for(let a=0;a<n;a++){const u=a*e;Q.arraycopy(this.luminances,o,s,u,e),o+=this.dataWidth}return s}isCropSupported(){return!0}crop(e,n,r,s){return new ji(this.luminances,r,s,this.dataWidth,this.dataHeight,this.left+e,this.top+n)}invert(){return new ve(this)}}class Vo extends re{static forName(e){return this.getCharacterSetECIByName(e)}}class eo{}eo.ISO_8859_1=re.ISO8859_1;class Wo{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class to{static singletonList(e){return[e]}static min(e,n){return e.sort(n)[0]}}class rl{constructor(e){this.previous=e}getPrevious(){return this.previous}}class fi extends rl{constructor(e,n,r){super(e),this.value=n,this.bitCount=r}appendTo(e,n){e.appendBits(this.value,this.bitCount)}add(e,n){return new fi(this,e,n)}addBinaryShift(e,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new fi(this,e,n)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+de.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class no extends fi{constructor(e,n,r){super(e,0,0),this.binaryShiftStart=n,this.binaryShiftByteCount=r}appendTo(e,n){for(let r=0;r<this.binaryShiftByteCount;r++)(r===0||r===31&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):r===0?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(n[this.binaryShiftStart+r],8)}addBinaryShift(e,n){return new no(this,e,n)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function il(A,e,n){return new no(A,e,n)}function Hi(A,e,n){return new fi(A,e,n)}const sl=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Dr=0,di=1,an=2,Go=3,Zn=4,Xo=new fi(null,0,0),ms=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Yo(A){for(let e of A)Se.fill(e,-1);return A[Dr][Zn]=0,A[di][Zn]=0,A[di][Dr]=28,A[Go][Zn]=0,A[an][Zn]=0,A[an][Dr]=15,A}const ro=Yo(Se.createInt32Array(6,6));class hn{constructor(e,n,r,s){this.token=e,this.mode=n,this.binaryShiftByteCount=r,this.bitCount=s}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,n){let r=this.bitCount,s=this.token;if(e!==this.mode){let a=ms[this.mode][e];s=Hi(s,a&65535,a>>16),r+=a>>16}let o=e===an?4:5;return s=Hi(s,n,o),new hn(s,e,0,r+o)}shiftAndAppend(e,n){let r=this.token,s=this.mode===an?4:5;return r=Hi(r,ro[this.mode][e],s),r=Hi(r,n,5),new hn(r,this.mode,0,this.bitCount+s+5)}addBinaryShiftChar(e){let n=this.token,r=this.mode,s=this.bitCount;if(this.mode===Zn||this.mode===an){let u=ms[r][Dr];n=Hi(n,u&65535,u>>16),s+=u>>16,r=Dr}let o=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,a=new hn(n,r,this.binaryShiftByteCount+1,s+o);return a.binaryShiftByteCount===2078&&(a=a.endBinaryShift(e+1)),a}endBinaryShift(e){if(this.binaryShiftByteCount===0)return this;let n=this.token;return n=il(n,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new hn(n,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let n=this.bitCount+(ms[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?n+=hn.calculateBinaryShiftCost(e)-hn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(n+=10),n<=e.bitCount}toBitArray(e){let n=[];for(let s=this.endBinaryShift(e.length).token;s!==null;s=s.getPrevious())n.unshift(s);let r=new Ne;for(const s of n)s.appendTo(r,e);return r}toString(){return Oe.format("%s bits=%d bytes=%d",sl[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}hn.INITIAL_STATE=new hn(Xo,Dr,0,0);function ol(A){const e=Oe.getCharCode(" "),n=Oe.getCharCode("."),r=Oe.getCharCode(",");A[Dr][e]=1;const s=Oe.getCharCode("Z"),o=Oe.getCharCode("A");for(let N=o;N<=s;N++)A[Dr][N]=N-o+2;A[di][e]=1;const a=Oe.getCharCode("z"),u=Oe.getCharCode("a");for(let N=u;N<=a;N++)A[di][N]=N-u+2;A[an][e]=1;const g=Oe.getCharCode("9"),p=Oe.getCharCode("0");for(let N=p;N<=g;N++)A[an][N]=N-p+2;A[an][r]=12,A[an][n]=13;const C=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let N=0;N<C.length;N++)A[Go][Oe.getCharCode(C[N])]=N;const I=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let N=0;N<I.length;N++)Oe.getCharCode(I[N])>0&&(A[Zn][Oe.getCharCode(I[N])]=N);return A}const io=ol(Se.createInt32Array(5,256));class Vi{constructor(e){this.text=e}encode(){const e=Oe.getCharCode(" "),n=Oe.getCharCode(`
`);let r=to.singletonList(hn.INITIAL_STATE);for(let o=0;o<this.text.length;o++){let a,u=o+1<this.text.length?this.text[o+1]:0;switch(this.text[o]){case Oe.getCharCode("\r"):a=u===n?2:0;break;case Oe.getCharCode("."):a=u===e?3:0;break;case Oe.getCharCode(","):a=u===e?4:0;break;case Oe.getCharCode(":"):a=u===e?5:0;break;default:a=0}a>0?(r=Vi.updateStateListForPair(r,o,a),o++):r=this.updateStateListForChar(r,o)}return to.min(r,(o,a)=>o.getBitCount()-a.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,n){const r=[];for(let s of e)this.updateStateForChar(s,n,r);return Vi.simplifyStates(r)}updateStateForChar(e,n,r){let s=this.text[n]&255,o=io[e.getMode()][s]>0,a=null;for(let u=0;u<=Zn;u++){let g=io[u][s];if(g>0){if(a==null&&(a=e.endBinaryShift(n)),!o||u===e.getMode()||u===an){const p=a.latchAndAppend(u,g);r.push(p)}if(!o&&ro[e.getMode()][u]>=0){const p=a.shiftAndAppend(u,g);r.push(p)}}}if(e.getBinaryShiftByteCount()>0||io[e.getMode()][s]===0){let u=e.addBinaryShiftChar(n);r.push(u)}}static updateStateListForPair(e,n,r){const s=[];for(let o of e)this.updateStateForPair(o,n,r,s);return this.simplifyStates(s)}static updateStateForPair(e,n,r,s){let o=e.endBinaryShift(n);if(s.push(o.latchAndAppend(Zn,r)),e.getMode()!==Zn&&s.push(o.shiftAndAppend(Zn,r)),r===3||r===4){let a=o.latchAndAppend(an,16-r).latchAndAppend(an,1);s.push(a)}if(e.getBinaryShiftByteCount()>0){let a=e.addBinaryShiftChar(n).addBinaryShiftChar(n+1);s.push(a)}}static simplifyStates(e){let n=[];for(const r of e){let s=!0;for(const o of n){if(o.isBetterThanOrEqualTo(r)){s=!1;break}r.isBetterThanOrEqualTo(o)&&(n=n.filter(a=>a!==o))}s&&n.push(r)}return n}}class tt{constructor(){}static encodeBytes(e){return tt.encode(e,tt.DEFAULT_EC_PERCENT,tt.DEFAULT_AZTEC_LAYERS)}static encode(e,n,r){let s=new Vi(e).encode(),o=de.truncDivision(s.getSize()*n,100)+11,a=s.getSize()+o,u,g,p,C,I;if(r!==tt.DEFAULT_AZTEC_LAYERS){if(u=r<0,g=Math.abs(r),g>(u?tt.MAX_NB_BITS_COMPACT:tt.MAX_NB_BITS))throw new b(Oe.format("Illegal value %s for layers",r));p=tt.totalBitsInLayer(g,u),C=tt.WORD_SIZE[g];let te=p-p%C;if(I=tt.stuffBits(s,C),I.getSize()+o>te)throw new b("Data to large for user specified layer");if(u&&I.getSize()>C*64)throw new b("Data to large for user specified layer")}else{C=0,I=null;for(let te=0;;te++){if(te>tt.MAX_NB_BITS)throw new b("Data too large for an Aztec code");if(u=te<=3,g=u?te+1:te,p=tt.totalBitsInLayer(g,u),a>p)continue;(I==null||C!==tt.WORD_SIZE[g])&&(C=tt.WORD_SIZE[g],I=tt.stuffBits(s,C));let Qe=p-p%C;if(!(u&&I.getSize()>C*64)&&I.getSize()+o<=Qe)break}}let N=tt.generateCheckWords(I,p,C),O=I.getSize()/C,L=tt.generateModeMessage(u,g,O),P=(u?11:14)+g*4,z=new Int32Array(P),W;if(u){W=P;for(let te=0;te<z.length;te++)z[te]=te}else{W=P+1+2*de.truncDivision(de.truncDivision(P,2)-1,15);let te=de.truncDivision(P,2),Qe=de.truncDivision(W,2);for(let He=0;He<te;He++){let Cn=He+de.truncDivision(He,15);z[te-He-1]=Qe-Cn-1,z[te+He]=Qe+Cn+1}}let se=new ft(W);for(let te=0,Qe=0;te<g;te++){let He=(g-te)*4+(u?9:12);for(let Cn=0;Cn<He;Cn++){let Qn=Cn*2;for(let Wt=0;Wt<2;Wt++)N.get(Qe+Qn+Wt)&&se.set(z[te*2+Wt],z[te*2+Cn]),N.get(Qe+He*2+Qn+Wt)&&se.set(z[te*2+Cn],z[P-1-te*2-Wt]),N.get(Qe+He*4+Qn+Wt)&&se.set(z[P-1-te*2-Wt],z[P-1-te*2-Cn]),N.get(Qe+He*6+Qn+Wt)&&se.set(z[P-1-te*2-Cn],z[te*2+Wt])}Qe+=He*8}if(tt.drawModeMessage(se,u,W,L),u)tt.drawBullsEye(se,de.truncDivision(W,2),5);else{tt.drawBullsEye(se,de.truncDivision(W,2),7);for(let te=0,Qe=0;te<de.truncDivision(P,2)-1;te+=15,Qe+=16)for(let He=de.truncDivision(W,2)&1;He<W;He+=2)se.set(de.truncDivision(W,2)-Qe,He),se.set(de.truncDivision(W,2)+Qe,He),se.set(He,de.truncDivision(W,2)-Qe),se.set(He,de.truncDivision(W,2)+Qe)}let oe=new Wo;return oe.setCompact(u),oe.setSize(W),oe.setLayers(g),oe.setCodeWords(O),oe.setMatrix(se),oe}static drawBullsEye(e,n,r){for(let s=0;s<r;s+=2)for(let o=n-s;o<=n+s;o++)e.set(o,n-s),e.set(o,n+s),e.set(n-s,o),e.set(n+s,o);e.set(n-r,n-r),e.set(n-r+1,n-r),e.set(n-r,n-r+1),e.set(n+r,n-r),e.set(n+r,n-r+1),e.set(n+r,n+r-1)}static generateModeMessage(e,n,r){let s=new Ne;return e?(s.appendBits(n-1,2),s.appendBits(r-1,6),s=tt.generateCheckWords(s,28,4)):(s.appendBits(n-1,5),s.appendBits(r-1,11),s=tt.generateCheckWords(s,40,4)),s}static drawModeMessage(e,n,r,s){let o=de.truncDivision(r,2);if(n)for(let a=0;a<7;a++){let u=o-3+a;s.get(a)&&e.set(u,o-5),s.get(a+7)&&e.set(o+5,u),s.get(20-a)&&e.set(u,o+5),s.get(27-a)&&e.set(o-5,u)}else for(let a=0;a<10;a++){let u=o-5+a+de.truncDivision(a,5);s.get(a)&&e.set(u,o-7),s.get(a+10)&&e.set(o+7,u),s.get(29-a)&&e.set(u,o+7),s.get(39-a)&&e.set(o-7,u)}}static generateCheckWords(e,n,r){let s=e.getSize()/r,o=new $s(tt.getGF(r)),a=de.truncDivision(n,r),u=tt.bitsToWords(e,r,a);o.encode(u,a-s);let g=n%r,p=new Ne;p.appendBits(0,g);for(const C of Array.from(u))p.appendBits(C,r);return p}static bitsToWords(e,n,r){let s=new Int32Array(r),o,a;for(o=0,a=e.getSize()/n;o<a;o++){let u=0;for(let g=0;g<n;g++)u|=e.get(o*n+g)?1<<n-g-1:0;s[o]=u}return s}static getGF(e){switch(e){case 4:return et.AZTEC_PARAM;case 6:return et.AZTEC_DATA_6;case 8:return et.AZTEC_DATA_8;case 10:return et.AZTEC_DATA_10;case 12:return et.AZTEC_DATA_12;default:throw new b("Unsupported word size "+e)}}static stuffBits(e,n){let r=new Ne,s=e.getSize(),o=(1<<n)-2;for(let a=0;a<s;a+=n){let u=0;for(let g=0;g<n;g++)(a+g>=s||e.get(a+g))&&(u|=1<<n-1-g);(u&o)===o?(r.appendBits(u&o,n),a--):u&o?r.appendBits(u,n):(r.appendBits(u|1,n),a--)}return r}static totalBitsInLayer(e,n){return((n?88:112)+16*e)*e}}tt.DEFAULT_EC_PERCENT=33,tt.DEFAULT_AZTEC_LAYERS=0,tt.MAX_NB_BITS=32,tt.MAX_NB_BITS_COMPACT=4,tt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Wi{encode(e,n,r,s){return this.encodeWithHints(e,n,r,s,null)}encodeWithHints(e,n,r,s,o){let a=eo.ISO_8859_1,u=tt.DEFAULT_EC_PERCENT,g=tt.DEFAULT_AZTEC_LAYERS;return o!=null&&(o.has(Vt.CHARACTER_SET)&&(a=Vo.forName(o.get(Vt.CHARACTER_SET).toString())),o.has(Vt.ERROR_CORRECTION)&&(u=de.parseInt(o.get(Vt.ERROR_CORRECTION).toString())),o.has(Vt.AZTEC_LAYERS)&&(g=de.parseInt(o.get(Vt.AZTEC_LAYERS).toString()))),Wi.encodeLayers(e,n,r,s,a,u,g)}static encodeLayers(e,n,r,s,o,a,u){if(n!==ce.AZTEC)throw new b("Can only encode AZTEC, but got "+n);let g=tt.encode(Oe.getBytes(e,o),a,u);return Wi.renderResult(g,r,s)}static renderResult(e,n,r){let s=e.getMatrix();if(s==null)throw new jn;let o=s.getWidth(),a=s.getHeight(),u=Math.max(n,o),g=Math.max(r,a),p=Math.min(u/o,g/a),C=(u-o*p)/2,I=(g-a*p)/2,N=new ft(u,g);for(let O=0,L=I;O<a;O++,L+=p)for(let P=0,z=C;P<o;P++,z+=p)s.get(P,O)&&N.setRegion(z,L,p,p);return N}}c.AbstractExpandedDecoder=Vs,c.ArgumentException=D,c.ArithmeticException=Mi,c.AztecCode=Wo,c.AztecCodeReader=_r,c.AztecCodeWriter=Wi,c.AztecDecoder=pt,c.AztecDetector=ni,c.AztecDetectorResult=Fs,c.AztecEncoder=tt,c.AztecHighLevelEncoder=Vi,c.AztecPoint=sn,c.BarcodeFormat=ce,c.Binarizer=ue,c.BinaryBitmap=le,c.BitArray=Ne,c.BitMatrix=ft,c.BitSource=Xs,c.BrowserAztecCodeReader=$a,c.BrowserBarcodeReader=Bo,c.BrowserCodeReader=Ge,c.BrowserDatamatrixCodeReader=el,c.BrowserMultiFormatReader=zi,c.BrowserPDF417Reader=ps,c.BrowserQRCodeReader=Ho,c.BrowserQRCodeSvgWriter=Vr,c.CharacterSetECI=re,c.ChecksumException=ge,c.Code128Reader=fe,c.Code39Reader=jt,c.DataMatrixDecodedBitStreamParser=Gn,c.DataMatrixReader=Xn,c.DecodeHintType=De,c.DecoderResult=Xt,c.DefaultGridSampler=as,c.DetectorResult=ti,c.EAN13Reader=Mn,c.EncodeHintType=Vt,c.Exception=S,c.FormatException=$,c.GenericGF=et,c.GenericGFPoly=Kt,c.GlobalHistogramBinarizer=it,c.GridSampler=os,c.GridSamplerInstance=Hn,c.HTMLCanvasElementLuminanceSource=k,c.HybridBinarizer=Ae,c.ITFReader=ut,c.IllegalArgumentException=b,c.IllegalStateException=jn,c.InvertedLuminanceSource=ve,c.LuminanceSource=he,c.MathUtils=qe,c.MultiFormatOneDReader=ii,c.MultiFormatReader=gs,c.MultiFormatWriter=nl,c.NotFoundException=Y,c.OneDReader=Mt,c.PDF417DecodedBitStreamParser=G,c.PDF417DecoderErrorCorrection=Qs,c.PDF417Reader=tn,c.PDF417ResultMetadata=ds,c.PerspectiveTransform=Rn,c.PlanarYUVLuminanceSource=lr,c.QRCodeByteMatrix=xs,c.QRCodeDataMask=Ye,c.QRCodeDecodedBitStreamParser=St,c.QRCodeDecoderErrorCorrectionLevel=gt,c.QRCodeDecoderFormatInformation=Jt,c.QRCodeEncoder=wt,c.QRCodeEncoderQRCode=Hr,c.QRCodeMaskUtil=It,c.QRCodeMatrixUtil=be,c.QRCodeMode=Re,c.QRCodeReader=dn,c.QRCodeVersion=_e,c.QRCodeWriter=ci,c.RGBLuminanceSource=ji,c.RSS14Reader=yt,c.RSSExpandedReader=K,c.ReaderException=ui,c.ReedSolomonDecoder=ei,c.ReedSolomonEncoder=$s,c.ReedSolomonException=Nr,c.Result=Me,c.ResultMetadataType=Pe,c.ResultPoint=we,c.StringUtils=Oe,c.UnsupportedOperationException=mn,c.VideoInputDevice=J,c.WhiteRectangleDetector=rr,c.WriterException=xt,c.ZXingArrays=Se,c.ZXingCharset=Vo,c.ZXingInteger=de,c.ZXingStandardCharsets=eo,c.ZXingStringBuilder=We,c.ZXingStringEncoding=kt,c.ZXingSystem=Q,c.createAbstractExpandedDecoder=Lo,Object.defineProperty(c,"__esModule",{value:!0})})}(_o,_o.exports)),_o.exports}var _t=kh();const Bh=Bu(_t),Ph=G0({__proto__:null,default:Bh},[_t]);var ff=function(){function d(h,c,m){if(this.formatMap=new Map([[ye.QR_CODE,_t.BarcodeFormat.QR_CODE],[ye.AZTEC,_t.BarcodeFormat.AZTEC],[ye.CODABAR,_t.BarcodeFormat.CODABAR],[ye.CODE_39,_t.BarcodeFormat.CODE_39],[ye.CODE_93,_t.BarcodeFormat.CODE_93],[ye.CODE_128,_t.BarcodeFormat.CODE_128],[ye.DATA_MATRIX,_t.BarcodeFormat.DATA_MATRIX],[ye.MAXICODE,_t.BarcodeFormat.MAXICODE],[ye.ITF,_t.BarcodeFormat.ITF],[ye.EAN_13,_t.BarcodeFormat.EAN_13],[ye.EAN_8,_t.BarcodeFormat.EAN_8],[ye.PDF_417,_t.BarcodeFormat.PDF_417],[ye.RSS_14,_t.BarcodeFormat.RSS_14],[ye.RSS_EXPANDED,_t.BarcodeFormat.RSS_EXPANDED],[ye.UPC_A,_t.BarcodeFormat.UPC_A],[ye.UPC_E,_t.BarcodeFormat.UPC_E],[ye.UPC_EAN_EXTENSION,_t.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Ph)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=c,this.logger=m;var E=this.createZXingFormats(h),w=new Map;w.set(_t.DecodeHintType.POSSIBLE_FORMATS,E),w.set(_t.DecodeHintType.TRY_HARDER,!1),this.hints=w}return d.prototype.decodeAsync=function(h){var c=this;return new Promise(function(m,E){try{m(c.decode(h))}catch(w){E(w)}})},d.prototype.decode=function(h){var c=new _t.MultiFormatReader(this.verbose,this.hints),m=new _t.HTMLCanvasElementLuminanceSource(h),E=new _t.BinaryBitmap(new _t.HybridBinarizer(m)),w=c.decode(E);return{text:w.text,format:Yf.create(this.toHtml5QrcodeSupportedFormats(w.format)),debugData:this.createDebugData()}},d.prototype.createReverseFormatMap=function(){var h=new Map;return this.formatMap.forEach(function(c,m,E){h.set(c,m)}),h},d.prototype.toHtml5QrcodeSupportedFormats=function(h){if(!this.reverseFormatMap.has(h))throw"reverseFormatMap doesn't have ".concat(h);return this.reverseFormatMap.get(h)},d.prototype.createZXingFormats=function(h){for(var c=[],m=0,E=h;m<E.length;m++){var w=E[m];this.formatMap.has(w)?c.push(this.formatMap.get(w)):this.logger.logError("".concat(w," is not supported by")+"ZXingHtml5QrcodeShim")}return c},d.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},d}(),Fh=function(d,h,c,m){function E(w){return w instanceof c?w:new c(function(v){v(w)})}return new(c||(c=Promise))(function(w,v){function M(D){try{S(m.next(D))}catch(b){v(b)}}function F(D){try{S(m.throw(D))}catch(b){v(b)}}function S(D){D.done?w(D.value):E(D.value).then(M,F)}S((m=m.apply(d,h||[])).next())})},Uh=function(d,h){var c={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},m,E,w,v;return v={next:M(0),throw:M(1),return:M(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function M(S){return function(D){return F([S,D])}}function F(S){if(m)throw new TypeError("Generator is already executing.");for(;v&&(v=0,S[0]&&(c=0)),c;)try{if(m=1,E&&(w=S[0]&2?E.return:S[0]?E.throw||((w=E.return)&&w.call(E),0):E.next)&&!(w=w.call(E,S[1])).done)return w;switch(E=0,w&&(S=[S[0]&2,w.value]),S[0]){case 0:case 1:w=S;break;case 4:return c.label++,{value:S[1],done:!1};case 5:c.label++,E=S[1],S=[0];continue;case 7:S=c.ops.pop(),c.trys.pop();continue;default:if(w=c.trys,!(w=w.length>0&&w[w.length-1])&&(S[0]===6||S[0]===2)){c=0;continue}if(S[0]===3&&(!w||S[1]>w[0]&&S[1]<w[3])){c.label=S[1];break}if(S[0]===6&&c.label<w[1]){c.label=w[1],w=S;break}if(w&&c.label<w[2]){c.label=w[2],c.ops.push(S);break}w[2]&&c.ops.pop(),c.trys.pop();continue}S=h.call(d,c)}catch(D){S=[6,D],E=0}finally{m=w=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}},df=function(){function d(h,c,m){if(this.formatMap=new Map([[ye.QR_CODE,"qr_code"],[ye.AZTEC,"aztec"],[ye.CODABAR,"codabar"],[ye.CODE_39,"code_39"],[ye.CODE_93,"code_93"],[ye.CODE_128,"code_128"],[ye.DATA_MATRIX,"data_matrix"],[ye.ITF,"itf"],[ye.EAN_13,"ean_13"],[ye.EAN_8,"ean_8"],[ye.PDF_417,"pdf417"],[ye.UPC_A,"upc_a"],[ye.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!d.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=c,this.logger=m;var E=this.createBarcodeDetectorFormats(h);if(this.detector=new BarcodeDetector(E),!this.detector)throw"BarcodeDetector detector not supported"}return d.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var h=new BarcodeDetector({formats:["qr_code"]});return typeof h<"u"},d.prototype.decodeAsync=function(h){return Fh(this,void 0,void 0,function(){var c,m;return Uh(this,function(E){switch(E.label){case 0:return[4,this.detector.detect(h)];case 1:if(c=E.sent(),!c||c.length===0)throw"No barcode or QR code detected.";return m=this.selectLargestBarcode(c),[2,{text:m.rawValue,format:Yf.create(this.toHtml5QrcodeSupportedFormats(m.format)),debugData:this.createDebugData()}]}})})},d.prototype.selectLargestBarcode=function(h){for(var c=null,m=0,E=0,w=h;E<w.length;E++){var v=w[E],M=v.boundingBox.width*v.boundingBox.height;M>m&&(m=M,c=v)}if(!c)throw"No largest barcode found";return c},d.prototype.createBarcodeDetectorFormats=function(h){for(var c=[],m=0,E=h;m<E.length;m++){var w=E[m];this.formatMap.has(w)?c.push(this.formatMap.get(w)):this.logger.warn("".concat(w," is not supported by")+"BarcodeDetectorDelegate")}return{formats:c}},d.prototype.toHtml5QrcodeSupportedFormats=function(h){if(!this.reverseFormatMap.has(h))throw"reverseFormatMap doesn't have ".concat(h);return this.reverseFormatMap.get(h)},d.prototype.createReverseFormatMap=function(){var h=new Map;return this.formatMap.forEach(function(c,m,E){h.set(c,m)}),h},d.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},d}(),hf=function(d,h,c,m){function E(w){return w instanceof c?w:new c(function(v){v(w)})}return new(c||(c=Promise))(function(w,v){function M(D){try{S(m.next(D))}catch(b){v(b)}}function F(D){try{S(m.throw(D))}catch(b){v(b)}}function S(D){D.done?w(D.value):E(D.value).then(M,F)}S((m=m.apply(d,h||[])).next())})},gf=function(d,h){var c={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},m,E,w,v;return v={next:M(0),throw:M(1),return:M(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function M(S){return function(D){return F([S,D])}}function F(S){if(m)throw new TypeError("Generator is already executing.");for(;v&&(v=0,S[0]&&(c=0)),c;)try{if(m=1,E&&(w=S[0]&2?E.return:S[0]?E.throw||((w=E.return)&&w.call(E),0):E.next)&&!(w=w.call(E,S[1])).done)return w;switch(E=0,w&&(S=[S[0]&2,w.value]),S[0]){case 0:case 1:w=S;break;case 4:return c.label++,{value:S[1],done:!1};case 5:c.label++,E=S[1],S=[0];continue;case 7:S=c.ops.pop(),c.trys.pop();continue;default:if(w=c.trys,!(w=w.length>0&&w[w.length-1])&&(S[0]===6||S[0]===2)){c=0;continue}if(S[0]===3&&(!w||S[1]>w[0]&&S[1]<w[3])){c.label=S[1];break}if(S[0]===6&&c.label<w[1]){c.label=w[1],w=S;break}if(w&&c.label<w[2]){c.label=w[2],c.ops.push(S);break}w[2]&&c.ops.pop(),c.trys.pop();continue}S=h.call(d,c)}catch(D){S=[6,D],E=0}finally{m=w=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}},zh=function(){function d(h,c,m,E){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=m,c&&df.isSupported()?(this.primaryDecoder=new df(h,m,E),this.secondaryDecoder=new ff(h,m,E)):this.primaryDecoder=new ff(h,m,E)}return d.prototype.decodeAsync=function(h){return hf(this,void 0,void 0,function(){var c;return gf(this,function(m){switch(m.label){case 0:c=performance.now(),m.label=1;case 1:return m.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(h)];case 2:return[2,m.sent()];case 3:return this.possiblyLogPerformance(c),[7];case 4:return[2]}})})},d.prototype.decodeRobustlyAsync=function(h){return hf(this,void 0,void 0,function(){var c,m;return gf(this,function(E){switch(E.label){case 0:c=performance.now(),E.label=1;case 1:return E.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(h)];case 2:return[2,E.sent()];case 3:if(m=E.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(h)];throw m;case 4:return this.possiblyLogPerformance(c),[7];case 5:return[2]}})})},d.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},d.prototype.possiblyLogPerformance=function(h){if(this.verbose){var c=performance.now()-h;this.executionResults.push(c),this.executions++,this.possiblyFlushPerformanceReport()}},d.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var h=0,c=0,m=this.executionResults;c<m.length;c++){var E=m[c];h+=E}var w=h/this.executionResults.length;console.log("".concat(w," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},d}(),ju=function(){var d=function(h,c){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,E){m.__proto__=E}||function(m,E){for(var w in E)Object.prototype.hasOwnProperty.call(E,w)&&(m[w]=E[w])},d(h,c)};return function(h,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");d(h,c);function m(){this.constructor=h}h.prototype=c===null?Object.create(c):(m.prototype=c.prototype,new m)}}(),Ga=function(d,h,c,m){function E(w){return w instanceof c?w:new c(function(v){v(w)})}return new(c||(c=Promise))(function(w,v){function M(D){try{S(m.next(D))}catch(b){v(b)}}function F(D){try{S(m.throw(D))}catch(b){v(b)}}function S(D){D.done?w(D.value):E(D.value).then(M,F)}S((m=m.apply(d,h||[])).next())})},Xa=function(d,h){var c={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},m,E,w,v;return v={next:M(0),throw:M(1),return:M(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function M(S){return function(D){return F([S,D])}}function F(S){if(m)throw new TypeError("Generator is already executing.");for(;v&&(v=0,S[0]&&(c=0)),c;)try{if(m=1,E&&(w=S[0]&2?E.return:S[0]?E.throw||((w=E.return)&&w.call(E),0):E.next)&&!(w=w.call(E,S[1])).done)return w;switch(E=0,w&&(S=[S[0]&2,w.value]),S[0]){case 0:case 1:w=S;break;case 4:return c.label++,{value:S[1],done:!1};case 5:c.label++,E=S[1],S=[0];continue;case 7:S=c.ops.pop(),c.trys.pop();continue;default:if(w=c.trys,!(w=w.length>0&&w[w.length-1])&&(S[0]===6||S[0]===2)){c=0;continue}if(S[0]===3&&(!w||S[1]>w[0]&&S[1]<w[3])){c.label=S[1];break}if(S[0]===6&&c.label<w[1]){c.label=w[1],w=S;break}if(w&&c.label<w[2]){c.label=w[2],c.ops.push(S);break}w[2]&&c.ops.pop(),c.trys.pop();continue}S=h.call(d,c)}catch(D){S=[6,D],E=0}finally{m=w=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}},qf=function(){function d(h,c){this.name=h,this.track=c}return d.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},d.prototype.apply=function(h){var c={};c[this.name]=h;var m={advanced:[c]};return this.track.applyConstraints(m)},d.prototype.value=function(){var h=this.track.getSettings();if(this.name in h){var c=h[this.name];return c}return null},d}(),jh=function(d){ju(h,d);function h(c,m){return d.call(this,c,m)||this}return h.prototype.min=function(){return this.getCapabilities().min},h.prototype.max=function(){return this.getCapabilities().max},h.prototype.step=function(){return this.getCapabilities().step},h.prototype.apply=function(c){var m={};m[this.name]=c;var E={advanced:[m]};return this.track.applyConstraints(E)},h.prototype.getCapabilities=function(){this.failIfNotSupported();var c=this.track.getCapabilities(),m=c[this.name];return{min:m.min,max:m.max,step:m.step}},h.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},h}(qf),Hh=function(d){ju(h,d);function h(c){return d.call(this,"zoom",c)||this}return h}(jh),Vh=function(d){ju(h,d);function h(c){return d.call(this,"torch",c)||this}return h}(qf),Wh=function(){function d(h){this.track=h}return d.prototype.zoomFeature=function(){return new Hh(this.track)},d.prototype.torchFeature=function(){return new Vh(this.track)},d}(),Gh=function(){function d(h,c,m){this.isClosed=!1,this.parentElement=h,this.mediaStream=c,this.callbacks=m,this.surface=this.createVideoElement(this.parentElement.clientWidth),h.append(this.surface)}return d.prototype.createVideoElement=function(h){var c=document.createElement("video");return c.style.width="".concat(h,"px"),c.style.display="block",c.muted=!0,c.setAttribute("muted","true"),c.playsInline=!0,c},d.prototype.setupSurface=function(){var h=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var c=function(){var m=h.surface.clientWidth,E=h.surface.clientHeight;h.callbacks.onRenderSurfaceReady(m,E),h.surface.removeEventListener("playing",c)};this.surface.addEventListener("playing",c),this.surface.srcObject=this.mediaStream,this.surface.play()},d.create=function(h,c,m,E){return Ga(this,void 0,void 0,function(){var w,v;return Xa(this,function(M){switch(M.label){case 0:return w=new d(h,c,E),m.aspectRatio?(v={aspectRatio:m.aspectRatio},[4,w.getFirstTrackOrFail().applyConstraints(v)]):[3,2];case 1:M.sent(),M.label=2;case 2:return w.setupSurface(),[2,w]}})})},d.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},d.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},d.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},d.prototype.resume=function(h){this.failIfClosed();var c=this,m=function(){setTimeout(h,200),c.surface.removeEventListener("playing",m)};this.surface.addEventListener("playing",m),this.surface.play()},d.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},d.prototype.getSurface=function(){return this.failIfClosed(),this.surface},d.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},d.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},d.prototype.applyVideoConstraints=function(h){return Ga(this,void 0,void 0,function(){return Xa(this,function(c){if("aspectRatio"in h)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(h)]})})},d.prototype.close=function(){if(this.isClosed)return Promise.resolve();var h=this;return new Promise(function(c,m){var E=h.mediaStream.getVideoTracks(),w=E.length,v=0;h.mediaStream.getVideoTracks().forEach(function(M){h.mediaStream.removeTrack(M),M.stop(),++v,v>=w&&(h.isClosed=!0,h.parentElement.removeChild(h.surface),c())})})},d.prototype.getCapabilities=function(){return new Wh(this.getFirstTrackOrFail())},d}(),Xh=function(){function d(h){this.mediaStream=h}return d.prototype.render=function(h,c,m){return Ga(this,void 0,void 0,function(){return Xa(this,function(E){return[2,Gh.create(h,this.mediaStream,c,m)]})})},d.create=function(h){return Ga(this,void 0,void 0,function(){var c,m;return Xa(this,function(E){switch(E.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return c={audio:!1,video:h},[4,navigator.mediaDevices.getUserMedia(c)];case 1:return m=E.sent(),[2,new d(m)]}})})},d}(),pf=function(d,h,c,m){function E(w){return w instanceof c?w:new c(function(v){v(w)})}return new(c||(c=Promise))(function(w,v){function M(D){try{S(m.next(D))}catch(b){v(b)}}function F(D){try{S(m.throw(D))}catch(b){v(b)}}function S(D){D.done?w(D.value):E(D.value).then(M,F)}S((m=m.apply(d,h||[])).next())})},xf=function(d,h){var c={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},m,E,w,v;return v={next:M(0),throw:M(1),return:M(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function M(S){return function(D){return F([S,D])}}function F(S){if(m)throw new TypeError("Generator is already executing.");for(;v&&(v=0,S[0]&&(c=0)),c;)try{if(m=1,E&&(w=S[0]&2?E.return:S[0]?E.throw||((w=E.return)&&w.call(E),0):E.next)&&!(w=w.call(E,S[1])).done)return w;switch(E=0,w&&(S=[S[0]&2,w.value]),S[0]){case 0:case 1:w=S;break;case 4:return c.label++,{value:S[1],done:!1};case 5:c.label++,E=S[1],S=[0];continue;case 7:S=c.ops.pop(),c.trys.pop();continue;default:if(w=c.trys,!(w=w.length>0&&w[w.length-1])&&(S[0]===6||S[0]===2)){c=0;continue}if(S[0]===3&&(!w||S[1]>w[0]&&S[1]<w[3])){c.label=S[1];break}if(S[0]===6&&c.label<w[1]){c.label=w[1],w=S;break}if(w&&c.label<w[2]){c.label=w[2],c.ops.push(S);break}w[2]&&c.ops.pop(),c.trys.pop();continue}S=h.call(d,c)}catch(D){S=[6,D],E=0}finally{m=w=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}},Yh=function(){function d(){}return d.failIfNotSupported=function(){return pf(this,void 0,void 0,function(){return xf(this,function(h){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new d]})})},d.prototype.create=function(h){return pf(this,void 0,void 0,function(){return xf(this,function(c){return[2,Xh.create(h)]})})},d}(),Zh=function(d,h,c,m){function E(w){return w instanceof c?w:new c(function(v){v(w)})}return new(c||(c=Promise))(function(w,v){function M(D){try{S(m.next(D))}catch(b){v(b)}}function F(D){try{S(m.throw(D))}catch(b){v(b)}}function S(D){D.done?w(D.value):E(D.value).then(M,F)}S((m=m.apply(d,h||[])).next())})},Qh=function(d,h){var c={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},m,E,w,v;return v={next:M(0),throw:M(1),return:M(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function M(S){return function(D){return F([S,D])}}function F(S){if(m)throw new TypeError("Generator is already executing.");for(;v&&(v=0,S[0]&&(c=0)),c;)try{if(m=1,E&&(w=S[0]&2?E.return:S[0]?E.throw||((w=E.return)&&w.call(E),0):E.next)&&!(w=w.call(E,S[1])).done)return w;switch(E=0,w&&(S=[S[0]&2,w.value]),S[0]){case 0:case 1:w=S;break;case 4:return c.label++,{value:S[1],done:!1};case 5:c.label++,E=S[1],S=[0];continue;case 7:S=c.ops.pop(),c.trys.pop();continue;default:if(w=c.trys,!(w=w.length>0&&w[w.length-1])&&(S[0]===6||S[0]===2)){c=0;continue}if(S[0]===3&&(!w||S[1]>w[0]&&S[1]<w[3])){c.label=S[1];break}if(S[0]===6&&c.label<w[1]){c.label=w[1],w=S;break}if(w&&c.label<w[2]){c.label=w[2],c.ops.push(S);break}w[2]&&c.ops.pop(),c.trys.pop();continue}S=h.call(d,c)}catch(D){S=[6,D],E=0}finally{m=w=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}},Kh=function(){function d(){}return d.retrieve=function(){if(navigator.mediaDevices)return d.getCamerasFromMediaDevices();var h=MediaStreamTrack;return MediaStreamTrack&&h.getSources?d.getCamerasFromMediaStreamTrack():d.rejectWithError()},d.rejectWithError=function(){var h=ks.unableToQuerySupportedDevices();return d.isHttpsOrLocalhost()||(h=ks.insecureContextCameraQueryError()),Promise.reject(h)},d.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var h=location.host.split(":")[0];return h==="127.0.0.1"||h==="localhost"},d.getCamerasFromMediaDevices=function(){return Zh(this,void 0,void 0,function(){var h,c,m,E,w,v,M;return Qh(this,function(F){switch(F.label){case 0:return h=function(S){for(var D=S.getVideoTracks(),b=0,le=D;b<le.length;b++){var ge=le[b];ge.enabled=!1,ge.stop(),S.removeTrack(ge)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return c=F.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(m=F.sent(),E=[],w=0,v=m;w<v.length;w++)M=v[w],M.kind==="videoinput"&&E.push({id:M.deviceId,label:M.label});return h(c),[2,E]}})})},d.getCamerasFromMediaStreamTrack=function(){return new Promise(function(h,c){var m=function(w){for(var v=[],M=0,F=w;M<F.length;M++){var S=F[M];S.kind==="video"&&v.push({id:S.id,label:S.label})}h(v)},E=MediaStreamTrack;E.getSources(m)})},d}(),Ut;(function(d){d[d.UNKNOWN=0]="UNKNOWN",d[d.NOT_STARTED=1]="NOT_STARTED",d[d.SCANNING=2]="SCANNING",d[d.PAUSED=3]="PAUSED"})(Ut||(Ut={}));var qh=function(){function d(){this.state=Ut.NOT_STARTED,this.onGoingTransactionNewState=Ut.UNKNOWN}return d.prototype.directTransition=function(h){this.failIfTransitionOngoing(),this.validateTransition(h),this.state=h},d.prototype.startTransition=function(h){return this.failIfTransitionOngoing(),this.validateTransition(h),this.onGoingTransactionNewState=h,this},d.prototype.execute=function(){if(this.onGoingTransactionNewState===Ut.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var h=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Ut.UNKNOWN,this.directTransition(h)},d.prototype.cancel=function(){if(this.onGoingTransactionNewState===Ut.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Ut.UNKNOWN},d.prototype.getState=function(){return this.state},d.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Ut.UNKNOWN)throw"Cannot transition to a new state, already under transition"},d.prototype.validateTransition=function(h){switch(this.state){case Ut.UNKNOWN:throw"Transition from unknown is not allowed";case Ut.NOT_STARTED:this.failIfNewStateIs(h,[Ut.PAUSED]);break;case Ut.SCANNING:break;case Ut.PAUSED:break}},d.prototype.failIfNewStateIs=function(h,c){for(var m=0,E=c;m<E.length;m++){var w=E[m];if(h===w)throw"Cannot transition from ".concat(this.state," to ").concat(h)}},d}(),Jh=function(){function d(h){this.stateManager=h}return d.prototype.startTransition=function(h){return this.stateManager.startTransition(h)},d.prototype.directTransition=function(h){this.stateManager.directTransition(h)},d.prototype.getState=function(){return this.stateManager.getState()},d.prototype.canScanFile=function(){return this.stateManager.getState()===Ut.NOT_STARTED},d.prototype.isScanning=function(){return this.stateManager.getState()!==Ut.NOT_STARTED},d.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Ut.SCANNING},d.prototype.isPaused=function(){return this.stateManager.getState()===Ut.PAUSED},d}(),$h=function(){function d(){}return d.create=function(){return new Jh(new qh)},d}(),eg=function(){var d=function(h,c){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,E){m.__proto__=E}||function(m,E){for(var w in E)Object.prototype.hasOwnProperty.call(E,w)&&(m[w]=E[w])},d(h,c)};return function(h,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");d(h,c);function m(){this.constructor=h}h.prototype=c===null?Object.create(c):(m.prototype=c.prototype,new m)}}(),$n=function(d){eg(h,d);function h(){return d!==null&&d.apply(this,arguments)||this}return h.DEFAULT_WIDTH=300,h.DEFAULT_WIDTH_OFFSET=2,h.FILE_SCAN_MIN_HEIGHT=300,h.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,h.MIN_QR_BOX_SIZE=50,h.SHADED_LEFT=1,h.SHADED_RIGHT=2,h.SHADED_TOP=3,h.SHADED_BOTTOM=4,h.SHADED_REGION_ELEMENT_ID="qr-shaded-region",h.VERBOSE=!1,h.BORDER_SHADER_DEFAULT_COLOR="#ffffff",h.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",h}(Ir),tg=function(){function d(h,c){this.logger=c,this.fps=$n.SCAN_DEFAULT_FPS,h?(h.fps&&(this.fps=h.fps),this.disableFlip=h.disableFlip===!0,this.qrbox=h.qrbox,this.aspectRatio=h.aspectRatio,this.videoConstraints=h.videoConstraints):this.disableFlip=$n.DEFAULT_DISABLE_FLIP}return d.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Kf.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},d.prototype.isShadedBoxEnabled=function(){return!Fr(this.qrbox)},d.create=function(h,c){return new d(h,c)},d}(),mf=function(){function d(h,c){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(h))throw"HTML Element with id=".concat(h," not found");this.elementId=h,this.verbose=!1;var m;typeof c=="boolean"?this.verbose=c===!0:c&&(m=c,this.verbose=m.verbose===!0,m.experimentalFeatures),this.logger=new Qf(this.verbose),this.qrcode=new zh(this.getSupportedFormats(c),this.getUseBarCodeDetectorIfSupported(m),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=$h.create()}return d.prototype.start=function(h,c,m,E){var w=this;if(!h)throw"cameraIdOrConfig is required";if(!m||typeof m!="function")throw"qrCodeSuccessCallback is required and should be a function.";var v;E?v=E:v=this.verbose?this.logger.log:function(){};var M=tg.create(c,this.logger);this.clearElement();var F=!1;M.videoConstraints&&(M.isMediaStreamConstraintsValid()?F=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var S=F,D=document.getElementById(this.elementId);D.clientWidth?D.clientWidth:$n.DEFAULT_WIDTH,D.style.position="relative",this.shouldScan=!0,this.element=D;var b=this,le=this.stateManagerProxy.startTransition(Ut.SCANNING);return new Promise(function(ge,ue){var Q=S?M.videoConstraints:b.createVideoConstraints(h);if(!Q){le.cancel(),ue("videoConstraints should be defined");return}var q={};(!S||M.aspectRatio)&&(q.aspectRatio=M.aspectRatio);var Fe={onRenderSurfaceReady:function(Se,de){b.setupUi(Se,de,M),b.isScanning=!0,b.foreverScan(M,m,v)}};Yh.failIfNotSupported().then(function(Se){Se.create(Q).then(function(de){return de.render(w.element,q,Fe).then(function(Ne){b.renderedCamera=Ne,le.execute(),ge(null)}).catch(function(Ne){le.cancel(),ue(Ne)})}).catch(function(de){le.cancel(),ue(ks.errorGettingUserMedia(de))})}).catch(function(Se){le.cancel(),ue(ks.cameraStreamingNotSupported())})})},d.prototype.pause=function(h){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Ut.PAUSED),this.showPausedState(),(Fr(h)||h!==!0)&&(h=!1),h&&this.renderedCamera&&this.renderedCamera.pause()},d.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var h=this,c=function(){h.stateManagerProxy.directTransition(Ut.SCANNING),h.hidePausedState()};if(!this.renderedCamera.isPaused()){c();return}this.renderedCamera.resume(function(){c()})},d.prototype.getState=function(){return this.stateManagerProxy.getState()},d.prototype.stop=function(){var h=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var c=this.stateManagerProxy.startTransition(Ut.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var m=function(){if(h.element){var w=document.getElementById($n.SHADED_REGION_ELEMENT_ID);w&&h.element.removeChild(w)}},E=this;return this.renderedCamera.close().then(function(){return E.renderedCamera=null,E.element&&(E.element.removeChild(E.canvasElement),E.canvasElement=null),m(),E.qrRegion&&(E.qrRegion=null),E.context&&(E.context=null),c.execute(),E.hidePausedState(),E.isScanning=!1,Promise.resolve()})},d.prototype.scanFile=function(h,c){return this.scanFileV2(h,c).then(function(m){return m.decodedText})},d.prototype.scanFileV2=function(h,c){var m=this;if(!h||!(h instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Fr(c)&&(c=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(E,w){m.possiblyCloseLastScanImageFile(),m.clearElement(),m.lastScanImageFile=URL.createObjectURL(h);var v=new Image;v.onload=function(){var M=v.width,F=v.height,S=document.getElementById(m.elementId),D=S.clientWidth?S.clientWidth:$n.DEFAULT_WIDTH,b=Math.max(S.clientHeight?S.clientHeight:F,$n.FILE_SCAN_MIN_HEIGHT),le=m.computeCanvasDrawConfig(M,F,D,b);if(c){var ge=m.createCanvasElement(D,b,"qr-canvas-visible");ge.style.display="inline-block",S.appendChild(ge);var ue=ge.getContext("2d");if(!ue)throw"Unable to get 2d context from canvas";ue.canvas.width=D,ue.canvas.height=b,ue.drawImage(v,0,0,M,F,le.x,le.y,le.width,le.height)}var Q=$n.FILE_SCAN_HIDDEN_CANVAS_PADDING,q=Math.max(v.width,le.width),Fe=Math.max(v.height,le.height),Se=q+2*Q,de=Fe+2*Q,Ne=m.createCanvasElement(Se,de);S.appendChild(Ne);var nt=Ne.getContext("2d");if(!nt)throw"Unable to get 2d context from canvas";nt.canvas.width=Se,nt.canvas.height=de,nt.drawImage(v,0,0,M,F,Q,Q,q,Fe);try{m.qrcode.decodeRobustlyAsync(Ne).then(function(De){E(lf.createFromQrcodeResult(De))}).catch(w)}catch(De){w("QR code parse error, error = ".concat(De))}},v.onerror=w,v.onabort=w,v.onstalled=w,v.onsuspend=w,v.src=URL.createObjectURL(h)})},d.prototype.clear=function(){this.clearElement()},d.getCameras=function(){return Kh.retrieve()},d.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},d.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},d.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},d.prototype.applyVideoConstraints=function(h){if(h){if(!Kf.isMediaStreamConstraintsValid(h,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(h)},d.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},d.prototype.getSupportedFormats=function(h){var c=[ye.QR_CODE,ye.AZTEC,ye.CODABAR,ye.CODE_39,ye.CODE_93,ye.CODE_128,ye.DATA_MATRIX,ye.MAXICODE,ye.ITF,ye.EAN_13,ye.EAN_8,ye.PDF_417,ye.RSS_14,ye.RSS_EXPANDED,ye.UPC_A,ye.UPC_E,ye.UPC_EAN_EXTENSION];if(!h||typeof h=="boolean"||!h.formatsToSupport)return c;if(!Array.isArray(h.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(h.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var m=[],E=0,w=h.formatsToSupport;E<w.length;E++){var v=w[E];Dh(v)?m.push(v):this.logger.warn("Invalid format: ".concat(v," passed in config, ignoring."))}if(m.length===0)throw"None of formatsToSupport match supported values.";return m},d.prototype.getUseBarCodeDetectorIfSupported=function(h){if(Fr(h))return!0;if(!Fr(h.useBarCodeDetectorIfSupported))return h.useBarCodeDetectorIfSupported!==!1;if(Fr(h.experimentalFeatures))return!0;var c=h.experimentalFeatures;return Fr(c.useBarCodeDetectorIfSupported)?!0:c.useBarCodeDetectorIfSupported!==!1},d.prototype.validateQrboxSize=function(h,c,m){var E=this,w=m.qrbox;this.validateQrboxConfig(w);var v=this.toQrdimensions(h,c,w),M=function(S){if(S<$n.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat($n.MIN_QR_BOX_SIZE,"px.")},F=function(S){return S>h&&(E.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),S=h),S};M(v.width),M(v.height),v.width=F(v.width)},d.prototype.validateQrboxConfig=function(h){if(typeof h!="number"&&typeof h!="function"&&(h.width===void 0||h.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},d.prototype.toQrdimensions=function(h,c,m){if(typeof m=="number")return{width:m,height:m};if(typeof m=="function")try{return m(h,c)}catch(E){throw new Error("qrbox config was passed as a function but it failed with unknown error"+E)}return m},d.prototype.setupUi=function(h,c,m){m.isShadedBoxEnabled()&&this.validateQrboxSize(h,c,m);var E=Fr(m.qrbox)?{width:h,height:c}:m.qrbox;this.validateQrboxConfig(E);var w=this.toQrdimensions(h,c,E);w.height>c&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var v=m.isShadedBoxEnabled()&&w.height<=c,M={x:0,y:0,width:h,height:c},F=v?this.getShadedRegionBounds(h,c,w):M,S=this.createCanvasElement(F.width,F.height),D={willReadFrequently:!0},b=S.getContext("2d",D);b.canvas.width=F.width,b.canvas.height=F.height,this.element.append(S),v&&this.possiblyInsertShadingElement(this.element,h,c,w),this.createScannerPausedUiElement(this.element),this.qrRegion=F,this.context=b,this.canvasElement=S},d.prototype.createScannerPausedUiElement=function(h){var c=document.createElement("div");c.innerText=ks.scannerPaused(),c.style.display="none",c.style.position="absolute",c.style.top="0px",c.style.zIndex="1",c.style.background="rgba(9, 9, 9, 0.46)",c.style.color="#FFECEC",c.style.textAlign="center",c.style.width="100%",h.appendChild(c),this.scannerPausedUiElement=c},d.prototype.scanContext=function(h,c){var m=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(E){return h(E.text,lf.createFromQrcodeResult(E)),m.possiblyUpdateShaders(!0),!0}).catch(function(E){m.possiblyUpdateShaders(!1);var w=ks.codeParseError(E);return c(w,Zf.createFrom(w)),!1})},d.prototype.foreverScan=function(h,c,m){var E=this;if(this.shouldScan&&this.renderedCamera){var w=this.renderedCamera.getSurface(),v=w.videoWidth/w.clientWidth,M=w.videoHeight/w.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var F=this.qrRegion.width*v,S=this.qrRegion.height*M,D=this.qrRegion.x*v,b=this.qrRegion.y*M;this.context.drawImage(w,D,b,F,S,0,0,this.qrRegion.width,this.qrRegion.height);var le=function(){E.foreverScanTimeout=setTimeout(function(){E.foreverScan(h,c,m)},E.getTimeoutFps(h.fps))};this.scanContext(c,m).then(function(ge){!ge&&h.disableFlip!==!0?(E.context.translate(E.context.canvas.width,0),E.context.scale(-1,1),E.scanContext(c,m).finally(function(){le()})):le()}).catch(function(ge){E.logger.logError("Error happend while scanning context",ge),le()})}},d.prototype.createVideoConstraints=function(h){if(typeof h=="string")return{deviceId:{exact:h}};if(typeof h=="object"){var c="facingMode",m="deviceId",E={user:!0,environment:!0},w="exact",v=function(ue){if(ue in E)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(ue,"'")},M=Object.keys(h);if(M.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(M.length," keys");var F=Object.keys(h)[0];if(F!==c&&F!==m)throw"Only '".concat(c,"' and '").concat(m,"' ")+" are supported for 'cameraIdOrConfig'";if(F===c){var S=h.facingMode;if(typeof S=="string"){if(v(S))return{facingMode:S}}else if(typeof S=="object")if(w in S){if(v(S["".concat(w)]))return{facingMode:{exact:S["".concat(w)]}}}else throw"'facingMode' should be string or object with"+" ".concat(w," as key.");else{var D=typeof S;throw"Invalid type of 'facingMode' = ".concat(D)}}else{var b=h.deviceId;if(typeof b=="string")return{deviceId:b};if(typeof b=="object"){if(w in b)return{deviceId:{exact:b["".concat(w)]}};throw"'deviceId' should be string or object with"+" ".concat(w," as key.")}else{var le=typeof b;throw"Invalid type of 'deviceId' = ".concat(le)}}}var ge=typeof h;throw"Invalid type of 'cameraIdOrConfig' = ".concat(ge)},d.prototype.computeCanvasDrawConfig=function(h,c,m,E){if(h<=m&&c<=E){var w=(m-h)/2,v=(E-c)/2;return{x:w,y:v,width:h,height:c}}else{var M=h,F=c;return h>m&&(c=m/h*c,h=m),c>E&&(h=E/c*h,c=E),this.logger.log("Image downsampled from "+"".concat(M,"X").concat(F)+" to ".concat(h,"X").concat(c,".")),this.computeCanvasDrawConfig(h,c,m,E)}},d.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var h=document.getElementById(this.elementId);h&&(h.innerHTML="")},d.prototype.possiblyUpdateShaders=function(h){this.qrMatch!==h&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(c){c.style.backgroundColor=h?$n.BORDER_SHADER_MATCH_COLOR:$n.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=h)},d.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},d.prototype.createCanvasElement=function(h,c,m){var E=h,w=c,v=document.createElement("canvas");return v.style.width="".concat(E,"px"),v.style.height="".concat(w,"px"),v.style.display="none",v.id=Fr(m)?"qr-canvas":m,v},d.prototype.getShadedRegionBounds=function(h,c,m){if(m.width>h||m.height>c)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(h-m.width)/2,y:(c-m.height)/2,width:m.width,height:m.height}},d.prototype.possiblyInsertShadingElement=function(h,c,m,E){if(!(c-E.width<1||m-E.height<1)){var w=document.createElement("div");w.style.position="absolute";var v=(c-E.width)/2,M=(m-E.height)/2;if(w.style.borderLeft="".concat(v,"px solid rgba(0, 0, 0, 0.48)"),w.style.borderRight="".concat(v,"px solid rgba(0, 0, 0, 0.48)"),w.style.borderTop="".concat(M,"px solid rgba(0, 0, 0, 0.48)"),w.style.borderBottom="".concat(M,"px solid rgba(0, 0, 0, 0.48)"),w.style.boxSizing="border-box",w.style.top="0px",w.style.bottom="0px",w.style.left="0px",w.style.right="0px",w.id="".concat($n.SHADED_REGION_ELEMENT_ID),c-E.width<11||m-E.height<11)this.hasBorderShaders=!1;else{var F=5,S=40;this.insertShaderBorders(w,S,F,-F,null,0,!0),this.insertShaderBorders(w,S,F,-F,null,0,!1),this.insertShaderBorders(w,S,F,null,-F,0,!0),this.insertShaderBorders(w,S,F,null,-F,0,!1),this.insertShaderBorders(w,F,S+F,-F,null,-F,!0),this.insertShaderBorders(w,F,S+F,null,-F,-F,!0),this.insertShaderBorders(w,F,S+F,-F,null,-F,!1),this.insertShaderBorders(w,F,S+F,null,-F,-F,!1),this.hasBorderShaders=!0}h.append(w)}},d.prototype.insertShaderBorders=function(h,c,m,E,w,v,M){var F=document.createElement("div");F.style.position="absolute",F.style.backgroundColor=$n.BORDER_SHADER_DEFAULT_COLOR,F.style.width="".concat(c,"px"),F.style.height="".concat(m,"px"),E!==null&&(F.style.top="".concat(E,"px")),w!==null&&(F.style.bottom="".concat(w,"px")),M?F.style.left="".concat(v,"px"):F.style.right="".concat(v,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(F),h.appendChild(F)},d.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},d.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},d.prototype.getTimeoutFps=function(h){return 1e3/h},d}(),Hu="data:image/svg+xml;base64,",ng=Hu+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",rg=Hu+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",wf=Hu+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",ig="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",yf=function(){function d(){}return d.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},d}(),sg=function(){function d(){this.data=yf.createDefault();var h=localStorage.getItem(d.LOCAL_STORAGE_KEY);h?this.data=JSON.parse(h):this.reset()}return d.prototype.hasCameraPermissions=function(){return this.data.hasPermission},d.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},d.prototype.setHasPermission=function(h){this.data.hasPermission=h,this.flush()},d.prototype.setLastUsedCameraId=function(h){this.data.lastUsedCameraId=h,this.flush()},d.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},d.prototype.reset=function(){this.data=yf.createDefault(),this.flush()},d.prototype.flush=function(){localStorage.setItem(d.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},d.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",d}(),og=function(){function d(){this.infoDiv=document.createElement("div")}return d.prototype.renderInto=function(h){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=uf.poweredBy();var c=document.createElement("a");c.innerText="ScanApp",c.href="https://scanapp.org",c.target="new",c.style.color="white",this.infoDiv.appendChild(c);var m=document.createElement("br"),E=document.createElement("br");this.infoDiv.appendChild(m),this.infoDiv.appendChild(E);var w=document.createElement("a");w.innerText=uf.reportIssues(),w.href="https://github.com/mebjas/html5-qrcode/issues",w.target="new",w.style.color="white",this.infoDiv.appendChild(w),h.appendChild(this.infoDiv)},d.prototype.show=function(){this.infoDiv.style.display="block"},d.prototype.hide=function(){this.infoDiv.style.display="none"},d}(),ag=function(){function d(h,c){this.isShowingInfoIcon=!0,this.onTapIn=h,this.onTapOut=c,this.infoIcon=document.createElement("img")}return d.prototype.renderInto=function(h){var c=this;this.infoIcon.alt="Info icon",this.infoIcon.src=wf,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(m){return c.onHoverIn()},this.infoIcon.onmouseout=function(m){return c.onHoverOut()},this.infoIcon.onclick=function(m){return c.onClick()},h.appendChild(this.infoIcon)},d.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},d.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},d.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=ig,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=wf,this.infoIcon.style.opacity="0.6")},d}(),lg=function(){function d(){var h=this;this.infoDiv=new og,this.infoIcon=new ag(function(){h.infoDiv.show()},function(){h.infoDiv.hide()})}return d.prototype.renderInto=function(h){this.infoDiv.renderInto(h),this.infoIcon.renderInto(h)},d}(),ug=function(d,h,c,m){function E(w){return w instanceof c?w:new c(function(v){v(w)})}return new(c||(c=Promise))(function(w,v){function M(D){try{S(m.next(D))}catch(b){v(b)}}function F(D){try{S(m.throw(D))}catch(b){v(b)}}function S(D){D.done?w(D.value):E(D.value).then(M,F)}S((m=m.apply(d,h||[])).next())})},cg=function(d,h){var c={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},m,E,w,v;return v={next:M(0),throw:M(1),return:M(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function M(S){return function(D){return F([S,D])}}function F(S){if(m)throw new TypeError("Generator is already executing.");for(;v&&(v=0,S[0]&&(c=0)),c;)try{if(m=1,E&&(w=S[0]&2?E.return:S[0]?E.throw||((w=E.return)&&w.call(E),0):E.next)&&!(w=w.call(E,S[1])).done)return w;switch(E=0,w&&(S=[S[0]&2,w.value]),S[0]){case 0:case 1:w=S;break;case 4:return c.label++,{value:S[1],done:!1};case 5:c.label++,E=S[1],S=[0];continue;case 7:S=c.ops.pop(),c.trys.pop();continue;default:if(w=c.trys,!(w=w.length>0&&w[w.length-1])&&(S[0]===6||S[0]===2)){c=0;continue}if(S[0]===3&&(!w||S[1]>w[0]&&S[1]<w[3])){c.label=S[1];break}if(S[0]===6&&c.label<w[1]){c.label=w[1],w=S;break}if(w&&c.label<w[2]){c.label=w[2],c.ops.push(S);break}w[2]&&c.ops.pop(),c.trys.pop();continue}S=h.call(d,c)}catch(D){S=[6,D],E=0}finally{m=w=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}},Ef=function(){function d(){}return d.hasPermissions=function(){return ug(this,void 0,void 0,function(){var h,c,m,E;return cg(this,function(w){switch(w.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(h=w.sent(),c=0,m=h;c<m.length;c++)if(E=m[c],E.kind==="videoinput"&&E.label)return[2,!0];return[2,!1]}})})},d}(),_i=function(){function d(h){this.supportedScanTypes=this.validateAndReturnScanTypes(h)}return d.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},d.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},d.prototype.isCameraScanRequired=function(){for(var h=0,c=this.supportedScanTypes;h<c.length;h++){var m=c[h];if(d.isCameraScanType(m))return!0}return!1},d.isCameraScanType=function(h){return h===Oi.SCAN_TYPE_CAMERA},d.isFileScanType=function(h){return h===Oi.SCAN_TYPE_FILE},d.prototype.validateAndReturnScanTypes=function(h){if(!h||h.length===0)return Ir.DEFAULT_SUPPORTED_SCAN_TYPE;var c=Ir.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(h.length>c)throw"Max ".concat(c," values expected for ")+"supportedScanTypes";for(var m=0,E=h;m<E.length;m++){var w=E[m];if(!Ir.DEFAULT_SUPPORTED_SCAN_TYPE.includes(w))throw"Unsupported scan type ".concat(w)}return h},d}(),tr=function(){function d(){}return d.ALL_ELEMENT_CLASS="html5-qrcode-element",d.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",d.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",d.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",d.TORCH_BUTTON_ID="html5-qrcode-button-torch",d.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",d.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",d.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",d.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",d.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",d.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",d}(),$r=function(){function d(){}return d.createElement=function(h,c){var m=document.createElement(h);return m.id=c,m.classList.add(tr.ALL_ELEMENT_CLASS),h==="button"&&m.setAttribute("type","button"),m},d}(),Jf=function(d,h,c,m){function E(w){return w instanceof c?w:new c(function(v){v(w)})}return new(c||(c=Promise))(function(w,v){function M(D){try{S(m.next(D))}catch(b){v(b)}}function F(D){try{S(m.throw(D))}catch(b){v(b)}}function S(D){D.done?w(D.value):E(D.value).then(M,F)}S((m=m.apply(d,h||[])).next())})},$f=function(d,h){var c={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},m,E,w,v;return v={next:M(0),throw:M(1),return:M(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function M(S){return function(D){return F([S,D])}}function F(S){if(m)throw new TypeError("Generator is already executing.");for(;v&&(v=0,S[0]&&(c=0)),c;)try{if(m=1,E&&(w=S[0]&2?E.return:S[0]?E.throw||((w=E.return)&&w.call(E),0):E.next)&&!(w=w.call(E,S[1])).done)return w;switch(E=0,w&&(S=[S[0]&2,w.value]),S[0]){case 0:case 1:w=S;break;case 4:return c.label++,{value:S[1],done:!1};case 5:c.label++,E=S[1],S=[0];continue;case 7:S=c.ops.pop(),c.trys.pop();continue;default:if(w=c.trys,!(w=w.length>0&&w[w.length-1])&&(S[0]===6||S[0]===2)){c=0;continue}if(S[0]===3&&(!w||S[1]>w[0]&&S[1]<w[3])){c.label=S[1];break}if(S[0]===6&&c.label<w[1]){c.label=w[1],w=S;break}if(w&&c.label<w[2]){c.label=w[2],c.ops.push(S);break}w[2]&&c.ops.pop(),c.trys.pop();continue}S=h.call(d,c)}catch(D){S=[6,D],E=0}finally{m=w=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}},Cf=function(){function d(h,c,m){this.isTorchOn=!1,this.torchCapability=h,this.buttonController=c,this.onTorchActionFailureCallback=m}return d.prototype.isTorchEnabled=function(){return this.isTorchOn},d.prototype.flipState=function(){return Jf(this,void 0,void 0,function(){var h,c;return $f(this,function(m){switch(m.label){case 0:this.buttonController.disable(),h=!this.isTorchOn,m.label=1;case 1:return m.trys.push([1,3,,4]),[4,this.torchCapability.apply(h)];case 2:return m.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),h),[3,4];case 3:return c=m.sent(),this.propagateFailure(h,c),this.buttonController.enable(),[3,4];case 4:return[2]}})})},d.prototype.updateUiBasedOnLatestSettings=function(h,c){h===c?(this.buttonController.setText(c?mt.torchOffButton():mt.torchOnButton()),this.isTorchOn=c):this.propagateFailure(c),this.buttonController.enable()},d.prototype.propagateFailure=function(h,c){var m=h?mt.torchOnFailedMessage():mt.torchOffFailedMessage();c&&(m+="; Error = "+c),this.onTorchActionFailureCallback(m)},d.prototype.reset=function(){this.isTorchOn=!1},d}(),fg=function(){function d(h,c){this.onTorchActionFailureCallback=c,this.torchButton=$r.createElement("button",tr.TORCH_BUTTON_ID),this.torchController=new Cf(h,this,c)}return d.prototype.render=function(h,c){var m=this;this.torchButton.innerText=mt.torchOnButton(),this.torchButton.style.display=c.display,this.torchButton.style.marginLeft=c.marginLeft;var E=this;this.torchButton.addEventListener("click",function(w){return Jf(m,void 0,void 0,function(){return $f(this,function(v){switch(v.label){case 0:return[4,E.torchController.flipState()];case 1:return v.sent(),E.torchController.isTorchEnabled()?(E.torchButton.classList.remove(tr.TORCH_BUTTON_CLASS_TORCH_OFF),E.torchButton.classList.add(tr.TORCH_BUTTON_CLASS_TORCH_ON)):(E.torchButton.classList.remove(tr.TORCH_BUTTON_CLASS_TORCH_ON),E.torchButton.classList.add(tr.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),h.appendChild(this.torchButton)},d.prototype.updateTorchCapability=function(h){this.torchController=new Cf(h,this,this.onTorchActionFailureCallback)},d.prototype.getTorchButton=function(){return this.torchButton},d.prototype.hide=function(){this.torchButton.style.display="none"},d.prototype.show=function(){this.torchButton.style.display="inline-block"},d.prototype.disable=function(){this.torchButton.disabled=!0},d.prototype.enable=function(){this.torchButton.disabled=!1},d.prototype.setText=function(h){this.torchButton.innerText=h},d.prototype.reset=function(){this.torchButton.innerText=mt.torchOnButton(),this.torchController.reset()},d.create=function(h,c,m,E){var w=new d(c,E);return w.render(h,m),w},d}(),dg=function(){function d(h,c,m){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=c?"block":"none",h.appendChild(this.fileBasedScanRegion);var E=document.createElement("label");E.setAttribute("for",this.getFileScanInputId()),E.style.display="inline-block",this.fileBasedScanRegion.appendChild(E),this.fileSelectionButton=$r.createElement("button",tr.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(M){E.click()}),E.append(this.fileSelectionButton),this.fileScanInput=$r.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",E.appendChild(this.fileScanInput);var w=this;this.fileScanInput.addEventListener("change",function(M){if(!(M==null||M.target==null)){var F=M.target;if(!(F.files&&F.files.length===0)){var S=F.files,D=S[0],b=D.name;w.setImageNameToButton(b),m(D)}}});var v=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(v),this.fileBasedScanRegion.addEventListener("dragenter",function(M){w.fileBasedScanRegion.style.border=w.fileBasedScanRegionActiveBorder(),M.stopPropagation(),M.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(M){w.fileBasedScanRegion.style.border=w.fileBasedScanRegionDefaultBorder(),M.stopPropagation(),M.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(M){w.fileBasedScanRegion.style.border=w.fileBasedScanRegionActiveBorder(),M.stopPropagation(),M.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(M){M.stopPropagation(),M.preventDefault(),w.fileBasedScanRegion.style.border=w.fileBasedScanRegionDefaultBorder();var F=M.dataTransfer;if(F){var S=F.files;if(!S||S.length===0)return;for(var D=!1,b=0;b<S.length;++b){var le=S.item(b);if(le){var ge=/image.*/;if(le.type.match(ge)){D=!0;var ue=le.name;w.setImageNameToButton(ue),m(le),v.innerText=mt.dragAndDropMessage();break}}}D||(v.innerText=mt.dragAndDropMessageOnlyImages())}})}return d.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},d.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},d.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},d.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},d.prototype.createFileBasedScanRegion=function(){var h=document.createElement("div");return h.style.textAlign="center",h.style.margin="auto",h.style.width="80%",h.style.maxWidth="600px",h.style.border=this.fileBasedScanRegionDefaultBorder(),h.style.padding="10px",h.style.marginBottom="10px",h},d.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},d.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},d.prototype.createDragAndDropMessage=function(){var h=document.createElement("div");return h.innerText=mt.dragAndDropMessage(),h.style.fontWeight="400",h},d.prototype.setImageNameToButton=function(h){var c=20;if(h.length>c){var m=h.substring(0,8),E=h.length,w=h.substring(E-8,E);h="".concat(m,"....").concat(w)}var v=mt.fileSelectionChooseAnother()+" - "+h;this.fileSelectionButton.innerText=v},d.prototype.setInitialValueToButton=function(){var h=mt.fileSelectionChooseImage()+" - "+mt.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=h},d.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},d.create=function(h,c,m){var E=new d(h,c,m);return E},d}(),hg=function(){function d(h){this.selectElement=$r.createElement("select",tr.CAMERA_SELECTION_SELECT_ID),this.cameras=h,this.options=[]}return d.prototype.render=function(h){var c=document.createElement("span");c.style.marginRight="10px";var m=this.cameras.length;if(m===0)throw new Error("No cameras found");if(m===1)c.style.display="none";else{var E=mt.selectCamera();c.innerText="".concat(E," (").concat(this.cameras.length,")  ")}for(var w=1,v=0,M=this.cameras;v<M.length;v++){var F=M[v],S=F.id,D=F.label==null?S:F.label;(!D||D==="")&&(D=[mt.anonymousCameraPrefix(),w++].join(" "));var b=document.createElement("option");b.value=S,b.innerText=D,this.options.push(b),this.selectElement.appendChild(b)}c.appendChild(this.selectElement),h.appendChild(c)},d.prototype.disable=function(){this.selectElement.disabled=!0},d.prototype.isDisabled=function(){return this.selectElement.disabled===!0},d.prototype.enable=function(){this.selectElement.disabled=!1},d.prototype.getValue=function(){return this.selectElement.value},d.prototype.hasValue=function(h){for(var c=0,m=this.options;c<m.length;c++){var E=m[c];if(E.value===h)return!0}return!1},d.prototype.setValue=function(h){if(!this.hasValue(h))throw new Error("".concat(h," is not present in the camera list."));this.selectElement.value=h},d.prototype.hasSingleItem=function(){return this.cameras.length===1},d.prototype.numCameras=function(){return this.cameras.length},d.create=function(h,c){var m=new d(c);return m.render(h),m},d}(),gg=function(){function d(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=$r.createElement("input",tr.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return d.prototype.render=function(h,c){this.zoomElementContainer.style.display=c?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",h.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var m=mt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(m),this.rangeText.style.marginRight="10px";var E=this;this.rangeInput.addEventListener("input",function(){return E.onValueChange()}),this.rangeInput.addEventListener("change",function(){return E.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},d.prototype.onValueChange=function(){var h=mt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(h),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},d.prototype.setValues=function(h,c,m,E){this.rangeInput.min=h.toString(),this.rangeInput.max=c.toString(),this.rangeInput.step=E.toString(),this.rangeInput.value=m.toString(),this.onValueChange()},d.prototype.show=function(){this.zoomElementContainer.style.display="block"},d.prototype.hide=function(){this.zoomElementContainer.style.display="none"},d.prototype.setOnCameraZoomValueChangeCallback=function(h){this.onChangeCallback=h},d.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},d.create=function(h,c){var m=new d;return m.render(h,c),m},d}(),er;(function(d){d[d.STATUS_DEFAULT=0]="STATUS_DEFAULT",d[d.STATUS_SUCCESS=1]="STATUS_SUCCESS",d[d.STATUS_WARNING=2]="STATUS_WARNING",d[d.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(er||(er={}));function pg(d){return{fps:d.fps,qrbox:d.qrbox,aspectRatio:d.aspectRatio,disableFlip:d.disableFlip,videoConstraints:d.videoConstraints}}function xg(d,h){return{formatsToSupport:d.formatsToSupport,useBarCodeDetectorIfSupported:d.useBarCodeDetectorIfSupported,experimentalFeatures:d.experimentalFeatures,verbose:h}}var Fg=function(){function d(h,c,m){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=h,this.config=this.createConfig(c),this.verbose=m===!0,!document.getElementById(h))throw"HTML Element with id=".concat(h," not found");this.scanTypeSelector=new _i(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new Qf(this.verbose),this.persistedDataManager=new sg,c.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return d.prototype.render=function(h,c){var m=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(w,v){if(h)h(w,v);else{if(m.lastMatchFound===w)return;m.lastMatchFound=w,m.setHeaderMessage(mt.lastMatch(w),er.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(w,v){c&&c(w,v)};var E=document.getElementById(this.elementId);if(!E)throw"HTML Element with id=".concat(this.elementId," not found");E.innerHTML="",this.createBasicLayout(E),this.html5Qrcode=new mf(this.getScanRegionId(),xg(this.config,this.verbose))},d.prototype.pause=function(h){(Fr(h)||h!==!0)&&(h=!1),this.getHtml5QrcodeOrFail().pause(h)},d.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},d.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},d.prototype.clear=function(){var h=this,c=function(){var m=document.getElementById(h.elementId);m&&(m.innerHTML="",h.resetBasicLayout(m))};return this.html5Qrcode?new Promise(function(m,E){if(!h.html5Qrcode){m();return}h.html5Qrcode.isScanning?h.html5Qrcode.stop().then(function(w){if(!h.html5Qrcode){m();return}h.html5Qrcode.clear(),c(),m()}).catch(function(w){h.verbose&&h.logger.logError("Unable to stop qrcode scanner",w),E(w)}):(h.html5Qrcode.clear(),c(),m())}):Promise.resolve()},d.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},d.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},d.prototype.applyVideoConstraints=function(h){return this.getHtml5QrcodeOrFail().applyVideoConstraints(h)},d.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},d.prototype.createConfig=function(h){return h?(h.fps||(h.fps=Ir.SCAN_DEFAULT_FPS),h.rememberLastUsedCamera!==!Ir.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(h.rememberLastUsedCamera=Ir.DEFAULT_REMEMBER_LAST_CAMERA_USED),h.supportedScanTypes||(h.supportedScanTypes=Ir.DEFAULT_SUPPORTED_SCAN_TYPE),h):{fps:Ir.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Ir.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Ir.DEFAULT_SUPPORTED_SCAN_TYPE}},d.prototype.createBasicLayout=function(h){h.style.position="relative",h.style.padding="0px",h.style.border="1px solid silver",this.createHeader(h);var c=document.createElement("div"),m=this.getScanRegionId();c.id=m,c.style.width="100%",c.style.minHeight="100px",c.style.textAlign="center",h.appendChild(c),_i.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var E=document.createElement("div"),w=this.getDashboardId();E.id=w,E.style.width="100%",h.appendChild(E),this.setupInitialDashboard(E)},d.prototype.resetBasicLayout=function(h){h.style.border="none"},d.prototype.setupInitialDashboard=function(h){this.createSection(h),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},d.prototype.createHeader=function(h){var c=document.createElement("div");c.style.textAlign="left",c.style.margin="0px",h.appendChild(c);var m=new lg;m.renderInto(c);var E=document.createElement("div");E.id=this.getHeaderMessageContainerId(),E.style.display="none",E.style.textAlign="center",E.style.fontSize="14px",E.style.padding="2px 10px",E.style.margin="4px",E.style.borderTop="1px solid #f6f6f6",c.appendChild(E)},d.prototype.createSection=function(h){var c=document.createElement("div");c.id=this.getDashboardSectionId(),c.style.width="100%",c.style.padding="10px 0px 10px 0px",c.style.textAlign="left",h.appendChild(c)},d.prototype.createCameraListUi=function(h,c,m){var E=this;E.showHideScanTypeSwapLink(!1),E.setHeaderMessage(mt.cameraPermissionRequesting());var w=function(){m||E.createPermissionButton(h,c)};mf.getCameras().then(function(v){E.persistedDataManager.setHasPermission(!0),E.showHideScanTypeSwapLink(!0),E.resetHeaderMessage(),v&&v.length>0?(h.removeChild(c),E.renderCameraSelection(v)):(E.setHeaderMessage(mt.noCameraFound(),er.STATUS_WARNING),w())}).catch(function(v){E.persistedDataManager.setHasPermission(!1),m?m.disabled=!1:w(),E.setHeaderMessage(v,er.STATUS_WARNING),E.showHideScanTypeSwapLink(!0)})},d.prototype.createPermissionButton=function(h,c){var m=this,E=$r.createElement("button",this.getCameraPermissionButtonId());E.innerText=mt.cameraPermissionTitle(),E.addEventListener("click",function(){E.disabled=!0,m.createCameraListUi(h,c,E)}),c.appendChild(E)},d.prototype.createPermissionsUi=function(h,c){var m=this;if(_i.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){Ef.hasPermissions().then(function(E){E?m.createCameraListUi(h,c):(m.persistedDataManager.setHasPermission(!1),m.createPermissionButton(h,c))}).catch(function(E){m.persistedDataManager.setHasPermission(!1),m.createPermissionButton(h,c)});return}this.createPermissionButton(h,c)},d.prototype.createSectionControlPanel=function(){var h=document.getElementById(this.getDashboardSectionId()),c=document.createElement("div");h.appendChild(c);var m=document.createElement("div");m.id=this.getDashboardSectionCameraScanRegionId(),m.style.display=_i.isCameraScanType(this.currentScanType)?"block":"none",c.appendChild(m);var E=document.createElement("div");E.style.textAlign="center",m.appendChild(E),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(m,E),this.renderFileScanUi(c)},d.prototype.renderFileScanUi=function(h){var c=_i.isFileScanType(this.currentScanType),m=this,E=function(w){if(!m.html5Qrcode)throw"html5Qrcode not defined";_i.isFileScanType(m.currentScanType)&&(m.setHeaderMessage(mt.loadingImage()),m.html5Qrcode.scanFileV2(w,!0).then(function(v){m.resetHeaderMessage(),m.qrCodeSuccessCallback(v.decodedText,v)}).catch(function(v){m.setHeaderMessage(v,er.STATUS_WARNING),m.qrCodeErrorCallback(v,Zf.createFrom(v))}))};this.fileSelectionUi=dg.create(h,c,E)},d.prototype.renderCameraSelection=function(h){var c=this,m=this,E=document.getElementById(this.getDashboardSectionCameraScanRegionId());E.style.textAlign="center";var w=gg.create(E,!1),v=function(Q){var q=Q.zoomFeature();if(q.isSupported()){w.setOnCameraZoomValueChangeCallback(function(Se){q.apply(Se)});var Fe=1;c.config.defaultZoomValueIfSupported&&(Fe=c.config.defaultZoomValueIfSupported),Fe=bh(Fe,q.min(),q.max()),w.setValues(q.min(),q.max(),Fe,q.step()),w.show()}},M=hg.create(E,h),F=document.createElement("span"),S=$r.createElement("button",tr.CAMERA_START_BUTTON_ID);S.innerText=mt.scanButtonStartScanningText(),F.appendChild(S);var D=$r.createElement("button",tr.CAMERA_STOP_BUTTON_ID);D.innerText=mt.scanButtonStopScanningText(),D.style.display="none",D.disabled=!0,F.appendChild(D);var b,le=function(Q){if(!Q.torchFeature().isSupported()){b&&b.hide();return}b?b.updateTorchCapability(Q.torchFeature()):b=fg.create(F,Q.torchFeature(),{display:"none",marginLeft:"5px"},function(q){m.setHeaderMessage(q,er.STATUS_WARNING)}),b.show()};E.appendChild(F);var ge=function(Q){Q||(S.style.display="none"),S.innerText=mt.scanButtonStartScanningText(),S.style.opacity="1",S.disabled=!1,Q&&(S.style.display="inline-block")};if(S.addEventListener("click",function(Q){S.innerText=mt.scanButtonScanningStarting(),M.disable(),S.disabled=!0,S.style.opacity="0.5",c.scanTypeSelector.hasMoreThanOneScanType()&&m.showHideScanTypeSwapLink(!1),m.resetHeaderMessage();var q=M.getValue();m.persistedDataManager.setLastUsedCameraId(q),m.html5Qrcode.start(q,pg(m.config),m.qrCodeSuccessCallback,m.qrCodeErrorCallback).then(function(Fe){D.disabled=!1,D.style.display="inline-block",ge(!1);var Se=m.html5Qrcode.getRunningTrackCameraCapabilities();c.config.showTorchButtonIfSupported===!0&&le(Se),c.config.showZoomSliderIfSupported===!0&&v(Se)}).catch(function(Fe){m.showHideScanTypeSwapLink(!0),M.enable(),ge(!0),m.setHeaderMessage(Fe,er.STATUS_WARNING)})}),M.hasSingleItem()&&S.click(),D.addEventListener("click",function(Q){if(!m.html5Qrcode)throw"html5Qrcode not defined";D.disabled=!0,m.html5Qrcode.stop().then(function(q){c.scanTypeSelector.hasMoreThanOneScanType()&&m.showHideScanTypeSwapLink(!0),M.enable(),S.disabled=!1,D.style.display="none",S.style.display="inline-block",b&&(b.reset(),b.hide()),w.removeOnCameraZoomValueChangeCallback(),w.hide(),m.insertCameraScanImageToScanRegion()}).catch(function(q){D.disabled=!1,m.setHeaderMessage(q,er.STATUS_WARNING)})}),m.persistedDataManager.getLastUsedCameraId()){var ue=m.persistedDataManager.getLastUsedCameraId();M.hasValue(ue)?(M.setValue(ue),S.click()):m.persistedDataManager.resetLastUsedCameraId()}},d.prototype.createSectionSwap=function(){var h=this,c=mt.textIfCameraScanSelected(),m=mt.textIfFileScanSelected(),E=document.getElementById(this.getDashboardSectionId()),w=document.createElement("div");w.style.textAlign="center";var v=$r.createElement("span",this.getDashboardSectionSwapLinkId());v.style.textDecoration="underline",v.style.cursor="pointer",v.innerText=_i.isCameraScanType(this.currentScanType)?c:m,v.addEventListener("click",function(){if(!h.sectionSwapAllowed){h.verbose&&h.logger.logError("Section swap called when not allowed");return}h.resetHeaderMessage(),h.fileSelectionUi.resetValue(),h.sectionSwapAllowed=!1,_i.isCameraScanType(h.currentScanType)?(h.clearScanRegion(),h.getCameraScanRegion().style.display="none",h.fileSelectionUi.show(),v.innerText=m,h.currentScanType=Oi.SCAN_TYPE_FILE,h.insertFileScanImageToScanRegion()):(h.clearScanRegion(),h.getCameraScanRegion().style.display="block",h.fileSelectionUi.hide(),v.innerText=c,h.currentScanType=Oi.SCAN_TYPE_CAMERA,h.insertCameraScanImageToScanRegion(),h.startCameraScanIfPermissionExistsOnSwap()),h.sectionSwapAllowed=!0}),w.appendChild(v),E.appendChild(w)},d.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var h=this,c=this;if(this.persistedDataManager.hasCameraPermissions()){Ef.hasPermissions().then(function(m){if(m){var E=document.getElementById(c.getCameraPermissionButtonId());if(!E)throw h.logger.logError("Permission button not found, fail;"),"Permission button not found";E.click()}else c.persistedDataManager.setHasPermission(!1)}).catch(function(m){c.persistedDataManager.setHasPermission(!1)});return}},d.prototype.resetHeaderMessage=function(){var h=document.getElementById(this.getHeaderMessageContainerId());h.style.display="none"},d.prototype.setHeaderMessage=function(h,c){c||(c=er.STATUS_DEFAULT);var m=this.getHeaderMessageDiv();switch(m.innerText=h,m.style.display="block",c){case er.STATUS_SUCCESS:m.style.background="rgba(106, 175, 80, 0.26)",m.style.color="#477735";break;case er.STATUS_WARNING:m.style.background="rgba(203, 36, 49, 0.14)",m.style.color="#cb2431";break;case er.STATUS_DEFAULT:default:m.style.background="rgba(0, 0, 0, 0)",m.style.color="rgb(17, 17, 17)";break}},d.prototype.showHideScanTypeSwapLink=function(h){this.scanTypeSelector.hasMoreThanOneScanType()&&(h!==!0&&(h=!1),this.sectionSwapAllowed=h,this.getDashboardSectionSwapLink().style.display=h?"inline-block":"none")},d.prototype.insertCameraScanImageToScanRegion=function(){var h=this,c=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){c.innerHTML="<br>",c.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(m){c.innerHTML="<br>",c.appendChild(h.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=ng,this.cameraScanImage.alt=mt.cameraScanAltText()},d.prototype.insertFileScanImageToScanRegion=function(){var h=this,c=document.getElementById(this.getScanRegionId());if(this.fileScanImage){c.innerHTML="<br>",c.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(m){c.innerHTML="<br>",c.appendChild(h.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=rg,this.fileScanImage.alt=mt.fileScanAltText()},d.prototype.clearScanRegion=function(){var h=document.getElementById(this.getScanRegionId());h.innerHTML=""},d.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},d.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},d.prototype.getDashboardSectionSwapLinkId=function(){return tr.SCAN_TYPE_CHANGE_ANCHOR_ID},d.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},d.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},d.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},d.prototype.getCameraPermissionButtonId=function(){return tr.CAMERA_PERMISSION_BUTTON_ID},d.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},d.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},d.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},d}();export{Fg as H,wg as R,Qt as a,yg as b,mg as j,Q0 as r};
